<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>nst: nst::XEventHandler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">nst
   </div>
   <div id="projectbrief">C++ wrapper for libX11</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classnst_1_1XEventHandler.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classnst_1_1XEventHandler-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">nst::XEventHandler Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of XEvent callback handlers.  
 <a href="classnst_1_1XEventHandler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9b9c23e526d6f697bc578f7df11f066c" id="r_a9b9c23e526d6f697bc578f7df11f066c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a9b9c23e526d6f697bc578f7df11f066c">XEventHandler</a> (<a class="el" href="classnst_1_1Nst.html">Nst</a> &amp;nst)</td></tr>
<tr class="separator:a9b9c23e526d6f697bc578f7df11f066c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a824f52e168d585c0ebc330dd48265a03" id="r_a824f52e168d585c0ebc330dd48265a03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a824f52e168d585c0ebc330dd48265a03">applyConfig</a> ()</td></tr>
<tr class="separator:a824f52e168d585c0ebc330dd48265a03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d9ef182c5ffbc919cc5c35d36d83a3a" id="r_a4d9ef182c5ffbc919cc5c35d36d83a3a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a4d9ef182c5ffbc919cc5c35d36d83a3a">checkEvents</a> ()</td></tr>
<tr class="memdesc:a4d9ef182c5ffbc919cc5c35d36d83a3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks for and processes X11 events.  <br /></td></tr>
<tr class="separator:a4d9ef182c5ffbc919cc5c35d36d83a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a937eb33ea9e811e14929c275b195a3ce" id="r_a937eb33ea9e811e14929c275b195a3ce"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a937eb33ea9e811e14929c275b195a3ce">process</a> ()</td></tr>
<tr class="memdesc:a937eb33ea9e811e14929c275b195a3ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes the currently set X11 event.  <br /></td></tr>
<tr class="separator:a937eb33ea9e811e14929c275b195a3ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1865c8c51e149ca6ed9e2f0ef15f6c4c" id="r_a1865c8c51e149ca6ed9e2f0ef15f6c4c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a1865c8c51e149ca6ed9e2f0ef15f6c4c">expose</a> ()</td></tr>
<tr class="separator:a1865c8c51e149ca6ed9e2f0ef15f6c4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aac7849ea057957748d290cf2c4d6a3ca" id="r_aac7849ea057957748d290cf2c4d6a3ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#aac7849ea057957748d290cf2c4d6a3ca">visibilityChange</a> (const xpp::VisibilityEvent &amp;)</td></tr>
<tr class="separator:aac7849ea057957748d290cf2c4d6a3ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0af0bd01fa54c2ff9bdbd3516b019e1" id="r_ae0af0bd01fa54c2ff9bdbd3516b019e1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#ae0af0bd01fa54c2ff9bdbd3516b019e1">unmap</a> ()</td></tr>
<tr class="separator:ae0af0bd01fa54c2ff9bdbd3516b019e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a379d627aed131719f581b5da7346de2c" id="r_a379d627aed131719f581b5da7346de2c"><td class="memItemLeft" align="right" valign="top">StopScrolling&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a379d627aed131719f581b5da7346de2c">keyPress</a> (const xpp::KeyEvent &amp;)</td></tr>
<tr class="separator:a379d627aed131719f581b5da7346de2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f3ceb40b52a7c905e442e904377fd15" id="r_a7f3ceb40b52a7c905e442e904377fd15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a7f3ceb40b52a7c905e442e904377fd15">clientMessage</a> (const xpp::ClientMessageEvent &amp;)</td></tr>
<tr class="separator:a7f3ceb40b52a7c905e442e904377fd15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95bcb0739daa5c58343a49bf1d0a3d80" id="r_a95bcb0739daa5c58343a49bf1d0a3d80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a95bcb0739daa5c58343a49bf1d0a3d80">resize</a> (const xpp::ConfigureEvent &amp;)</td></tr>
<tr class="separator:a95bcb0739daa5c58343a49bf1d0a3d80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6afca84875a69d7a47d450ac32279025" id="r_a6afca84875a69d7a47d450ac32279025"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a6afca84875a69d7a47d450ac32279025">focus</a> (const xpp::FocusChangeEvent &amp;)</td></tr>
<tr class="separator:a6afca84875a69d7a47d450ac32279025"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaab03c0ebb951add1962aca07604398" id="r_aeaab03c0ebb951add1962aca07604398"><td class="memItemLeft" align="right" valign="top">StopScrolling&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#aeaab03c0ebb951add1962aca07604398">buttonRelease</a> (const xpp::ButtonEvent &amp;)</td></tr>
<tr class="separator:aeaab03c0ebb951add1962aca07604398"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd27cb4f1751aba4c77ae587ad2a9f73" id="r_abd27cb4f1751aba4c77ae587ad2a9f73"><td class="memItemLeft" align="right" valign="top">StopScrolling&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#abd27cb4f1751aba4c77ae587ad2a9f73">buttonPress</a> (const xpp::ButtonEvent &amp;)</td></tr>
<tr class="separator:abd27cb4f1751aba4c77ae587ad2a9f73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a16649966758167f00e3951b5dc94c84c" id="r_a16649966758167f00e3951b5dc94c84c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a16649966758167f00e3951b5dc94c84c">pointerMovedEvent</a> (const xpp::PointerMovedEvent &amp;)</td></tr>
<tr class="separator:a16649966758167f00e3951b5dc94c84c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb37c6521ba6801fa040bb44b1ff17ca" id="r_adb37c6521ba6801fa040bb44b1ff17ca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#adb37c6521ba6801fa040bb44b1ff17ca">propertyNotify</a> (const xpp::PropertyEvent &amp;)</td></tr>
<tr class="separator:adb37c6521ba6801fa040bb44b1ff17ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af670a9280393ccf32a37b7b113fb34eb" id="r_af670a9280393ccf32a37b7b113fb34eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#af670a9280393ccf32a37b7b113fb34eb">selectionNotify</a> (const xpp::SelectionEvent &amp;)</td></tr>
<tr class="separator:af670a9280393ccf32a37b7b113fb34eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06af973691b33b65f00084b8d2c6c8a1" id="r_a06af973691b33b65f00084b8d2c6c8a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a06af973691b33b65f00084b8d2c6c8a1">selectionClear</a> ()</td></tr>
<tr class="separator:a06af973691b33b65f00084b8d2c6c8a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4e8022434297d21c2f3935ef57b1593" id="r_ae4e8022434297d21c2f3935ef57b1593"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#ae4e8022434297d21c2f3935ef57b1593">selectionRequest</a> (const xpp::SelectionRequestEvent &amp;)</td></tr>
<tr class="memdesc:ae4e8022434297d21c2f3935ef57b1593"><td class="mdescLeft">&#160;</td><td class="mdescRight">Another X client requests the selection held by us.  <br /></td></tr>
<tr class="separator:ae4e8022434297d21c2f3935ef57b1593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd25ada3633b48dfddd053a91c3d2448" id="r_acd25ada3633b48dfddd053a91c3d2448"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#acd25ada3633b48dfddd053a91c3d2448">handleSelectionEvent</a> (const xpp::AtomID selprop)</td></tr>
<tr class="memdesc:acd25ada3633b48dfddd053a91c3d2448"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles a selection input event provided in the property <code>selprop</code>.  <br /></td></tr>
<tr class="separator:acd25ada3633b48dfddd053a91c3d2448"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ed73dd95364325757aab4c433bc0fad" id="r_a7ed73dd95364325757aab4c433bc0fad"><td class="memTemplParams" colspan="2">template&lt;typename EVENT &gt; </td></tr>
<tr class="memitem:a7ed73dd95364325757aab4c433bc0fad"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a7ed73dd95364325757aab4c433bc0fad">handleMouseSelection</a> (const EVENT &amp;)</td></tr>
<tr class="memdesc:a7ed73dd95364325757aab4c433bc0fad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles mouse selection events for both PointerMovedEvent and ButtonEvent.  <br /></td></tr>
<tr class="separator:a7ed73dd95364325757aab4c433bc0fad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa80289786afc33c3620d188d24e561a3" id="r_aa80289786afc33c3620d188d24e561a3"><td class="memTemplParams" colspan="2">template&lt;typename EVENT &gt; </td></tr>
<tr class="memitem:aa80289786afc33c3620d188d24e561a3"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#aa80289786afc33c3620d188d24e561a3">handleMouseReport</a> (const EVENT &amp;)</td></tr>
<tr class="memdesc:aa80289786afc33c3620d188d24e561a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles mouse event reporting on <a class="el" href="classnst_1_1TTY.html" title="(Pseudo) Terminal I/O.">TTY</a> level for both PointerMovedEvent and ButtonEvent.  <br /></td></tr>
<tr class="separator:aa80289786afc33c3620d188d24e561a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9626c677892b9c76c32564eff98c47c6" id="r_a9626c677892b9c76c32564eff98c47c6"><td class="memItemLeft" align="right" valign="top">std::optional&lt; std::tuple&lt; xpp::Button, int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a9626c677892b9c76c32564eff98c47c6">checkMouseReport</a> (const xpp::ButtonEvent &amp;ev)</td></tr>
<tr class="memdesc:a9626c677892b9c76c32564eff98c47c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks whether the given event should be reported on <a class="el" href="classnst_1_1TTY.html" title="(Pseudo) Terminal I/O.">TTY</a> level via escape codes.  <br /></td></tr>
<tr class="separator:a9626c677892b9c76c32564eff98c47c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e50a7411ebadb68e6e833497c01a19b" id="r_a0e50a7411ebadb68e6e833497c01a19b"><td class="memItemLeft" align="right" valign="top">std::optional&lt; std::tuple&lt; xpp::Button, int &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a0e50a7411ebadb68e6e833497c01a19b">checkMouseReport</a> (const xpp::PointerMovedEvent &amp;ev)</td></tr>
<tr class="separator:a0e50a7411ebadb68e6e833497c01a19b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67cdf4b665b1df9a513a00010edfae2b" id="r_a67cdf4b665b1df9a513a00010edfae2b"><td class="memItemLeft" align="right" valign="top">std::optional&lt; StopScrolling &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a67cdf4b665b1df9a513a00010edfae2b">handleMouseAction</a> (const xpp::ButtonEvent &amp;ev)</td></tr>
<tr class="memdesc:a67cdf4b665b1df9a513a00010edfae2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check mouse shortcuts and execute a possibly configured action for the given event.  <br /></td></tr>
<tr class="separator:a67cdf4b665b1df9a513a00010edfae2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a801253123fad2a12962a4d33b9418cd4" id="r_a801253123fad2a12962a4d33b9418cd4"><td class="memItemLeft" align="right" valign="top">std::optional&lt; std::string_view &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a801253123fad2a12962a4d33b9418cd4">customKeyMapping</a> (const xpp::KeySymID keysym, const xpp::InputMask state) const</td></tr>
<tr class="memdesc:a801253123fad2a12962a4d33b9418cd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an output sequence mapped to the given input event.  <br /></td></tr>
<tr class="separator:a801253123fad2a12962a4d33b9418cd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85f2740ae80004b96931e80416001ea0" id="r_a85f2740ae80004b96931e80416001ea0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a85f2740ae80004b96931e80416001ea0">applySelection</a> (Time time)</td></tr>
<tr class="memdesc:a85f2740ae80004b96931e80416001ea0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the currently selected text in the X11 selection buffer.  <br /></td></tr>
<tr class="separator:a85f2740ae80004b96931e80416001ea0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a526ca95f9b899f5bd04feed111302d15" id="r_a526ca95f9b899f5bd04feed111302d15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a526ca95f9b899f5bd04feed111302d15">applyKeyBindingConfig</a> (<a class="el" href="structnst_1_1KbdShortcut.html">KbdShortcut</a> &amp;shortcut, const std::string &amp;key, const std::string &amp;binding)</td></tr>
<tr class="memdesc:a526ca95f9b899f5bd04feed111302d15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies configuration file settings for the given <a class="el" href="structnst_1_1KbdShortcut.html">KbdShortcut</a>.  <br /></td></tr>
<tr class="separator:a526ca95f9b899f5bd04feed111302d15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab878ac026ae2a7ae229d8841d6b5264" id="r_aab878ac026ae2a7ae229d8841d6b5264"><td class="memTemplParams" colspan="2">template&lt;typename EV &gt; </td></tr>
<tr class="memitem:aab878ac026ae2a7ae229d8841d6b5264"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classnst_1_1Selection.html#a8d923f9c49857e3da1c92a018abacf46">Selection::Mode</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#aab878ac026ae2a7ae229d8841d6b5264">getSelectionMode</a> (const EV &amp;ev)</td></tr>
<tr class="separator:aab878ac026ae2a7ae229d8841d6b5264"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a41f78e3060b1fc44bf56162092217e76" id="r_a41f78e3060b1fc44bf56162092217e76"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnst_1_1Nst.html">Nst</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a41f78e3060b1fc44bf56162092217e76">m_nst</a></td></tr>
<tr class="separator:a41f78e3060b1fc44bf56162092217e76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa55447fd706c85f07e0e296a83be43fd" id="r_aa55447fd706c85f07e0e296a83be43fd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnst_1_1WindowSystem.html">WindowSystem</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#aa55447fd706c85f07e0e296a83be43fd">m_wsys</a></td></tr>
<tr class="separator:aa55447fd706c85f07e0e296a83be43fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012608a0a5c765b4108dfe0d76401f84" id="r_a012608a0a5c765b4108dfe0d76401f84"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structnst_1_1TermWindow.html">TermWindow</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a012608a0a5c765b4108dfe0d76401f84">m_twin</a></td></tr>
<tr class="separator:a012608a0a5c765b4108dfe0d76401f84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed96d5100871bc386c60bc6e02721ce5" id="r_aed96d5100871bc386c60bc6e02721ce5"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; <a class="el" href="structnst_1_1MouseShortcut.html">MouseShortcut</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#aed96d5100871bc386c60bc6e02721ce5">m_mouse_shortcuts</a></td></tr>
<tr class="separator:aed96d5100871bc386c60bc6e02721ce5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1731680d83e474e40488790df1a0700a" id="r_a1731680d83e474e40488790df1a0700a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structnst_1_1KbdShortcut.html">KbdShortcut</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a1731680d83e474e40488790df1a0700a">m_kbd_shortcuts</a></td></tr>
<tr class="separator:a1731680d83e474e40488790df1a0700a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac253ea668858ff8e380910b9b453df8c" id="r_ac253ea668858ff8e380910b9b453df8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnst_1_1PressedButtons.html">PressedButtons</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#ac253ea668858ff8e380910b9b453df8c">m_buttons</a></td></tr>
<tr class="memdesc:ac253ea668858ff8e380910b9b453df8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Bit field of pressed buttons.  <br /></td></tr>
<tr class="separator:ac253ea668858ff8e380910b9b453df8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a580b5a21f06709d5942c2341606a9807" id="r_a580b5a21f06709d5942c2341606a9807"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnst_1_1CharPos.html">CharPos</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a580b5a21f06709d5942c2341606a9807">m_old_mouse_pos</a></td></tr>
<tr class="memdesc:a580b5a21f06709d5942c2341606a9807"><td class="mdescLeft">&#160;</td><td class="mdescRight">The last seen mouse position in terminal coordinates.  <br /></td></tr>
<tr class="separator:a580b5a21f06709d5942c2341606a9807"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa97c4e8658ab9b191815dfcbbda17d4e" id="r_aa97c4e8658ab9b191815dfcbbda17d4e"><td class="memItemLeft" align="right" valign="top">xpp::Event&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a></td></tr>
<tr class="memdesc:aa97c4e8658ab9b191815dfcbbda17d4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The currently handled event.  <br /></td></tr>
<tr class="separator:aa97c4e8658ab9b191815dfcbbda17d4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f0be399825f31ef7c5821331a21ed36" id="r_a5f0be399825f31ef7c5821331a21ed36"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a></td></tr>
<tr class="memdesc:a5f0be399825f31ef7c5821331a21ed36"><td class="mdescLeft">&#160;</td><td class="mdescRight">reused input sequence string for XInput  <br /></td></tr>
<tr class="separator:a5f0be399825f31ef7c5821331a21ed36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae003938dffbe51128caac5710f8b41a3" id="r_ae003938dffbe51128caac5710f8b41a3"><td class="memItemLeft" align="right" valign="top">xpp::InputMask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#ae003938dffbe51128caac5710f8b41a3">m_force_mouse_mod</a></td></tr>
<tr class="memdesc:ae003938dffbe51128caac5710f8b41a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">runtime configured key modifiers for force mouse mod  <br /></td></tr>
<tr class="separator:ae003938dffbe51128caac5710f8b41a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac98f6a4b597b422c6f12706292750e64" id="r_ac98f6a4b597b422c6f12706292750e64"><td class="memItemLeft" align="right" valign="top">std::array&lt; std::pair&lt; <a class="el" href="classnst_1_1Selection.html#a8d923f9c49857e3da1c92a018abacf46">Selection::Mode</a>, xpp::InputMask &gt;, 2 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#ac98f6a4b597b422c6f12706292750e64">m_sel_mode_masks</a></td></tr>
<tr class="memdesc:ac98f6a4b597b422c6f12706292750e64"><td class="mdescLeft">&#160;</td><td class="mdescRight">runtime configured selection mode masks  <br /></td></tr>
<tr class="separator:ac98f6a4b597b422c6f12706292750e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b14f66271da9b350c0ec01db085f2b7" id="r_a6b14f66271da9b350c0ec01db085f2b7"><td class="memItemLeft" align="right" valign="top">xpp::InputMask&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a6b14f66271da9b350c0ec01db085f2b7">m_sel_alt_mod</a></td></tr>
<tr class="memdesc:a6b14f66271da9b350c0ec01db085f2b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">runtime configured alternative selection mode key modifiers  <br /></td></tr>
<tr class="separator:a6b14f66271da9b350c0ec01db085f2b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d29a57ef3f2170e2f5489e690d56eed" id="r_a8d29a57ef3f2170e2f5489e690d56eed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1XEventHandler.html#a8d29a57ef3f2170e2f5489e690d56eed">m_auto_clear_selection</a> = false</td></tr>
<tr class="memdesc:a8d29a57ef3f2170e2f5489e690d56eed"><td class="mdescLeft">&#160;</td><td class="mdescRight">automatically clear selection on ownership loss  <br /></td></tr>
<tr class="separator:a8d29a57ef3f2170e2f5489e690d56eed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of XEvent callback handlers. </p>
<p>This class reacts to X11 events related to the input system, the windowing system etc. As a result of this a close interaction with the <a class="el" href="classnst_1_1WindowSystem.html" title="This is the central interface towards X11 graphics, input and font handling.">WindowSystem</a> type is necessary. </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00028">28</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a9b9c23e526d6f697bc578f7df11f066c" name="a9b9c23e526d6f697bc578f7df11f066c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b9c23e526d6f697bc578f7df11f066c">&#9670;&#160;</a></span>XEventHandler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nst::XEventHandler::XEventHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnst_1_1Nst.html">Nst</a> &amp;&#160;</td>
          <td class="paramname"><em>nst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00104">104</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  104</span>                                     :</div>
<div class="line"><span class="lineno">  105</span>                m_nst{nst},</div>
<div class="line"><span class="lineno">  106</span>                m_wsys{nst.wsys()},</div>
<div class="line"><span class="lineno">  107</span>                m_twin{m_wsys.termWin()},</div>
<div class="line"><span class="lineno">  108</span>                m_mouse_shortcuts{config::get_mouse_shortcuts(nst)},</div>
<div class="line"><span class="lineno">  109</span>                m_kbd_shortcuts{config::get_kbd_shortcuts(nst)},</div>
<div class="line"><span class="lineno">  110</span>                <a class="code hl_variable" href="classnst_1_1XEventHandler.html#ae003938dffbe51128caac5710f8b41a3">m_force_mouse_mod</a>{config::FORCE_MOUSE_MOD},</div>
<div class="line"><span class="lineno">  111</span>                <a class="code hl_variable" href="classnst_1_1XEventHandler.html#ac98f6a4b597b422c6f12706292750e64">m_sel_mode_masks</a>{config::SEL_MASKS},</div>
<div class="line"><span class="lineno">  112</span>                <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a6b14f66271da9b350c0ec01db085f2b7">m_sel_alt_mod</a>{config::SEL_ALT_MOD},</div>
<div class="line"><span class="lineno">  113</span>                <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a8d29a57ef3f2170e2f5489e690d56eed">m_auto_clear_selection</a>{config::SEL_CLEAR}</div>
<div class="line"><span class="lineno">  114</span>{}</div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_a6b14f66271da9b350c0ec01db085f2b7"><div class="ttname"><a href="classnst_1_1XEventHandler.html#a6b14f66271da9b350c0ec01db085f2b7">nst::XEventHandler::m_sel_alt_mod</a></div><div class="ttdeci">xpp::InputMask m_sel_alt_mod</div><div class="ttdoc">runtime configured alternative selection mode key modifiers</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8hxx_source.html#l00122">XEventHandler.hxx:122</a></div></div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_a8d29a57ef3f2170e2f5489e690d56eed"><div class="ttname"><a href="classnst_1_1XEventHandler.html#a8d29a57ef3f2170e2f5489e690d56eed">nst::XEventHandler::m_auto_clear_selection</a></div><div class="ttdeci">bool m_auto_clear_selection</div><div class="ttdoc">automatically clear selection on ownership loss</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8hxx_source.html#l00123">XEventHandler.hxx:123</a></div></div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_ac98f6a4b597b422c6f12706292750e64"><div class="ttname"><a href="classnst_1_1XEventHandler.html#ac98f6a4b597b422c6f12706292750e64">nst::XEventHandler::m_sel_mode_masks</a></div><div class="ttdeci">std::array&lt; std::pair&lt; Selection::Mode, xpp::InputMask &gt;, 2 &gt; m_sel_mode_masks</div><div class="ttdoc">runtime configured selection mode masks</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8hxx_source.html#l00121">XEventHandler.hxx:121</a></div></div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_ae003938dffbe51128caac5710f8b41a3"><div class="ttname"><a href="classnst_1_1XEventHandler.html#ae003938dffbe51128caac5710f8b41a3">nst::XEventHandler::m_force_mouse_mod</a></div><div class="ttdeci">xpp::InputMask m_force_mouse_mod</div><div class="ttdoc">runtime configured key modifiers for force mouse mod</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8hxx_source.html#l00120">XEventHandler.hxx:120</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a824f52e168d585c0ebc330dd48265a03" name="a824f52e168d585c0ebc330dd48265a03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a824f52e168d585c0ebc330dd48265a03">&#9670;&#160;</a></span>applyConfig()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::applyConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00116">116</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  116</span>                                {</div>
<div class="line"><span class="lineno">  117</span>        <span class="keyword">auto</span> &amp;config = m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#a539d9578ec42047388ba5c62a3a02dcd">configFile</a>();</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> auto_clear_sel = config.asBool(<span class="stringliteral">&quot;auto_clear_selection&quot;</span>); auto_clear_sel) {</div>
<div class="line"><span class="lineno">  120</span>                <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a8d29a57ef3f2170e2f5489e690d56eed">m_auto_clear_selection</a> = *auto_clear_sel;</div>
<div class="line"><span class="lineno">  121</span>        }</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>        <span class="comment">/* Generically check keybinding overrides.</span></div>
<div class="line"><span class="lineno">  124</span><span class="comment">         * Each configurable keybinding has a unique label. We check for</span></div>
<div class="line"><span class="lineno">  125</span><span class="comment">         * matching configuration file keys and apply overrides as necessary. */</span></div>
<div class="line"><span class="lineno">  126</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;shortcut: m_kbd_shortcuts) {</div>
<div class="line"><span class="lineno">  127</span>                <span class="keywordflow">if</span> (shortcut.label.empty())</div>
<div class="line"><span class="lineno">  128</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>                <span class="keyword">const</span> <span class="keyword">auto</span> key = <span class="stringliteral">&quot;keybinding_&quot;</span>s + std::string{shortcut.label};</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>                <span class="keywordflow">if</span> (<span class="keyword">auto</span> keybind = config.asString(key); keybind != std::nullopt) {</div>
<div class="line"><span class="lineno">  133</span>                        <span class="keywordflow">if</span> (*keybind == <span class="stringliteral">&quot;[disable]&quot;</span>) {</div>
<div class="line"><span class="lineno">  134</span>                                shortcut.keysym = xpp::KeySymID::NO_SYMBOL;</div>
<div class="line"><span class="lineno">  135</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  136</span>                                <a class="code hl_function" href="classnst_1_1XEventHandler.html#a526ca95f9b899f5bd04feed111302d15">applyKeyBindingConfig</a>(shortcut, key, *keybind);</div>
<div class="line"><span class="lineno">  137</span>                        }</div>
<div class="line"><span class="lineno">  138</span>                }</div>
<div class="line"><span class="lineno">  139</span>        }</div>
<div class="line"><span class="lineno">  140</span> </div>
<div class="line"><span class="lineno">  141</span>        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> mod_string = config.asString(<span class="stringliteral">&quot;force_mouse_mod&quot;</span>); mod_string) {</div>
<div class="line"><span class="lineno">  142</span>                <span class="keyword">const</span> <span class="keyword">auto</span> parts = cosmos::split(*mod_string, <span class="stringliteral">&quot; &quot;</span>, cosmos::SplitFlags{cosmos::SplitFlag::STRIP_PARTS});</div>
<div class="line"><span class="lineno">  143</span>                <a class="code hl_variable" href="classnst_1_1XEventHandler.html#ae003938dffbe51128caac5710f8b41a3">m_force_mouse_mod</a>.reset();</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;part: parts) {</div>
<div class="line"><span class="lineno">  146</span>                        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> mod = xpp::string_to_input_mod(part); mod) {</div>
<div class="line"><span class="lineno">  147</span>                                <a class="code hl_variable" href="classnst_1_1XEventHandler.html#ae003938dffbe51128caac5710f8b41a3">m_force_mouse_mod</a>.set(*mod);</div>
<div class="line"><span class="lineno">  148</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  149</span>                                m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().warn() &lt;&lt; <span class="stringliteral">&quot;invalid &#39;force_mouse_mod&#39; setting &#39;&quot;</span> &lt;&lt; *mod_string &lt;&lt; <span class="stringliteral">&quot;&#39;: not a valid X11 input modifier name&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  150</span>                                <a class="code hl_variable" href="classnst_1_1XEventHandler.html#ae003938dffbe51128caac5710f8b41a3">m_force_mouse_mod</a> = config::FORCE_MOUSE_MOD;</div>
<div class="line"><span class="lineno">  151</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  152</span>                        }</div>
<div class="line"><span class="lineno">  153</span>                }</div>
<div class="line"><span class="lineno">  154</span>        }</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> mod_string = config.asString(<span class="stringliteral">&quot;sel_alt_mod&quot;</span>); mod_string) {</div>
<div class="line"><span class="lineno">  157</span>                <span class="keyword">const</span> <span class="keyword">auto</span> parts = cosmos::split(*mod_string, <span class="stringliteral">&quot; &quot;</span>, cosmos::SplitFlags{cosmos::SplitFlag::STRIP_PARTS});</div>
<div class="line"><span class="lineno">  158</span> </div>
<div class="line"><span class="lineno">  159</span>                <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a6b14f66271da9b350c0ec01db085f2b7">m_sel_alt_mod</a>.reset();</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;part: parts) {</div>
<div class="line"><span class="lineno">  162</span>                        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> mod = xpp::string_to_input_mod(part); mod) {</div>
<div class="line"><span class="lineno">  163</span>                                <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a6b14f66271da9b350c0ec01db085f2b7">m_sel_alt_mod</a>.set(*mod);</div>
<div class="line"><span class="lineno">  164</span>                        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  165</span>                                m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().warn() &lt;&lt; <span class="stringliteral">&quot;invalid &#39;sel_alt_mod&#39; setting &#39;&quot;</span> &lt;&lt; *mod_string &lt;&lt; <span class="stringliteral">&quot;&#39;: not a valid X11 input modifier name&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  166</span>                                <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a6b14f66271da9b350c0ec01db085f2b7">m_sel_alt_mod</a> = config::SEL_ALT_MOD;</div>
<div class="line"><span class="lineno">  167</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  168</span>                        }</div>
<div class="line"><span class="lineno">  169</span>                }</div>
<div class="line"><span class="lineno">  170</span>        }</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;sel_mask_setting: {</div>
<div class="line"><span class="lineno">  173</span>                                std::make_pair(<a class="code hl_enumvalue" href="classnst_1_1Selection.html#a8d923f9c49857e3da1c92a018abacf46af4205b04696c9dea149a130708458bc6">Selection::Mode::RECT_RANGE</a>, <span class="stringliteral">&quot;rect_range&quot;</span>),</div>
<div class="line"><span class="lineno">  174</span>                                              {<a class="code hl_enumvalue" href="classnst_1_1Selection.html#a8d923f9c49857e3da1c92a018abacf46ac8b31ebc9b789167480fab90e5bcc97b">Selection::Mode::LINE_RANGE</a>, <span class="stringliteral">&quot;line_range&quot;</span>}</div>
<div class="line"><span class="lineno">  175</span>                        }) {</div>
<div class="line"><span class="lineno">  176</span>                <span class="keyword">const</span> <span class="keyword">auto</span> key = cosmos::sprintf(<span class="stringliteral">&quot;select_%s_mod&quot;</span>, sel_mask_setting.second);</div>
<div class="line"><span class="lineno">  177</span> </div>
<div class="line"><span class="lineno">  178</span>                <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> mod_string = config.asString(key); mod_string) {</div>
<div class="line"><span class="lineno">  179</span>                        <span class="keyword">const</span> <span class="keyword">auto</span> parts = cosmos::split(*mod_string, <span class="stringliteral">&quot; &quot;</span>, cosmos::SplitFlags{cosmos::SplitFlag::STRIP_PARTS});</div>
<div class="line"><span class="lineno">  180</span> </div>
<div class="line"><span class="lineno">  181</span>                        xpp::InputMask new_mask;</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>                        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;part: parts) {</div>
<div class="line"><span class="lineno">  184</span>                                <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> mod = xpp::string_to_input_mod(part); mod) {</div>
<div class="line"><span class="lineno">  185</span>                                        new_mask.set(*mod);</div>
<div class="line"><span class="lineno">  186</span>                                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  187</span>                                        m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().warn() &lt;&lt; <span class="stringliteral">&quot;invalid &#39;&quot;</span> &lt;&lt; key &lt;&lt; <span class="stringliteral">&quot;&#39; setting &#39;&quot;</span> &lt;&lt; *mod_string &lt;&lt; <span class="stringliteral">&quot;&#39;: not a valid X11 input modifier name&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  188</span>                                        new_mask.reset();</div>
<div class="line"><span class="lineno">  189</span>                                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  190</span>                                }</div>
<div class="line"><span class="lineno">  191</span>                        }</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span>                        <span class="keywordflow">if</span> (!new_mask.any()) {</div>
<div class="line"><span class="lineno">  194</span>                                <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  195</span>                        }</div>
<div class="line"><span class="lineno">  196</span> </div>
<div class="line"><span class="lineno">  197</span>                        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;entry: <a class="code hl_variable" href="classnst_1_1XEventHandler.html#ac98f6a4b597b422c6f12706292750e64">m_sel_mode_masks</a>) {</div>
<div class="line"><span class="lineno">  198</span>                                <span class="keywordflow">if</span> (entry.first == sel_mask_setting.first) {</div>
<div class="line"><span class="lineno">  199</span>                                        entry.second = new_mask;</div>
<div class="line"><span class="lineno">  200</span>                                }</div>
<div class="line"><span class="lineno">  201</span>                        }</div>
<div class="line"><span class="lineno">  202</span>                }</div>
<div class="line"><span class="lineno">  203</span>        }</div>
<div class="line"><span class="lineno">  204</span> </div>
<div class="line"><span class="lineno">  205</span>}</div>
<div class="ttc" id="aclassnst_1_1Nst_html_a539d9578ec42047388ba5c62a3a02dcd"><div class="ttname"><a href="classnst_1_1Nst.html#a539d9578ec42047388ba5c62a3a02dcd">nst::Nst::configFile</a></div><div class="ttdeci">auto &amp; configFile() const</div><div class="ttdoc">Access to configuration file data.</div><div class="ttdef"><b>Definition</b> <a href="nst_8hxx_source.html#l00063">nst.hxx:63</a></div></div>
<div class="ttc" id="aclassnst_1_1Nst_html_ab424f4e9648090eff002fcffb91bd018"><div class="ttname"><a href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">nst::Nst::logger</a></div><div class="ttdeci">auto &amp; logger() const</div><div class="ttdoc">Access to the central logger instance.</div><div class="ttdef"><b>Definition</b> <a href="nst_8hxx_source.html#l00058">nst.hxx:58</a></div></div>
<div class="ttc" id="aclassnst_1_1Selection_html_a8d923f9c49857e3da1c92a018abacf46ac8b31ebc9b789167480fab90e5bcc97b"><div class="ttname"><a href="classnst_1_1Selection.html#a8d923f9c49857e3da1c92a018abacf46ac8b31ebc9b789167480fab90e5bcc97b">nst::Selection::Mode::LINE_RANGE</a></div><div class="ttdeci">@ LINE_RANGE</div><div class="ttdoc">Select full lines between start/end coordinates.</div></div>
<div class="ttc" id="aclassnst_1_1Selection_html_a8d923f9c49857e3da1c92a018abacf46af4205b04696c9dea149a130708458bc6"><div class="ttname"><a href="classnst_1_1Selection.html#a8d923f9c49857e3da1c92a018abacf46af4205b04696c9dea149a130708458bc6">nst::Selection::Mode::RECT_RANGE</a></div><div class="ttdeci">@ RECT_RANGE</div><div class="ttdoc">Select a rectangular region between start/end coordinates.</div></div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_a526ca95f9b899f5bd04feed111302d15"><div class="ttname"><a href="classnst_1_1XEventHandler.html#a526ca95f9b899f5bd04feed111302d15">nst::XEventHandler::applyKeyBindingConfig</a></div><div class="ttdeci">void applyKeyBindingConfig(KbdShortcut &amp;shortcut, const std::string &amp;key, const std::string &amp;binding)</div><div class="ttdoc">Applies configuration file settings for the given KbdShortcut.</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8cxx_source.html#l00207">XEventHandler.cxx:207</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a526ca95f9b899f5bd04feed111302d15" name="a526ca95f9b899f5bd04feed111302d15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a526ca95f9b899f5bd04feed111302d15">&#9670;&#160;</a></span>applyKeyBindingConfig()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::applyKeyBindingConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structnst_1_1KbdShortcut.html">KbdShortcut</a> &amp;&#160;</td>
          <td class="paramname"><em>shortcut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>binding</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Applies configuration file settings for the given <a class="el" href="structnst_1_1KbdShortcut.html">KbdShortcut</a>. </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00207">207</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  207</span>                                                                                                               {</div>
<div class="line"><span class="lineno">  208</span>        <span class="keyword">auto</span> &amp;logger = m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>();</div>
<div class="line"><span class="lineno">  209</span>        <span class="keyword">auto</span> parts = cosmos::split(binding, <span class="stringliteral">&quot; &quot;</span>, cosmos::SplitFlags{cosmos::SplitFlag::STRIP_PARTS});</div>
<div class="line"><span class="lineno">  210</span>        <span class="comment">// the last space separated item is the actual KeySymID string.</span></div>
<div class="line"><span class="lineno">  211</span>        <span class="comment">// the rest of the parts make up InputModifier strings.</span></div>
<div class="line"><span class="lineno">  212</span>        <span class="keyword">const</span> <span class="keyword">auto</span> keysym_str = parts.back();</div>
<div class="line"><span class="lineno">  213</span>        xpp::InputMask modmask;</div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>        parts.pop_back();</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;mod_str: parts) {</div>
<div class="line"><span class="lineno">  218</span>                <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> mod = xpp::string_to_input_mod(mod_str); mod) {</div>
<div class="line"><span class="lineno">  219</span>                        modmask.set(*mod);</div>
<div class="line"><span class="lineno">  220</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  221</span>                        logger.error() &lt;&lt; <span class="stringliteral">&quot;Bad InputModifier for keybinding &#39;&quot;</span> &lt;&lt; key &lt;&lt; <span class="stringliteral">&quot;&#39;: &quot;</span></div>
<div class="line"><span class="lineno">  222</span>                                &lt;&lt; mod_str &lt;&lt; <span class="stringliteral">&quot;. Skipping.\n&quot;</span>;</div>
<div class="line"><span class="lineno">  223</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  224</span>                }</div>
<div class="line"><span class="lineno">  225</span>        }</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> keysym = xpp::string_to_keysym(keysym_str); keysym) {</div>
<div class="line"><span class="lineno">  228</span>                shortcut.keysym = *keysym;</div>
<div class="line"><span class="lineno">  229</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  230</span>                logger.error() &lt;&lt; <span class="stringliteral">&quot;Bad KeySymID for keybinding &#39;&quot;</span> &lt;&lt; key &lt;&lt; <span class="stringliteral">&quot;&#39;: &quot;</span></div>
<div class="line"><span class="lineno">  231</span>                        &lt;&lt; keysym_str &lt;&lt; <span class="stringliteral">&quot;. Skipping.\n&quot;</span>;</div>
<div class="line"><span class="lineno">  232</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  233</span>        }</div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>        <span class="comment">// only apply changes to the modifiers now that we know no errors</span></div>
<div class="line"><span class="lineno">  236</span>        <span class="comment">// occurred.</span></div>
<div class="line"><span class="lineno">  237</span>        shortcut.mod = modmask;</div>
<div class="line"><span class="lineno">  238</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a85f2740ae80004b96931e80416001ea0" name="a85f2740ae80004b96931e80416001ea0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a85f2740ae80004b96931e80416001ea0">&#9670;&#160;</a></span>applySelection()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::applySelection </td>
          <td>(</td>
          <td class="paramtype">Time&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store the currently selected text in the X11 selection buffer. </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00759">759</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  759</span>                                            {</div>
<div class="line"><span class="lineno">  760</span>        <span class="keyword">auto</span> seldata = m_nst.selection().<a class="code hl_function" href="classnst_1_1Selection.html#a482001362aa6bdfdcfc68b7914238d7b">data</a>();</div>
<div class="line"><span class="lineno">  761</span>        m_wsys.selection().setSelection(seldata, time);</div>
<div class="line"><span class="lineno">  762</span>}</div>
<div class="ttc" id="aclassnst_1_1Selection_html_a482001362aa6bdfdcfc68b7914238d7b"><div class="ttname"><a href="classnst_1_1Selection.html#a482001362aa6bdfdcfc68b7914238d7b">nst::Selection::data</a></div><div class="ttdeci">std::string data() const</div><div class="ttdoc">Retrieves the current selection data as an UTF8 encoded string.</div><div class="ttdef"><b>Definition</b> <a href="Selection_8cxx_source.html#l00497">Selection.cxx:497</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abd27cb4f1751aba4c77ae587ad2a9f73" name="abd27cb4f1751aba4c77ae587ad2a9f73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd27cb4f1751aba4c77ae587ad2a9f73">&#9670;&#160;</a></span>buttonPress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StopScrolling nst::XEventHandler::buttonPress </td>
          <td>(</td>
          <td class="paramtype">const xpp::ButtonEvent &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00571">571</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  571</span>                                                                 {</div>
<div class="line"><span class="lineno">  572</span>        <span class="keyword">const</span> <span class="keyword">auto</span> force_mouse = ev.state().anyOf(<a class="code hl_variable" href="classnst_1_1XEventHandler.html#ae003938dffbe51128caac5710f8b41a3">m_force_mouse_mod</a>);</div>
<div class="line"><span class="lineno">  573</span>        <span class="keyword">const</span> <span class="keyword">auto</span> button = ev.buttonNr();</div>
<div class="line"><span class="lineno">  574</span>        <a class="code hl_variable" href="classnst_1_1XEventHandler.html#ac253ea668858ff8e380910b9b453df8c">m_buttons</a>.setPressed(button);</div>
<div class="line"><span class="lineno">  575</span> </div>
<div class="line"><span class="lineno">  576</span>        <span class="keywordflow">if</span> (m_twin.inMouseMode() &amp;&amp; !force_mouse) {</div>
<div class="line"><span class="lineno">  577</span>                <a class="code hl_function" href="classnst_1_1XEventHandler.html#aa80289786afc33c3620d188d24e561a3">handleMouseReport</a>(ev);</div>
<div class="line"><span class="lineno">  578</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> ss = <a class="code hl_function" href="classnst_1_1XEventHandler.html#a67cdf4b665b1df9a513a00010edfae2b">handleMouseAction</a>(ev); ss) {</div>
<div class="line"><span class="lineno">  579</span>                <span class="keywordflow">return</span> *ss;</div>
<div class="line"><span class="lineno">  580</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (cosmos::in_list(button, {xpp::Button::BUTTON1, xpp::Button::BUTTON3})) {</div>
<div class="line"><span class="lineno">  581</span>                <span class="keyword">const</span> <span class="keyword">auto</span> flags = get_selection_flags(ev, <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a6b14f66271da9b350c0ec01db085f2b7">m_sel_alt_mod</a>);</div>
<div class="line"><span class="lineno">  582</span>                <span class="keyword">auto</span> mode = getSelectionMode(ev);</div>
<div class="line"><span class="lineno">  583</span>                <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> click_mode = m_wsys.selection().handleClick(button, flags); click_mode != std::nullopt) {</div>
<div class="line"><span class="lineno">  584</span>                        mode = *click_mode;</div>
<div class="line"><span class="lineno">  585</span>                }</div>
<div class="line"><span class="lineno">  586</span>                <span class="keyword">const</span> <span class="keyword">auto</span> pos = m_twin.<a class="code hl_function" href="structnst_1_1TermWindow.html#a8c500017d5c6ff9444ca4c7786b07cf6">toCharPos</a>(DrawPos{ev.pos()});</div>
<div class="line"><span class="lineno">  587</span>                m_nst.selection().<a class="code hl_function" href="classnst_1_1Selection.html#aa5ee113a89d593ae98b5d16908b43eaf">start</a>(pos, mode, flags);</div>
<div class="line"><span class="lineno">  588</span>        }</div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>        <span class="keywordflow">return</span> StopScrolling{<span class="keyword">false</span>};</div>
<div class="line"><span class="lineno">  591</span>}</div>
<div class="ttc" id="aclassnst_1_1Selection_html_aa5ee113a89d593ae98b5d16908b43eaf"><div class="ttname"><a href="classnst_1_1Selection.html#aa5ee113a89d593ae98b5d16908b43eaf">nst::Selection::start</a></div><div class="ttdeci">void start(const CharPos pos, const Mode mode, const Flags flags)</div><div class="ttdoc">Starts a new selection operation at the given start position using the given snap behaviour and setti...</div><div class="ttdef"><b>Definition</b> <a href="Selection_8cxx_source.html#l00095">Selection.cxx:95</a></div></div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_a67cdf4b665b1df9a513a00010edfae2b"><div class="ttname"><a href="classnst_1_1XEventHandler.html#a67cdf4b665b1df9a513a00010edfae2b">nst::XEventHandler::handleMouseAction</a></div><div class="ttdeci">std::optional&lt; StopScrolling &gt; handleMouseAction(const xpp::ButtonEvent &amp;ev)</div><div class="ttdoc">Check mouse shortcuts and execute a possibly configured action for the given event.</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8cxx_source.html#l00622">XEventHandler.cxx:622</a></div></div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_aa80289786afc33c3620d188d24e561a3"><div class="ttname"><a href="classnst_1_1XEventHandler.html#aa80289786afc33c3620d188d24e561a3">nst::XEventHandler::handleMouseReport</a></div><div class="ttdeci">void handleMouseReport(const EVENT &amp;)</div><div class="ttdoc">Handles mouse event reporting on TTY level for both PointerMovedEvent and ButtonEvent.</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8cxx_source.html#l00688">XEventHandler.cxx:688</a></div></div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_ac253ea668858ff8e380910b9b453df8c"><div class="ttname"><a href="classnst_1_1XEventHandler.html#ac253ea668858ff8e380910b9b453df8c">nst::XEventHandler::m_buttons</a></div><div class="ttdeci">PressedButtons m_buttons</div><div class="ttdoc">Bit field of pressed buttons.</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8hxx_source.html#l00116">XEventHandler.hxx:116</a></div></div>
<div class="ttc" id="astructnst_1_1TermWindow_html_a8c500017d5c6ff9444ca4c7786b07cf6"><div class="ttname"><a href="structnst_1_1TermWindow.html#a8c500017d5c6ff9444ca4c7786b07cf6">nst::TermWindow::toCharPos</a></div><div class="ttdeci">CharPos toCharPos(const DrawPos pos) const</div><div class="ttdoc">Converts a pixel based drawing position into the corresponding character position.</div><div class="ttdef"><b>Definition</b> <a href="TermWindow_8hxx_source.html#l00075">TermWindow.hxx:75</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aeaab03c0ebb951add1962aca07604398" name="aeaab03c0ebb951add1962aca07604398"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaab03c0ebb951add1962aca07604398">&#9670;&#160;</a></span>buttonRelease()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StopScrolling nst::XEventHandler::buttonRelease </td>
          <td>(</td>
          <td class="paramtype">const xpp::ButtonEvent &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00593">593</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  593</span>                                                                   {</div>
<div class="line"><span class="lineno">  594</span>        <span class="keyword">const</span> <span class="keyword">auto</span> button = ev.buttonNr();</div>
<div class="line"><span class="lineno">  595</span>        <span class="keyword">const</span> <span class="keyword">auto</span> force_mouse = ev.state().anyOf(<a class="code hl_variable" href="classnst_1_1XEventHandler.html#ae003938dffbe51128caac5710f8b41a3">m_force_mouse_mod</a>);</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>        <a class="code hl_variable" href="classnst_1_1XEventHandler.html#ac253ea668858ff8e380910b9b453df8c">m_buttons</a>.setReleased(button);</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>        <span class="keywordflow">if</span> (m_twin.inMouseMode() &amp;&amp; !force_mouse) {</div>
<div class="line"><span class="lineno">  600</span>                <a class="code hl_function" href="classnst_1_1XEventHandler.html#aa80289786afc33c3620d188d24e561a3">handleMouseReport</a>(ev);</div>
<div class="line"><span class="lineno">  601</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">auto</span> ss = <a class="code hl_function" href="classnst_1_1XEventHandler.html#a67cdf4b665b1df9a513a00010edfae2b">handleMouseAction</a>(ev); ss) {</div>
<div class="line"><span class="lineno">  602</span>                <span class="keywordflow">return</span> *ss;</div>
<div class="line"><span class="lineno">  603</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (button == xpp::Button::BUTTON1 || button == xpp::Button::BUTTON3) {</div>
<div class="line"><span class="lineno">  604</span>                <a class="code hl_function" href="classnst_1_1XEventHandler.html#a7ed73dd95364325757aab4c433bc0fad">handleMouseSelection</a>(ev);</div>
<div class="line"><span class="lineno">  605</span>        }</div>
<div class="line"><span class="lineno">  606</span> </div>
<div class="line"><span class="lineno">  607</span>        <span class="keywordflow">return</span> StopScrolling{<span class="keyword">false</span>};</div>
<div class="line"><span class="lineno">  608</span>}</div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_a7ed73dd95364325757aab4c433bc0fad"><div class="ttname"><a href="classnst_1_1XEventHandler.html#a7ed73dd95364325757aab4c433bc0fad">nst::XEventHandler::handleMouseSelection</a></div><div class="ttdeci">void handleMouseSelection(const EVENT &amp;)</div><div class="ttdoc">Handles mouse selection events for both PointerMovedEvent and ButtonEvent.</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8cxx_source.html#l00748">XEventHandler.cxx:748</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4d9ef182c5ffbc919cc5c35d36d83a3a" name="a4d9ef182c5ffbc919cc5c35d36d83a3a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d9ef182c5ffbc919cc5c35d36d83a3a">&#9670;&#160;</a></span>checkEvents()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::XEventHandler::checkEvents </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks for and processes X11 events. </p>
<p>This returns <code>true</code> if any type of event occurred, otherwise <code>false</code>. </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00253">253</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  253</span>                                {</div>
<div class="line"><span class="lineno">  254</span>        <span class="keyword">auto</span> &amp;display = xpp::display;</div>
<div class="line"><span class="lineno">  255</span>        <span class="keywordtype">bool</span> ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>        <span class="keywordflow">while</span> (display.hasPendingEvents()) {</div>
<div class="line"><span class="lineno">  258</span>                display.nextEvent(<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>);</div>
<div class="line"><span class="lineno">  259</span>                ret = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  260</span>                <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>.filterEvent()) {</div>
<div class="line"><span class="lineno">  261</span>                        <a class="code hl_function" href="classnst_1_1XEventHandler.html#a937eb33ea9e811e14929c275b195a3ce">process</a>();</div>
<div class="line"><span class="lineno">  262</span>                }</div>
<div class="line"><span class="lineno">  263</span>        }</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  266</span>}</div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_a937eb33ea9e811e14929c275b195a3ce"><div class="ttname"><a href="classnst_1_1XEventHandler.html#a937eb33ea9e811e14929c275b195a3ce">nst::XEventHandler::process</a></div><div class="ttdeci">void process()</div><div class="ttdoc">Processes the currently set X11 event.</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8cxx_source.html#l00268">XEventHandler.cxx:268</a></div></div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_aa97c4e8658ab9b191815dfcbbda17d4e"><div class="ttname"><a href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">nst::XEventHandler::m_event</a></div><div class="ttdeci">xpp::Event m_event</div><div class="ttdoc">The currently handled event.</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8hxx_source.html#l00118">XEventHandler.hxx:118</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9626c677892b9c76c32564eff98c47c6" name="a9626c677892b9c76c32564eff98c47c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9626c677892b9c76c32564eff98c47c6">&#9670;&#160;</a></span>checkMouseReport() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; std::tuple&lt; xpp::Button, int &gt; &gt; nst::XEventHandler::checkMouseReport </td>
          <td>(</td>
          <td class="paramtype">const xpp::ButtonEvent &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks whether the given event should be reported on <a class="el" href="classnst_1_1TTY.html" title="(Pseudo) Terminal I/O.">TTY</a> level via escape codes. </p>
<p>If a value is returned then mouse reporting should be performed. m_old_mouse_pos will be set to the new terminal mouse position reported by the event.</p>
<p>The returned tuple contains the event button number to report and the base escape code to be used for the reporting. </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00666">666</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  666</span>                                                        {</div>
<div class="line"><span class="lineno">  667</span>        <span class="keyword">const</span> <span class="keyword">auto</span> pos = m_twin.<a class="code hl_function" href="structnst_1_1TermWindow.html#a8c500017d5c6ff9444ca4c7786b07cf6">toCharPos</a>(DrawPos{ev.pos()});</div>
<div class="line"><span class="lineno">  668</span>        <span class="keyword">auto</span> button = ev.buttonNr();</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>        <span class="comment">// Only buttons 1 through 11 can be encoded.</span></div>
<div class="line"><span class="lineno">  671</span>        <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classnst_1_1XEventHandler.html#ac253ea668858ff8e380910b9b453df8c">m_buttons</a>.valid(button)) {</div>
<div class="line"><span class="lineno">  672</span>                <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  673</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (ev.type() == xpp::EventType::BUTTON_RELEASE) {</div>
<div class="line"><span class="lineno">  674</span>                <span class="keywordflow">if</span> (m_twin.doX10Compatibility()) {</div>
<div class="line"><span class="lineno">  675</span>                        <span class="comment">// MODE_MOUSEX10: no button release reporting.</span></div>
<div class="line"><span class="lineno">  676</span>                        <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  677</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1XEventHandler.html#ac253ea668858ff8e380910b9b453df8c">m_buttons</a>.isScrollWheel(button)) {</div>
<div class="line"><span class="lineno">  678</span>                        <span class="comment">// Don&#39;t send release events for the scroll wheel.</span></div>
<div class="line"><span class="lineno">  679</span>                        <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  680</span>                }</div>
<div class="line"><span class="lineno">  681</span>        }</div>
<div class="line"><span class="lineno">  682</span> </div>
<div class="line"><span class="lineno">  683</span>        <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a580b5a21f06709d5942c2341606a9807">m_old_mouse_pos</a> = pos;</div>
<div class="line"><span class="lineno">  684</span>        <span class="keywordflow">return</span> std::make_tuple(button, 0);</div>
<div class="line"><span class="lineno">  685</span>}</div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_a580b5a21f06709d5942c2341606a9807"><div class="ttname"><a href="classnst_1_1XEventHandler.html#a580b5a21f06709d5942c2341606a9807">nst::XEventHandler::m_old_mouse_pos</a></div><div class="ttdeci">CharPos m_old_mouse_pos</div><div class="ttdoc">The last seen mouse position in terminal coordinates.</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8hxx_source.html#l00117">XEventHandler.hxx:117</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e50a7411ebadb68e6e833497c01a19b" name="a0e50a7411ebadb68e6e833497c01a19b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e50a7411ebadb68e6e833497c01a19b">&#9670;&#160;</a></span>checkMouseReport() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; std::tuple&lt; xpp::Button, int &gt; &gt; nst::XEventHandler::checkMouseReport </td>
          <td>(</td>
          <td class="paramtype">const xpp::PointerMovedEvent &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classnst_1_1XEventHandler.html#a9626c677892b9c76c32564eff98c47c6" title="Checks whether the given event should be reported on TTY level via escape codes.">checkMouseReport(const xpp::ButtonEvent&amp;)</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00643">643</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  643</span>                                                              {</div>
<div class="line"><span class="lineno">  644</span>        <span class="keyword">const</span> <span class="keyword">auto</span> pos = m_twin.<a class="code hl_function" href="structnst_1_1TermWindow.html#a8c500017d5c6ff9444ca4c7786b07cf6">toCharPos</a>(DrawPos{ev.pos()});</div>
<div class="line"><span class="lineno">  645</span> </div>
<div class="line"><span class="lineno">  646</span>        <span class="keywordflow">if</span> (pos == <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a580b5a21f06709d5942c2341606a9807">m_old_mouse_pos</a>) {</div>
<div class="line"><span class="lineno">  647</span>                <span class="comment">// no new terminal position has been reached.</span></div>
<div class="line"><span class="lineno">  648</span>                <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  649</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!m_twin.reportMouseMotion() &amp;&amp; !m_twin.reportMouseMany()) {</div>
<div class="line"><span class="lineno">  650</span>                <span class="comment">// mouse reporting is not enabled.</span></div>
<div class="line"><span class="lineno">  651</span>                <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  652</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m_twin.reportMouseMotion() &amp;&amp; <a class="code hl_variable" href="classnst_1_1XEventHandler.html#ac253ea668858ff8e380910b9b453df8c">m_buttons</a>.none()) {</div>
<div class="line"><span class="lineno">  653</span>                <span class="comment">// WinMode::MOUSEMOTION: no reporting if no button is pressed</span></div>
<div class="line"><span class="lineno">  654</span>                <span class="comment">//</span></div>
<div class="line"><span class="lineno">  655</span>                <span class="comment">// NOTE: MOUSEMOTION and MOUSEREPORT are mutually exclusive,</span></div>
<div class="line"><span class="lineno">  656</span>                <span class="comment">// this condition is maintained in CSIEscape when one is</span></div>
<div class="line"><span class="lineno">  657</span>                <span class="comment">// enabled, the other is disabled.</span></div>
<div class="line"><span class="lineno">  658</span>                <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  659</span>        }</div>
<div class="line"><span class="lineno">  660</span> </div>
<div class="line"><span class="lineno">  661</span>        <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a580b5a21f06709d5942c2341606a9807">m_old_mouse_pos</a> = pos;</div>
<div class="line"><span class="lineno">  662</span>        <span class="keywordflow">return</span> std::make_tuple(<a class="code hl_variable" href="classnst_1_1XEventHandler.html#ac253ea668858ff8e380910b9b453df8c">m_buttons</a>.<a class="code hl_function" href="classnst_1_1PressedButtons.html#a10c14866d6e35423c29311046cb26769">firstButton</a>(), 32);</div>
<div class="line"><span class="lineno">  663</span>}</div>
<div class="ttc" id="aclassnst_1_1PressedButtons_html_a10c14866d6e35423c29311046cb26769"><div class="ttname"><a href="classnst_1_1PressedButtons.html#a10c14866d6e35423c29311046cb26769">nst::PressedButtons::firstButton</a></div><div class="ttdeci">xpp::Button firstButton() const</div><div class="ttdoc">returns the position of the lowest button pressed, or NO_BUTTON</div><div class="ttdef"><b>Definition</b> <a href="PressedButtons_8hxx_source.html#l00021">PressedButtons.hxx:21</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f3ceb40b52a7c905e442e904377fd15" name="a7f3ceb40b52a7c905e442e904377fd15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f3ceb40b52a7c905e442e904377fd15">&#9670;&#160;</a></span>clientMessage()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::clientMessage </td>
          <td>(</td>
          <td class="paramtype">const xpp::ClientMessageEvent &amp;&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00394">394</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  394</span>                                                                  {</div>
<div class="line"><span class="lineno">  395</span>        <span class="keywordflow">if</span> (msg.type() == atoms::xembed &amp;&amp; msg.format() == 32) {</div>
<div class="line"><span class="lineno">  396</span>                <span class="keyword">using </span>XEmbed = xpp::XEmbedMessageType;</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>                <span class="keywordflow">switch</span> (XEmbed{msg.data().l[1]}) {</div>
<div class="line"><span class="lineno">  399</span>                        <span class="keywordflow">default</span>: <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  400</span>                        <span class="keywordflow">case</span> XEmbed::FOCUS_IN:  <span class="keywordflow">return</span> m_wsys.embeddedFocusChange(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  401</span>                        <span class="keywordflow">case</span> XEmbed::FOCUS_OUT: <span class="keywordflow">return</span> m_wsys.embeddedFocusChange(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  402</span>                }</div>
<div class="line"><span class="lineno">  403</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (msg.type() == xpp::atoms::icccm_wm_protocols &amp;&amp; msg.format() == 32) {</div>
<div class="line"><span class="lineno">  404</span>                <span class="comment">// we indicated that we support the delete window WM protocol,</span></div>
<div class="line"><span class="lineno">  405</span>                <span class="comment">// so react to them - these occur e.g. if you click the window</span></div>
<div class="line"><span class="lineno">  406</span>                <span class="comment">// close button rendered by the WM.</span></div>
<div class="line"><span class="lineno">  407</span>                <span class="keyword">const</span> xpp::AtomID protocol(<span class="keyword">static_cast&lt;</span>xpp::AtomID<span class="keyword">&gt;</span>(msg.data().l[0]));</div>
<div class="line"><span class="lineno">  408</span> </div>
<div class="line"><span class="lineno">  409</span>                <span class="keywordflow">if</span> (protocol == xpp::atoms::icccm_wm_delete_window) {</div>
<div class="line"><span class="lineno">  410</span>                        m_nst.tty().<a class="code hl_function" href="classnst_1_1TTY.html#a6b4b9b8b749549d8d07c6abd12123e00">hangup</a>();</div>
<div class="line"><span class="lineno">  411</span>                }</div>
<div class="line"><span class="lineno">  412</span>        }</div>
<div class="line"><span class="lineno">  413</span>}</div>
<div class="ttc" id="aclassnst_1_1TTY_html_a6b4b9b8b749549d8d07c6abd12123e00"><div class="ttname"><a href="classnst_1_1TTY.html#a6b4b9b8b749549d8d07c6abd12123e00">nst::TTY::hangup</a></div><div class="ttdeci">void hangup()</div><div class="ttdoc">Sends SIGHUP to the child process, informing it that we're quitting.</div><div class="ttdef"><b>Definition</b> <a href="TTY_8cxx_source.html#l00280">TTY.cxx:280</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a801253123fad2a12962a4d33b9418cd4" name="a801253123fad2a12962a4d33b9418cd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a801253123fad2a12962a4d33b9418cd4">&#9670;&#160;</a></span>customKeyMapping()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; std::string_view &gt; nst::XEventHandler::customKeyMapping </td>
          <td>(</td>
          <td class="paramtype">const xpp::KeySymID&#160;</td>
          <td class="paramname"><em>keysym</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const xpp::InputMask&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns an output sequence mapped to the given input event. </p>
<dl class="section return"><dt>Returns</dt><dd>The string sequence associated with the key input event or nullopt_t if nothing is mapped. </dd></dl>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00317">317</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  317</span>                                                                                        {</div>
<div class="line"><span class="lineno">  318</span>        <span class="keywordflow">if</span> (!is_mapped(keysym))</div>
<div class="line"><span class="lineno">  319</span>                <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span>        <span class="keyword">const</span> <span class="keyword">auto</span> tmode = m_twin.mode();</div>
<div class="line"><span class="lineno">  322</span> </div>
<div class="line"><span class="lineno">  323</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> [it, end] = config::KEYS.equal_range(Key{keysym}); it != end; it++) {</div>
<div class="line"><span class="lineno">  324</span>                <span class="keyword">auto</span> &amp;key = *it;</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>                <span class="keywordflow">if</span> (!state_matches(key.mask, state))</div>
<div class="line"><span class="lineno">  327</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  328</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!key.matchesAppKeypad(tmode))</div>
<div class="line"><span class="lineno">  329</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  330</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!key.matchesAppCursor(tmode))</div>
<div class="line"><span class="lineno">  331</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  332</span> </div>
<div class="line"><span class="lineno">  333</span>                <span class="keywordflow">return</span> key.seq;</div>
<div class="line"><span class="lineno">  334</span>        }</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>        <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  337</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1865c8c51e149ca6ed9e2f0ef15f6c4c" name="a1865c8c51e149ca6ed9e2f0ef15f6c4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1865c8c51e149ca6ed9e2f0ef15f6c4c">&#9670;&#160;</a></span>expose()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::expose </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00297">297</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  297</span>                           {</div>
<div class="line"><span class="lineno">  298</span>        m_nst.term().<a class="code hl_function" href="classnst_1_1Term.html#a86af64c7d13d5527b35e82fcf625bcef">redraw</a>();</div>
<div class="line"><span class="lineno">  299</span>}</div>
<div class="ttc" id="aclassnst_1_1Term_html_a86af64c7d13d5527b35e82fcf625bcef"><div class="ttname"><a href="classnst_1_1Term.html#a86af64c7d13d5527b35e82fcf625bcef">nst::Term::redraw</a></div><div class="ttdeci">void redraw()</div><div class="ttdoc">Draws the complete terminal (marking all lines dirty).</div><div class="ttdef"><b>Definition</b> <a href="Term_8hxx_source.html#l00335">Term.hxx:335</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6afca84875a69d7a47d450ac32279025" name="a6afca84875a69d7a47d450ac32279025"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6afca84875a69d7a47d450ac32279025">&#9670;&#160;</a></span>focus()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::focus </td>
          <td>(</td>
          <td class="paramtype">const xpp::FocusChangeEvent &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00309">309</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  309</span>                                                       {</div>
<div class="line"><span class="lineno">  310</span>        <span class="keywordflow">if</span> (ev.mode() == xpp::NotifyMode::GRAB)</div>
<div class="line"><span class="lineno">  311</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>        m_wsys.focusChange(ev.haveFocus());</div>
<div class="line"><span class="lineno">  314</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aab878ac026ae2a7ae229d8841d6b5264" name="aab878ac026ae2a7ae229d8841d6b5264"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab878ac026ae2a7ae229d8841d6b5264">&#9670;&#160;</a></span>getSelectionMode()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename EV &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnst_1_1Selection.html#a8d923f9c49857e3da1c92a018abacf46">Selection::Mode</a> nst::XEventHandler::getSelectionMode </td>
          <td>(</td>
          <td class="paramtype">const EV &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00241">241</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  241</span>                                                          {</div>
<div class="line"><span class="lineno">  242</span>        <span class="keyword">const</span> <span class="keyword">auto</span> state = (ev.state() - xpp::InputModifier::BUTTON1) - <a class="code hl_variable" href="classnst_1_1XEventHandler.html#ae003938dffbe51128caac5710f8b41a3">m_force_mouse_mod</a>;</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> [mode, mask]: <a class="code hl_variable" href="classnst_1_1XEventHandler.html#ac98f6a4b597b422c6f12706292750e64">m_sel_mode_masks</a>) {</div>
<div class="line"><span class="lineno">  245</span>                <span class="keywordflow">if</span> (state_matches(mask, state)) {</div>
<div class="line"><span class="lineno">  246</span>                        <span class="keywordflow">return</span> mode;</div>
<div class="line"><span class="lineno">  247</span>                }</div>
<div class="line"><span class="lineno">  248</span>        }</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>        <span class="keywordflow">return</span> <a class="code hl_enumvalue" href="classnst_1_1Selection.html#a8d923f9c49857e3da1c92a018abacf46a5fbf9f788f6937241ecb1a289c78592c">Selection::Mode::CONT_RANGE</a>;</div>
<div class="line"><span class="lineno">  251</span>}</div>
<div class="ttc" id="aclassnst_1_1Selection_html_a8d923f9c49857e3da1c92a018abacf46a5fbf9f788f6937241ecb1a289c78592c"><div class="ttname"><a href="classnst_1_1Selection.html#a8d923f9c49857e3da1c92a018abacf46a5fbf9f788f6937241ecb1a289c78592c">nst::Selection::Mode::CONT_RANGE</a></div><div class="ttdeci">@ CONT_RANGE</div><div class="ttdoc">Select contiguous text between start/end coordinates (default).</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a67cdf4b665b1df9a513a00010edfae2b" name="a67cdf4b665b1df9a513a00010edfae2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67cdf4b665b1df9a513a00010edfae2b">&#9670;&#160;</a></span>handleMouseAction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; StopScrolling &gt; nst::XEventHandler::handleMouseAction </td>
          <td>(</td>
          <td class="paramtype">const xpp::ButtonEvent &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check mouse shortcuts and execute a possibly configured action for the given event. </p>
<dl class="section return"><dt>Returns</dt><dd>The StopScrolling behaviour if a mouse action was found and executed, otherwise std::nullopt. </dd></dl>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00622">622</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  622</span>                                                                                    {</div>
<div class="line"><span class="lineno">  623</span>        <span class="comment">// ignore Button&lt;N&gt;mask for Button&lt;N&gt; - it&#39;s set on release</span></div>
<div class="line"><span class="lineno">  624</span>        <span class="keyword">const</span> <span class="keyword">auto</span> state = ev.state() - button_mask(ev.buttonNr());</div>
<div class="line"><span class="lineno">  625</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_release = ev.type() == xpp::EventType::BUTTON_RELEASE;</div>
<div class="line"><span class="lineno">  626</span>        <span class="keyword">const</span> <span class="keyword">auto</span> force_mouse = state - <a class="code hl_variable" href="classnst_1_1XEventHandler.html#ae003938dffbe51128caac5710f8b41a3">m_force_mouse_mod</a>;</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;shortcut: m_mouse_shortcuts) {</div>
<div class="line"><span class="lineno">  629</span>                <span class="keywordflow">if</span> (shortcut.release != is_release || shortcut.button != ev.buttonNr())</div>
<div class="line"><span class="lineno">  630</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  631</span> </div>
<div class="line"><span class="lineno">  632</span>                <span class="comment">// exact or forced match</span></div>
<div class="line"><span class="lineno">  633</span>                <span class="keywordflow">if</span> (state_matches(shortcut.mod, state) || state_matches(shortcut.mod, force_mouse)) {</div>
<div class="line"><span class="lineno">  634</span>                        shortcut.func();</div>
<div class="line"><span class="lineno">  635</span>                        <span class="keywordflow">return</span> shortcut.stop_scrolling;</div>
<div class="line"><span class="lineno">  636</span>                }</div>
<div class="line"><span class="lineno">  637</span>        }</div>
<div class="line"><span class="lineno">  638</span> </div>
<div class="line"><span class="lineno">  639</span>        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><span class="lineno">  640</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa80289786afc33c3620d188d24e561a3" name="aa80289786afc33c3620d188d24e561a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa80289786afc33c3620d188d24e561a3">&#9670;&#160;</a></span>handleMouseReport()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename EVENT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::handleMouseReport </td>
          <td>(</td>
          <td class="paramtype">const EVENT &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles mouse event reporting on <a class="el" href="classnst_1_1TTY.html" title="(Pseudo) Terminal I/O.">TTY</a> level for both PointerMovedEvent and ButtonEvent. </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00688">688</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  688</span>                                                     {</div>
<div class="line"><span class="lineno">  689</span> </div>
<div class="line"><span class="lineno">  690</span>        <span class="keyword">auto</span> context = <a class="code hl_function" href="classnst_1_1XEventHandler.html#a9626c677892b9c76c32564eff98c47c6">checkMouseReport</a>(ev);</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>        <span class="keywordflow">if</span> (!context) {</div>
<div class="line"><span class="lineno">  693</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  694</span>        }</div>
<div class="line"><span class="lineno">  695</span> </div>
<div class="line"><span class="lineno">  696</span>        <span class="comment">// the button and escape code to report for the mouse motion</span></div>
<div class="line"><span class="lineno">  697</span>        <span class="keyword">const</span> <span class="keyword">auto</span> button = std::get&lt;0&gt;(*context);</div>
<div class="line"><span class="lineno">  698</span>        <span class="keywordtype">int</span>          code = std::get&lt;1&gt;(*context);</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> is_release = ev.type() == xpp::EventType::BUTTON_RELEASE;</div>
<div class="line"><span class="lineno">  701</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> report_sgr = m_twin.reportMouseSGR();</div>
<div class="line"><span class="lineno">  702</span>        <span class="comment">// checkMouseReport already updated the &quot;old&quot; mouse pos</span></div>
<div class="line"><span class="lineno">  703</span>        <span class="keyword">const</span> <span class="keyword">auto</span> pos = <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a580b5a21f06709d5942c2341606a9807">m_old_mouse_pos</a>;</div>
<div class="line"><span class="lineno">  704</span> </div>
<div class="line"><span class="lineno">  705</span>        <span class="comment">// Encode button into a report code.</span></div>
<div class="line"><span class="lineno">  706</span>        <span class="comment">// If no button is pressed for a motion event in WinMode::MOUSEMANY, then encode it as a release.</span></div>
<div class="line"><span class="lineno">  707</span>        <span class="keywordflow">if</span> ((!report_sgr &amp;&amp; is_release) || button == PressedButtons::NO_BUTTON)</div>
<div class="line"><span class="lineno">  708</span>                code += 3;</div>
<div class="line"><span class="lineno">  709</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (button &gt;= xpp::Button{8})</div>
<div class="line"><span class="lineno">  710</span>                code += 128 + xpp::raw_button(button) - 8;</div>
<div class="line"><span class="lineno">  711</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (button &gt;= xpp::Button{4})</div>
<div class="line"><span class="lineno">  712</span>                code += 64 + xpp::raw_button(button) - 4;</div>
<div class="line"><span class="lineno">  713</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  714</span>                code += xpp::raw_button(button) - 1;</div>
<div class="line"><span class="lineno">  715</span> </div>
<div class="line"><span class="lineno">  716</span>        <span class="keyword">using </span>xpp::InputModifier;</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>        <span class="keywordflow">if</span> (!m_twin.doX10Compatibility()) {</div>
<div class="line"><span class="lineno">  719</span>                <span class="keyword">const</span> <span class="keyword">auto</span> state = ev.state();</div>
<div class="line"><span class="lineno">  720</span>                code += (state[InputModifier::SHIFT]   ?  4 : 0)</div>
<div class="line"><span class="lineno">  721</span>                      + (state[InputModifier::MOD1]    ?  8 : 0) <span class="comment">// meta key: alt</span></div>
<div class="line"><span class="lineno">  722</span>                      + (state[InputModifier::CONTROL] ? 16 : 0);</div>
<div class="line"><span class="lineno">  723</span>        }</div>
<div class="line"><span class="lineno">  724</span> </div>
<div class="line"><span class="lineno">  725</span>        <span class="comment">// NOTE: this here breaks a bit the encapsulation, we have the choice</span></div>
<div class="line"><span class="lineno">  726</span>        <span class="comment">// to pass X11 data into EscapeHandler or to generate CSI sequences</span></div>
<div class="line"><span class="lineno">  727</span>        <span class="comment">// in here.</span></div>
<div class="line"><span class="lineno">  728</span>        std::string report;</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span>        <span class="keywordflow">if</span> (report_sgr) {</div>
<div class="line"><span class="lineno">  731</span>                <span class="keyword">const</span> <span class="keyword">auto</span> ch = is_release ? <span class="charliteral">&#39;m&#39;</span> : <span class="charliteral">&#39;M&#39;</span>;</div>
<div class="line"><span class="lineno">  732</span>                report = cosmos::sprintf(</div>
<div class="line"><span class="lineno">  733</span>                                <span class="stringliteral">&quot;\033[&lt;%d;%d;%d%c&quot;</span>,</div>
<div class="line"><span class="lineno">  734</span>                                code, pos.x+1, pos.y+1, ch);</div>
<div class="line"><span class="lineno">  735</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pos.x &lt; 223 &amp;&amp; pos.y &lt; 223) {</div>
<div class="line"><span class="lineno">  736</span>                report = cosmos::sprintf(</div>
<div class="line"><span class="lineno">  737</span>                                <span class="stringliteral">&quot;\033[M%c%c%c&quot;</span>,</div>
<div class="line"><span class="lineno">  738</span>                                32 + code, 32 + pos.x + 1, 32 + pos.y + 1);</div>
<div class="line"><span class="lineno">  739</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  740</span>                <span class="comment">// position out of range for mouse reporting</span></div>
<div class="line"><span class="lineno">  741</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  742</span>        }</div>
<div class="line"><span class="lineno">  743</span> </div>
<div class="line"><span class="lineno">  744</span>        m_nst.tty().<a class="code hl_function" href="classnst_1_1TTY.html#a8be1c9ffd638c22516037c687a6504be">write</a>(report, TTY::MayEcho(<span class="keyword">false</span>));</div>
<div class="line"><span class="lineno">  745</span>}</div>
<div class="ttc" id="aclassnst_1_1TTY_html_a8be1c9ffd638c22516037c687a6504be"><div class="ttname"><a href="classnst_1_1TTY.html#a8be1c9ffd638c22516037c687a6504be">nst::TTY::write</a></div><div class="ttdeci">void write(const std::string_view sv, const MayEcho echo)</div><div class="ttdoc">Provide input to the child process e.g. character input from key presses.</div><div class="ttdef"><b>Definition</b> <a href="TTY_8cxx_source.html#l00183">TTY.cxx:183</a></div></div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_a9626c677892b9c76c32564eff98c47c6"><div class="ttname"><a href="classnst_1_1XEventHandler.html#a9626c677892b9c76c32564eff98c47c6">nst::XEventHandler::checkMouseReport</a></div><div class="ttdeci">std::optional&lt; std::tuple&lt; xpp::Button, int &gt; &gt; checkMouseReport(const xpp::ButtonEvent &amp;ev)</div><div class="ttdoc">Checks whether the given event should be reported on TTY level via escape codes.</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8cxx_source.html#l00666">XEventHandler.cxx:666</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a7ed73dd95364325757aab4c433bc0fad" name="a7ed73dd95364325757aab4c433bc0fad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ed73dd95364325757aab4c433bc0fad">&#9670;&#160;</a></span>handleMouseSelection()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename EVENT &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::handleMouseSelection </td>
          <td>(</td>
          <td class="paramtype">const EVENT &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles mouse selection events for both PointerMovedEvent and ButtonEvent. </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00748">748</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  748</span>                                                        {</div>
<div class="line"><span class="lineno">  749</span>        <span class="keyword">const</span> <span class="keyword">auto</span> mode = getSelectionMode(ev);</div>
<div class="line"><span class="lineno">  750</span>        <span class="keyword">const</span> <span class="keyword">auto</span> flags = get_selection_flags(ev, <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a6b14f66271da9b350c0ec01db085f2b7">m_sel_alt_mod</a>);</div>
<div class="line"><span class="lineno">  751</span>        <span class="keyword">const</span> <span class="keyword">auto</span> pos = m_twin.<a class="code hl_function" href="structnst_1_1TermWindow.html#a8c500017d5c6ff9444ca4c7786b07cf6">toCharPos</a>(DrawPos{ev.pos()});</div>
<div class="line"><span class="lineno">  752</span> </div>
<div class="line"><span class="lineno">  753</span>        <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> finished = m_nst.selection().<a class="code hl_function" href="classnst_1_1Selection.html#a760eb12d2d22a9cf070104996e0b70c7">update</a>(pos, mode, flags); finished) {</div>
<div class="line"><span class="lineno">  754</span>                <span class="comment">// button was released, only now set the actual X selection</span></div>
<div class="line"><span class="lineno">  755</span>                <a class="code hl_function" href="classnst_1_1XEventHandler.html#a85f2740ae80004b96931e80416001ea0">applySelection</a>(ev.time());</div>
<div class="line"><span class="lineno">  756</span>        }</div>
<div class="line"><span class="lineno">  757</span>}</div>
<div class="ttc" id="aclassnst_1_1Selection_html_a760eb12d2d22a9cf070104996e0b70c7"><div class="ttname"><a href="classnst_1_1Selection.html#a760eb12d2d22a9cf070104996e0b70c7">nst::Selection::update</a></div><div class="ttdeci">bool update(const CharPos pos, const Mode mode, const Flags flags)</div><div class="ttdoc">Updates an active selection at/to the given position using the given type and context.</div><div class="ttdef"><b>Definition</b> <a href="Selection_8cxx_source.html#l00114">Selection.cxx:114</a></div></div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_a85f2740ae80004b96931e80416001ea0"><div class="ttname"><a href="classnst_1_1XEventHandler.html#a85f2740ae80004b96931e80416001ea0">nst::XEventHandler::applySelection</a></div><div class="ttdeci">void applySelection(Time time)</div><div class="ttdoc">Store the currently selected text in the X11 selection buffer.</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8cxx_source.html#l00759">XEventHandler.cxx:759</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acd25ada3633b48dfddd053a91c3d2448" name="acd25ada3633b48dfddd053a91c3d2448"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd25ada3633b48dfddd053a91c3d2448">&#9670;&#160;</a></span>handleSelectionEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::handleSelectionEvent </td>
          <td>(</td>
          <td class="paramtype">const xpp::AtomID&#160;</td>
          <td class="paramname"><em>selprop</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles a selection input event provided in the property <code>selprop</code>. </p>
<p>Deleting the property is the transfer start signal.</p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00443">443</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  443</span>                                                                {</div>
<div class="line"><span class="lineno">  444</span>        <span class="keyword">auto</span> &amp;win = m_wsys.window();</div>
<div class="line"><span class="lineno">  445</span>        <span class="keyword">auto</span> &amp;term = m_nst.term();</div>
<div class="line"><span class="lineno">  446</span>        xpp::XWindow::PropertyInfo info;</div>
<div class="line"><span class="lineno">  447</span>        xpp::RawProperty prop{BUFSIZ};</div>
<div class="line"><span class="lineno">  448</span>        <span class="keyword">const</span> <span class="keywordtype">bool</span> bracketed_paste = m_twin.checkFlag(WinMode::BRKT_PASTE);</div>
<div class="line"><span class="lineno">  449</span> </div>
<div class="line"><span class="lineno">  450</span>        <span class="keywordflow">if</span> (selprop == xpp::AtomID::INVALID)</div>
<div class="line"><span class="lineno">  451</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  452</span> </div>
<div class="line"><span class="lineno">  453</span>        <span class="keywordflow">do</span> {</div>
<div class="line"><span class="lineno">  454</span>                <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  455</span>                        win.getRawProperty(selprop, info, prop);</div>
<div class="line"><span class="lineno">  456</span>                } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;ex) {</div>
<div class="line"><span class="lineno">  457</span>                        m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().error() &lt;&lt; <span class="stringliteral">&quot;Selection property retrieval failed: &quot;</span> &lt;&lt; ex.what() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  458</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  459</span>                }</div>
<div class="line"><span class="lineno">  460</span> </div>
<div class="line"><span class="lineno">  461</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>.isPropertyNotify() &amp;&amp; prop.length == 0 &amp;&amp; prop.left == 0) {</div>
<div class="line"><span class="lineno">  462</span>                        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  463</span><span class="comment">                         * If there is some PropertyNotify with no data, then</span></div>
<div class="line"><span class="lineno">  464</span><span class="comment">                         * this is the signal of the selection owner that all</span></div>
<div class="line"><span class="lineno">  465</span><span class="comment">                         * data has been transferred. We won&#39;t need to receive</span></div>
<div class="line"><span class="lineno">  466</span><span class="comment">                         * PropertyNotify events anymore.</span></div>
<div class="line"><span class="lineno">  467</span><span class="comment">                         */</span></div>
<div class="line"><span class="lineno">  468</span>                        m_wsys.<a class="code hl_function" href="classnst_1_1WindowSystem.html#a940d9f3de9d1384fb21b11da431c9f36">changeEventMask</a>(xpp::EventMask::PROPERTY_CHANGE, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  469</span>                }</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>                <span class="keywordflow">if</span> (info.type == atoms::incr) {</div>
<div class="line"><span class="lineno">  472</span>                        <span class="comment">// an incremental selection content transfer started,</span></div>
<div class="line"><span class="lineno">  473</span>                        <span class="comment">// see https://tronche.com/gui/x/icccm/sec-2.html#s-2.7.2</span></div>
<div class="line"><span class="lineno">  474</span>                        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  475</span><span class="comment">                         * Activate the PropertyNotify events so we receive</span></div>
<div class="line"><span class="lineno">  476</span><span class="comment">                         * when the selection owner does send us the next</span></div>
<div class="line"><span class="lineno">  477</span><span class="comment">                         * chunk of data.</span></div>
<div class="line"><span class="lineno">  478</span><span class="comment">                         */</span></div>
<div class="line"><span class="lineno">  479</span>                        m_wsys.<a class="code hl_function" href="classnst_1_1WindowSystem.html#a940d9f3de9d1384fb21b11da431c9f36">changeEventMask</a>(xpp::EventMask::PROPERTY_CHANGE, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  480</span> </div>
<div class="line"><span class="lineno">  482</span>                        win.delProperty(selprop);</div>
<div class="line"><span class="lineno">  483</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  484</span>                }</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  487</span><span class="comment">                 * As seen in Selection::data():</span></div>
<div class="line"><span class="lineno">  488</span><span class="comment">                 * Line endings are inconsistent in the terminal and GUI world</span></div>
<div class="line"><span class="lineno">  489</span><span class="comment">                 * copy and pasting. When receiving some selection data,</span></div>
<div class="line"><span class="lineno">  490</span><span class="comment">                 * replace all &#39;\n&#39; with &#39;\r&#39;.</span></div>
<div class="line"><span class="lineno">  491</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  492</span>                <span class="keyword">auto</span> ptr = prop.data.get();</div>
<div class="line"><span class="lineno">  493</span>                std::replace(ptr, ptr + prop.length, <span class="charliteral">&#39;\n&#39;</span>, <span class="charliteral">&#39;\r&#39;</span>);</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>                <span class="keywordflow">if</span> (bracketed_paste &amp;&amp; prop.offset == 0)</div>
<div class="line"><span class="lineno">  496</span>                        term.reportPaste(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  497</span> </div>
<div class="line"><span class="lineno">  498</span>                m_nst.tty().<a class="code hl_function" href="classnst_1_1TTY.html#a8be1c9ffd638c22516037c687a6504be">write</a>(prop.view(), TTY::MayEcho{true});</div>
<div class="line"><span class="lineno">  499</span> </div>
<div class="line"><span class="lineno">  500</span>                <span class="keywordflow">if</span> (bracketed_paste &amp;&amp; prop.left == 0)</div>
<div class="line"><span class="lineno">  501</span>                        term.reportPaste(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  502</span>                <span class="comment">// number of 32-bit chunks returned</span></div>
<div class="line"><span class="lineno">  503</span>                prop.offset += prop.length;</div>
<div class="line"><span class="lineno">  504</span>        } <span class="keywordflow">while</span> (prop.left &gt; 0);</div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>        <span class="comment">// Deleting the property again tells the selection owner to send the</span></div>
<div class="line"><span class="lineno">  507</span>        <span class="comment">// next data chunk in the property.</span></div>
<div class="line"><span class="lineno">  508</span>        win.delProperty(selprop);</div>
<div class="line"><span class="lineno">  509</span>}</div>
<div class="ttc" id="aclassnst_1_1WindowSystem_html_a940d9f3de9d1384fb21b11da431c9f36"><div class="ttname"><a href="classnst_1_1WindowSystem.html#a940d9f3de9d1384fb21b11da431c9f36">nst::WindowSystem::changeEventMask</a></div><div class="ttdeci">void changeEventMask(const xpp::EventMask event, bool on_off)</div><div class="ttdoc">Change whether the given event types will be reported by X11.</div><div class="ttdef"><b>Definition</b> <a href="WindowSystem_8cxx_source.html#l00725">WindowSystem.cxx:725</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a379d627aed131719f581b5da7346de2c" name="a379d627aed131719f581b5da7346de2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a379d627aed131719f581b5da7346de2c">&#9670;&#160;</a></span>keyPress()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">StopScrolling nst::XEventHandler::keyPress </td>
          <td>(</td>
          <td class="paramtype">const xpp::KeyEvent &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00339">339</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  339</span>                                                           {</div>
<div class="line"><span class="lineno">  340</span>        <span class="keyword">const</span> <span class="keyword">auto</span> tmode = m_twin.mode();</div>
<div class="line"><span class="lineno">  341</span>        <span class="keyword">const</span> <span class="keyword">auto</span> keepscroll = StopScrolling{<span class="keyword">false</span>};</div>
<div class="line"><span class="lineno">  342</span> </div>
<div class="line"><span class="lineno">  343</span>        m_wsys.hidePointer();</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>        <span class="keywordflow">if</span> (tmode[WinMode::KBDLOCK])</div>
<div class="line"><span class="lineno">  346</span>                <span class="keywordflow">return</span> keepscroll;</div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span>        <span class="keyword">const</span> <span class="keyword">auto</span> ksym = m_wsys.<a class="code hl_variable" href="classnst_1_1WindowSystem.html#add066ef8d65454d2adfec2f69e912246">m_input</a>.<a class="code hl_function" href="structnst_1_1Input.html#ab1cbe0c5a603ac95a4874d2ba3821848">lookupString</a>(ev, <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a>);</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>        <span class="keywordflow">if</span> (ksym == xpp::KeySymID::NO_SYMBOL &amp;&amp; <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a>.empty())</div>
<div class="line"><span class="lineno">  351</span>                <span class="comment">// lookup failed</span></div>
<div class="line"><span class="lineno">  352</span>                <span class="keywordflow">return</span> keepscroll;</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>        <span class="comment">// 1. shortcuts</span></div>
<div class="line"><span class="lineno">  355</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;shortcut: m_kbd_shortcuts) {</div>
<div class="line"><span class="lineno">  356</span>                <span class="keywordflow">if</span> (ksym == shortcut.keysym &amp;&amp; state_matches(shortcut.mod, ev.state())) {</div>
<div class="line"><span class="lineno">  357</span>                        shortcut.func();</div>
<div class="line"><span class="lineno">  358</span>                        <span class="keywordflow">return</span> shortcut.stop_scrolling;</div>
<div class="line"><span class="lineno">  359</span>                }</div>
<div class="line"><span class="lineno">  360</span>        }</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>        <span class="comment">// 2. custom keys from configuration</span></div>
<div class="line"><span class="lineno">  363</span>        <span class="keywordflow">if</span> (<span class="keyword">auto</span> seq = <a class="code hl_function" href="classnst_1_1XEventHandler.html#a801253123fad2a12962a4d33b9418cd4">customKeyMapping</a>(ksym, ev.state()); seq) {</div>
<div class="line"><span class="lineno">  364</span>                m_nst.tty().<a class="code hl_function" href="classnst_1_1TTY.html#a8be1c9ffd638c22516037c687a6504be">write</a>(*seq, TTY::MayEcho{<span class="keyword">true</span>});</div>
<div class="line"><span class="lineno">  365</span>                <span class="comment">// this pastes use triggered escape sequences so stop scrolling</span></div>
<div class="line"><span class="lineno">  366</span>                <span class="keywordflow">return</span> StopScrolling{<span class="keyword">true</span>};</div>
<div class="line"><span class="lineno">  367</span>        }</div>
<div class="line"><span class="lineno">  368</span> </div>
<div class="line"><span class="lineno">  369</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a>.empty())</div>
<div class="line"><span class="lineno">  370</span>                <span class="keywordflow">return</span> keepscroll;</div>
<div class="line"><span class="lineno">  371</span> </div>
<div class="line"><span class="lineno">  372</span>        <span class="comment">// 3. composed string from input method</span></div>
<div class="line"><span class="lineno">  373</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a>.size() == 1 &amp;&amp; ev.state()[xpp::InputModifier::MOD1]) {</div>
<div class="line"><span class="lineno">  374</span>                <span class="keywordflow">if</span> (tmode[WinMode::EIGHT_BIT]) {</div>
<div class="line"><span class="lineno">  375</span>                        <span class="comment">// signify MOD1 state by setting the eighth bit</span></div>
<div class="line"><span class="lineno">  376</span>                        <span class="keywordflow">if</span> ((<a class="code hl_variable" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a>[0] &amp; 0x80) == 0) {</div>
<div class="line"><span class="lineno">  377</span>                                <a class="code hl_typedef" href="types_8hxx.html#a87f849089652632c8f175d10d181967a">Rune</a> c = <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a>[0] | 0x80;</div>
<div class="line"><span class="lineno">  378</span>                                <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a>.clear();</div>
<div class="line"><span class="lineno">  379</span>                                utf8::encode(c, <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a>);</div>
<div class="line"><span class="lineno">  380</span>                        }</div>
<div class="line"><span class="lineno">  381</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  382</span>                        <span class="comment">// NOTE: unclear why in this case this is turned into</span></div>
<div class="line"><span class="lineno">  383</span>                        <span class="comment">// an escape sequence.</span></div>
<div class="line"><span class="lineno">  384</span>                        <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a>.resize(2);</div>
<div class="line"><span class="lineno">  385</span>                        <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a>[1] = <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a>[0];</div>
<div class="line"><span class="lineno">  386</span>                        <a class="code hl_variable" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a>[0] = <span class="charliteral">&#39;\033&#39;</span>;</div>
<div class="line"><span class="lineno">  387</span>                }</div>
<div class="line"><span class="lineno">  388</span>        }</div>
<div class="line"><span class="lineno">  389</span> </div>
<div class="line"><span class="lineno">  390</span>        m_nst.tty().<a class="code hl_function" href="classnst_1_1TTY.html#a8be1c9ffd638c22516037c687a6504be">write</a>(<a class="code hl_variable" href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">m_key_buf</a>, TTY::MayEcho{<span class="keyword">true</span>});</div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">return</span> StopScrolling{<span class="keyword">true</span>};</div>
<div class="line"><span class="lineno">  392</span>}</div>
<div class="ttc" id="aclassnst_1_1WindowSystem_html_add066ef8d65454d2adfec2f69e912246"><div class="ttname"><a href="classnst_1_1WindowSystem.html#add066ef8d65454d2adfec2f69e912246">nst::WindowSystem::m_input</a></div><div class="ttdeci">Input m_input</div><div class="ttdoc">X11 input handling logic.</div><div class="ttdef"><b>Definition</b> <a href="WindowSystem_8hxx_source.html#l00208">WindowSystem.hxx:208</a></div></div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_a5f0be399825f31ef7c5821331a21ed36"><div class="ttname"><a href="classnst_1_1XEventHandler.html#a5f0be399825f31ef7c5821331a21ed36">nst::XEventHandler::m_key_buf</a></div><div class="ttdeci">std::string m_key_buf</div><div class="ttdoc">reused input sequence string for XInput</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8hxx_source.html#l00119">XEventHandler.hxx:119</a></div></div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_a801253123fad2a12962a4d33b9418cd4"><div class="ttname"><a href="classnst_1_1XEventHandler.html#a801253123fad2a12962a4d33b9418cd4">nst::XEventHandler::customKeyMapping</a></div><div class="ttdeci">std::optional&lt; std::string_view &gt; customKeyMapping(const xpp::KeySymID keysym, const xpp::InputMask state) const</div><div class="ttdoc">Returns an output sequence mapped to the given input event.</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8cxx_source.html#l00317">XEventHandler.cxx:317</a></div></div>
<div class="ttc" id="astructnst_1_1Input_html_ab1cbe0c5a603ac95a4874d2ba3821848"><div class="ttname"><a href="structnst_1_1Input.html#ab1cbe0c5a603ac95a4874d2ba3821848">nst::Input::lookupString</a></div><div class="ttdeci">xpp::KeySymID lookupString(const xpp::KeyEvent &amp;ev, std::string &amp;s)</div><div class="ttdoc">Looks up a KeySym and string representation of the given event.</div><div class="ttdef"><b>Definition</b> <a href="Input_8cxx_source.html#l00142">Input.cxx:142</a></div></div>
<div class="ttc" id="atypes_8hxx_html_a87f849089652632c8f175d10d181967a"><div class="ttname"><a href="types_8hxx.html#a87f849089652632c8f175d10d181967a">nst::Rune</a></div><div class="ttdeci">uint32_t Rune</div><div class="ttdoc">Primitive integer type to store character codes to be displayed on the terminal.</div><div class="ttdef"><b>Definition</b> <a href="types_8hxx_source.html#l00379">types.hxx:379</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a16649966758167f00e3951b5dc94c84c" name="a16649966758167f00e3951b5dc94c84c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a16649966758167f00e3951b5dc94c84c">&#9670;&#160;</a></span>pointerMovedEvent()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::pointerMovedEvent </td>
          <td>(</td>
          <td class="paramtype">const xpp::PointerMovedEvent &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00610">610</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  610</span>                                                                    {</div>
<div class="line"><span class="lineno">  611</span>        <span class="keyword">const</span> <span class="keyword">auto</span> force_mouse = ev.state().anyOf(<a class="code hl_variable" href="classnst_1_1XEventHandler.html#ae003938dffbe51128caac5710f8b41a3">m_force_mouse_mod</a>);</div>
<div class="line"><span class="lineno">  612</span> </div>
<div class="line"><span class="lineno">  613</span>        m_wsys.showPointer();</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>        <span class="keywordflow">if</span> (m_twin.inMouseMode() &amp;&amp; !force_mouse) {</div>
<div class="line"><span class="lineno">  616</span>                <a class="code hl_function" href="classnst_1_1XEventHandler.html#aa80289786afc33c3620d188d24e561a3">handleMouseReport</a>(ev);</div>
<div class="line"><span class="lineno">  617</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  618</span>                <a class="code hl_function" href="classnst_1_1XEventHandler.html#a7ed73dd95364325757aab4c433bc0fad">handleMouseSelection</a>(ev);</div>
<div class="line"><span class="lineno">  619</span>        }</div>
<div class="line"><span class="lineno">  620</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a937eb33ea9e811e14929c275b195a3ce" name="a937eb33ea9e811e14929c275b195a3ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a937eb33ea9e811e14929c275b195a3ce">&#9670;&#160;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::process </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Processes the currently set X11 event. </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00268">268</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  268</span>                            {</div>
<div class="line"><span class="lineno">  269</span>        <span class="keyword">using </span>Event = xpp::EventType;</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>        StopScrolling ss{<span class="keyword">false</span>};</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>.type()) {</div>
<div class="line"><span class="lineno">  274</span>                <span class="keywordflow">default</span>: <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  275</span>                <span class="keywordflow">case</span> Event::KEY_PRESS:           ss = keyPress         (xpp::KeyEvent{<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>}); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  276</span>                <span class="keywordflow">case</span> Event::CLIENT_MESSAGE:    <span class="keywordflow">return</span> clientMessage    (xpp::ClientMessageEvent{<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>});</div>
<div class="line"><span class="lineno">  277</span>                <span class="keywordflow">case</span> Event::CONFIGURE_NOTIFY:  <span class="keywordflow">return</span> resize           (xpp::ConfigureEvent{<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>});</div>
<div class="line"><span class="lineno">  278</span>                <span class="keywordflow">case</span> Event::VISIBILITY_NOTIFY: <span class="keywordflow">return</span> visibilityChange (xpp::VisibilityEvent{<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>});</div>
<div class="line"><span class="lineno">  279</span>                <span class="keywordflow">case</span> Event::UNMAP_NOTIFY:      <span class="keywordflow">return</span> unmap();</div>
<div class="line"><span class="lineno">  280</span>                <span class="keywordflow">case</span> Event::EXPOSE:            <span class="keywordflow">return</span> expose();</div>
<div class="line"><span class="lineno">  281</span>                <span class="keywordflow">case</span> Event::FOCUS_IN:          <span class="comment">/* FALLTHROUGH */</span></div>
<div class="line"><span class="lineno">  282</span>                <span class="keywordflow">case</span> Event::FOCUS_OUT:         <span class="keywordflow">return</span> focus            (xpp::FocusChangeEvent{<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>});</div>
<div class="line"><span class="lineno">  283</span>                <span class="keywordflow">case</span> Event::MOTION_NOTIFY:     <span class="keywordflow">return</span> pointerMovedEvent(xpp::PointerMovedEvent{<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>});</div>
<div class="line"><span class="lineno">  284</span>                <span class="keywordflow">case</span> Event::BUTTON_PRESS:        ss = buttonPress      (xpp::ButtonEvent{<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>}); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  285</span>                <span class="keywordflow">case</span> Event::BUTTON_RELEASE:      ss = buttonRelease    (xpp::ButtonEvent{<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>}); <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  286</span>                <span class="keywordflow">case</span> Event::SELECTION_NOTIFY:  <span class="keywordflow">return</span> selectionNotify  (xpp::SelectionEvent{<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>});</div>
<div class="line"><span class="lineno">  287</span>                <span class="keywordflow">case</span> Event::PROPERTY_NOTIFY:   <span class="keywordflow">return</span> propertyNotify   (xpp::PropertyEvent{<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>});</div>
<div class="line"><span class="lineno">  288</span>                <span class="keywordflow">case</span> Event::SELECTION_CLEAR:   <span class="keywordflow">return</span> selectionClear();</div>
<div class="line"><span class="lineno">  289</span>                <span class="keywordflow">case</span> Event::SELECTION_REQUEST: <span class="keywordflow">return</span> <a class="code hl_function" href="classnst_1_1XEventHandler.html#ae4e8022434297d21c2f3935ef57b1593">selectionRequest</a> (xpp::SelectionRequestEvent{<a class="code hl_variable" href="classnst_1_1XEventHandler.html#aa97c4e8658ab9b191815dfcbbda17d4e">m_event</a>});</div>
<div class="line"><span class="lineno">  290</span>        }</div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>        <span class="keywordflow">if</span> (ss) {</div>
<div class="line"><span class="lineno">  293</span>                m_nst.term().stopScrolling();</div>
<div class="line"><span class="lineno">  294</span>        }</div>
<div class="line"><span class="lineno">  295</span>}</div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_ae4e8022434297d21c2f3935ef57b1593"><div class="ttname"><a href="classnst_1_1XEventHandler.html#ae4e8022434297d21c2f3935ef57b1593">nst::XEventHandler::selectionRequest</a></div><div class="ttdeci">void selectionRequest(const xpp::SelectionRequestEvent &amp;)</div><div class="ttdoc">Another X client requests the selection held by us.</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8cxx_source.html#l00517">XEventHandler.cxx:517</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adb37c6521ba6801fa040bb44b1ff17ca" name="adb37c6521ba6801fa040bb44b1ff17ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb37c6521ba6801fa040bb44b1ff17ca">&#9670;&#160;</a></span>propertyNotify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::propertyNotify </td>
          <td>(</td>
          <td class="paramtype">const xpp::PropertyEvent &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00424">424</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  424</span>                                                             {</div>
<div class="line"><span class="lineno">  425</span>        <span class="comment">// PropertyNotify is only turned on when there is some</span></div>
<div class="line"><span class="lineno">  426</span>        <span class="comment">// INCR transfer happening for the selection retrieval.</span></div>
<div class="line"><span class="lineno">  427</span> </div>
<div class="line"><span class="lineno">  428</span>        <span class="keywordflow">if</span> (ev.state() != xpp::PropertyNotification::NEW_VALUE)</div>
<div class="line"><span class="lineno">  429</span>               <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>        <span class="keyword">const</span> <span class="keyword">auto</span> <span class="keyword">property</span> = ev.property();</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>        <span class="keywordflow">if</span> (property == xpp::atoms::primary_selection ||</div>
<div class="line"><span class="lineno">  434</span>                        property == xpp::atoms::clipboard) {</div>
<div class="line"><span class="lineno">  435</span>                <a class="code hl_function" href="classnst_1_1XEventHandler.html#acd25ada3633b48dfddd053a91c3d2448">handleSelectionEvent</a>(property);</div>
<div class="line"><span class="lineno">  436</span>        }</div>
<div class="line"><span class="lineno">  437</span>}</div>
<div class="ttc" id="aclassnst_1_1XEventHandler_html_acd25ada3633b48dfddd053a91c3d2448"><div class="ttname"><a href="classnst_1_1XEventHandler.html#acd25ada3633b48dfddd053a91c3d2448">nst::XEventHandler::handleSelectionEvent</a></div><div class="ttdeci">void handleSelectionEvent(const xpp::AtomID selprop)</div><div class="ttdoc">Handles a selection input event provided in the property selprop.</div><div class="ttdef"><b>Definition</b> <a href="XEventHandler_8cxx_source.html#l00443">XEventHandler.cxx:443</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a95bcb0739daa5c58343a49bf1d0a3d80" name="a95bcb0739daa5c58343a49bf1d0a3d80"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95bcb0739daa5c58343a49bf1d0a3d80">&#9670;&#160;</a></span>resize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::resize </td>
          <td>(</td>
          <td class="paramtype">const xpp::ConfigureEvent &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00415">415</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  415</span>                                                          {</div>
<div class="line"><span class="lineno">  416</span>        <span class="keyword">const</span> Extent new_size{config.extent()};</div>
<div class="line"><span class="lineno">  417</span> </div>
<div class="line"><span class="lineno">  418</span>        <span class="keywordflow">if</span> (new_size != m_twin.winExtent()) {</div>
<div class="line"><span class="lineno">  419</span>                m_wsys.<a class="code hl_function" href="classnst_1_1WindowSystem.html#a8531f4542eaae5ab73d8ff1e15dcfe2d">setWinSize</a>(new_size);</div>
<div class="line"><span class="lineno">  420</span>                m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#aac7ec02e7dbb9e0c856a71e9da9f4ed3">resizeConsole</a>();</div>
<div class="line"><span class="lineno">  421</span>        }</div>
<div class="line"><span class="lineno">  422</span>}</div>
<div class="ttc" id="aclassnst_1_1Nst_html_aac7ec02e7dbb9e0c856a71e9da9f4ed3"><div class="ttname"><a href="classnst_1_1Nst.html#aac7ec02e7dbb9e0c856a71e9da9f4ed3">nst::Nst::resizeConsole</a></div><div class="ttdeci">void resizeConsole()</div><div class="ttdoc">resize all necessary structures after the window or font size changed</div><div class="ttdef"><b>Definition</b> <a href="nst_8cxx_source.html#l00321">nst.cxx:321</a></div></div>
<div class="ttc" id="aclassnst_1_1WindowSystem_html_a8531f4542eaae5ab73d8ff1e15dcfe2d"><div class="ttname"><a href="classnst_1_1WindowSystem.html#a8531f4542eaae5ab73d8ff1e15dcfe2d">nst::WindowSystem::setWinSize</a></div><div class="ttdeci">void setWinSize(const Extent ext)</div><div class="ttdoc">Apply a new graphical window size.</div><div class="ttdef"><b>Definition</b> <a href="WindowSystem_8hxx_source.html#l00055">WindowSystem.hxx:55</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a06af973691b33b65f00084b8d2c6c8a1" name="a06af973691b33b65f00084b8d2c6c8a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06af973691b33b65f00084b8d2c6c8a1">&#9670;&#160;</a></span>selectionClear()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::selectionClear </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00511">511</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  511</span>                                   {</div>
<div class="line"><span class="lineno">  512</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1XEventHandler.html#a8d29a57ef3f2170e2f5489e690d56eed">m_auto_clear_selection</a>) {</div>
<div class="line"><span class="lineno">  513</span>                m_nst.selection().<a class="code hl_function" href="classnst_1_1Selection.html#a9157327027c14bd2882662e89f0e69c1">reset</a>();</div>
<div class="line"><span class="lineno">  514</span>        }</div>
<div class="line"><span class="lineno">  515</span>}</div>
<div class="ttc" id="aclassnst_1_1Selection_html_a9157327027c14bd2882662e89f0e69c1"><div class="ttname"><a href="classnst_1_1Selection.html#a9157327027c14bd2882662e89f0e69c1">nst::Selection::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Removes the current selection and resets Selection state.</div><div class="ttdef"><b>Definition</b> <a href="Selection_8cxx_source.html#l00030">Selection.cxx:30</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af670a9280393ccf32a37b7b113fb34eb" name="af670a9280393ccf32a37b7b113fb34eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af670a9280393ccf32a37b7b113fb34eb">&#9670;&#160;</a></span>selectionNotify()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::selectionNotify </td>
          <td>(</td>
          <td class="paramtype">const xpp::SelectionEvent &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00439">439</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  439</span>                                                               {</div>
<div class="line"><span class="lineno">  440</span>        <span class="keywordflow">return</span> <a class="code hl_function" href="classnst_1_1XEventHandler.html#acd25ada3633b48dfddd053a91c3d2448">handleSelectionEvent</a>(ev.property());</div>
<div class="line"><span class="lineno">  441</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae4e8022434297d21c2f3935ef57b1593" name="ae4e8022434297d21c2f3935ef57b1593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4e8022434297d21c2f3935ef57b1593">&#9670;&#160;</a></span>selectionRequest()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::selectionRequest </td>
          <td>(</td>
          <td class="paramtype">const xpp::SelectionRequestEvent &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Another X client requests the selection held by us. </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00517">517</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  517</span>                                                                        {</div>
<div class="line"><span class="lineno">  518</span>        xpp::Event raw_response{xpp::EventType::SELECTION_NOTIFY};</div>
<div class="line"><span class="lineno">  519</span>        xpp::SelectionEvent response{raw_response};</div>
<div class="line"><span class="lineno">  520</span>        response.setRequestor(req.requestor());</div>
<div class="line"><span class="lineno">  521</span>        response.setSelection(req.selection());</div>
<div class="line"><span class="lineno">  522</span>        response.setTarget(req.target());</div>
<div class="line"><span class="lineno">  523</span>        response.setTime(req.time());</div>
<div class="line"><span class="lineno">  524</span>        <span class="comment">// reject by default, if nothing matches below</span></div>
<div class="line"><span class="lineno">  525</span>        response.setProperty(xpp::AtomID::INVALID);</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>        xpp::XWindow requestor{req.requestor()};</div>
<div class="line"><span class="lineno">  528</span>        <span class="keyword">const</span> xpp::AtomID target{req.target()};</div>
<div class="line"><span class="lineno">  529</span>        <span class="keyword">const</span> xpp::AtomID req_prop = req.property() == xpp::AtomID::INVALID ?</div>
<div class="line"><span class="lineno">  530</span>                        target : req.property();</div>
<div class="line"><span class="lineno">  531</span> </div>
<div class="line"><span class="lineno">  532</span>        <span class="keyword">auto</span> &amp;xsel = m_wsys.selection();</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>        <span class="keywordflow">if</span> (target == atoms::targets) {</div>
<div class="line"><span class="lineno">  535</span>                <span class="comment">// respond with the supported type.</span></div>
<div class="line"><span class="lineno">  536</span>                xpp::Property&lt;xpp::AtomID&gt; tgt_format{xsel.targetFormat()};</div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>                requestor.setProperty(req_prop, tgt_format);</div>
<div class="line"><span class="lineno">  539</span>                response.setProperty(req_prop);</div>
<div class="line"><span class="lineno">  540</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (target == xsel.targetFormat() || target == xpp::atoms::string_type) {</div>
<div class="line"><span class="lineno">  541</span>                <span class="comment">// with XA_STRING (string_type) non ascii characters may be</span></div>
<div class="line"><span class="lineno">  542</span>                <span class="comment">// incorrect in the requestor. It is not our problem, use utf8.</span></div>
<div class="line"><span class="lineno">  543</span>                <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  544</span>                        <span class="keyword">auto</span> seltext = xsel.getSelection(req.selection());</div>
<div class="line"><span class="lineno">  545</span>                        <span class="keywordflow">if</span> (!seltext.empty()) {</div>
<div class="line"><span class="lineno">  546</span>                                <span class="keywordflow">if</span> (target == xpp::atoms::string_type) {</div>
<div class="line"><span class="lineno">  547</span>                                        xpp::Property&lt;const char*&gt; sel_ascii{seltext.c_str()};</div>
<div class="line"><span class="lineno">  548</span>                                        requestor.setProperty(req_prop, sel_ascii);</div>
<div class="line"><span class="lineno">  549</span>                                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  550</span>                                        xpp::Property&lt;xpp::utf8_string&gt; sel_utf8{xpp::utf8_string(seltext)};</div>
<div class="line"><span class="lineno">  551</span>                                        requestor.setProperty(req_prop, sel_utf8);</div>
<div class="line"><span class="lineno">  552</span>                                }</div>
<div class="line"><span class="lineno">  553</span>                        }</div>
<div class="line"><span class="lineno">  554</span>                } <span class="keywordflow">catch</span> (<span class="keyword">const</span> std::exception &amp;ex) {</div>
<div class="line"><span class="lineno">  555</span>                        m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().error() &lt;&lt; <span class="stringliteral">&quot;Failed to handle selection request for &quot;</span></div>
<div class="line"><span class="lineno">  556</span>                                &lt;&lt; req.selection() &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; ex.what() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  557</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  558</span>                }</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>                response.setProperty(req_prop);</div>
<div class="line"><span class="lineno">  561</span>        }</div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>        <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">  564</span>                <span class="comment">// all done, send a notification to the listener.</span></div>
<div class="line"><span class="lineno">  565</span>                requestor.sendEvent(raw_response);</div>
<div class="line"><span class="lineno">  566</span>        } <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::exception &amp;ex) {</div>
<div class="line"><span class="lineno">  567</span>                m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().error() &lt;&lt; <span class="stringliteral">&quot;Error sending SelectionNotify event: &quot;</span> &lt;&lt; ex.what() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  568</span>        }</div>
<div class="line"><span class="lineno">  569</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae0af0bd01fa54c2ff9bdbd3516b019e1" name="ae0af0bd01fa54c2ff9bdbd3516b019e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0af0bd01fa54c2ff9bdbd3516b019e1">&#9670;&#160;</a></span>unmap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::unmap </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00305">305</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  305</span>                          {</div>
<div class="line"><span class="lineno">  306</span>        m_wsys.setVisible(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  307</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aac7849ea057957748d290cf2c4d6a3ca" name="aac7849ea057957748d290cf2c4d6a3ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aac7849ea057957748d290cf2c4d6a3ca">&#9670;&#160;</a></span>visibilityChange()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::XEventHandler::visibilityChange </td>
          <td>(</td>
          <td class="paramtype">const xpp::VisibilityEvent &amp;&#160;</td>
          <td class="paramname"><em>ev</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8cxx_source.html#l00301">301</a> of file <a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  301</span>                                                                 {</div>
<div class="line"><span class="lineno">  302</span>        m_wsys.setVisible(ev.state() != xpp::VisibilityState::FULLY_OBSCURED);</div>
<div class="line"><span class="lineno">  303</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8d29a57ef3f2170e2f5489e690d56eed" name="a8d29a57ef3f2170e2f5489e690d56eed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d29a57ef3f2170e2f5489e690d56eed">&#9670;&#160;</a></span>m_auto_clear_selection</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::XEventHandler::m_auto_clear_selection = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>automatically clear selection on ownership loss </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00123">123</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>

</div>
</div>
<a id="ac253ea668858ff8e380910b9b453df8c" name="ac253ea668858ff8e380910b9b453df8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac253ea668858ff8e380910b9b453df8c">&#9670;&#160;</a></span>m_buttons</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnst_1_1PressedButtons.html">PressedButtons</a> nst::XEventHandler::m_buttons</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Bit field of pressed buttons. </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00116">116</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>

</div>
</div>
<a id="aa97c4e8658ab9b191815dfcbbda17d4e" name="aa97c4e8658ab9b191815dfcbbda17d4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa97c4e8658ab9b191815dfcbbda17d4e">&#9670;&#160;</a></span>m_event</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">xpp::Event nst::XEventHandler::m_event</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The currently handled event. </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00118">118</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>

</div>
</div>
<a id="ae003938dffbe51128caac5710f8b41a3" name="ae003938dffbe51128caac5710f8b41a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae003938dffbe51128caac5710f8b41a3">&#9670;&#160;</a></span>m_force_mouse_mod</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">xpp::InputMask nst::XEventHandler::m_force_mouse_mod</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>runtime configured key modifiers for force mouse mod </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00120">120</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>

</div>
</div>
<a id="a1731680d83e474e40488790df1a0700a" name="a1731680d83e474e40488790df1a0700a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1731680d83e474e40488790df1a0700a">&#9670;&#160;</a></span>m_kbd_shortcuts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="structnst_1_1KbdShortcut.html">KbdShortcut</a>&gt; nst::XEventHandler::m_kbd_shortcuts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00115">115</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>

</div>
</div>
<a id="a5f0be399825f31ef7c5821331a21ed36" name="a5f0be399825f31ef7c5821331a21ed36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f0be399825f31ef7c5821331a21ed36">&#9670;&#160;</a></span>m_key_buf</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string nst::XEventHandler::m_key_buf</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>reused input sequence string for XInput </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00119">119</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>

</div>
</div>
<a id="aed96d5100871bc386c60bc6e02721ce5" name="aed96d5100871bc386c60bc6e02721ce5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aed96d5100871bc386c60bc6e02721ce5">&#9670;&#160;</a></span>m_mouse_shortcuts</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt;<a class="el" href="structnst_1_1MouseShortcut.html">MouseShortcut</a>&gt; nst::XEventHandler::m_mouse_shortcuts</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00114">114</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>

</div>
</div>
<a id="a41f78e3060b1fc44bf56162092217e76" name="a41f78e3060b1fc44bf56162092217e76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41f78e3060b1fc44bf56162092217e76">&#9670;&#160;</a></span>m_nst</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnst_1_1Nst.html">Nst</a>&amp; nst::XEventHandler::m_nst</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00111">111</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>

</div>
</div>
<a id="a580b5a21f06709d5942c2341606a9807" name="a580b5a21f06709d5942c2341606a9807"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a580b5a21f06709d5942c2341606a9807">&#9670;&#160;</a></span>m_old_mouse_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnst_1_1CharPos.html">CharPos</a> nst::XEventHandler::m_old_mouse_pos</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The last seen mouse position in terminal coordinates. </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00117">117</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>

</div>
</div>
<a id="a6b14f66271da9b350c0ec01db085f2b7" name="a6b14f66271da9b350c0ec01db085f2b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b14f66271da9b350c0ec01db085f2b7">&#9670;&#160;</a></span>m_sel_alt_mod</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">xpp::InputMask nst::XEventHandler::m_sel_alt_mod</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>runtime configured alternative selection mode key modifiers </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00122">122</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>

</div>
</div>
<a id="ac98f6a4b597b422c6f12706292750e64" name="ac98f6a4b597b422c6f12706292750e64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac98f6a4b597b422c6f12706292750e64">&#9670;&#160;</a></span>m_sel_mode_masks</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;std::pair&lt;<a class="el" href="classnst_1_1Selection.html#a8d923f9c49857e3da1c92a018abacf46">Selection::Mode</a>, xpp::InputMask&gt;, 2&gt; nst::XEventHandler::m_sel_mode_masks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>runtime configured selection mode masks </p>

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00121">121</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>

</div>
</div>
<a id="a012608a0a5c765b4108dfe0d76401f84" name="a012608a0a5c765b4108dfe0d76401f84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a012608a0a5c765b4108dfe0d76401f84">&#9670;&#160;</a></span>m_twin</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structnst_1_1TermWindow.html">TermWindow</a>&amp; nst::XEventHandler::m_twin</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00113">113</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>

</div>
</div>
<a id="aa55447fd706c85f07e0e296a83be43fd" name="aa55447fd706c85f07e0e296a83be43fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa55447fd706c85f07e0e296a83be43fd">&#9670;&#160;</a></span>m_wsys</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnst_1_1WindowSystem.html">WindowSystem</a>&amp; nst::XEventHandler::m_wsys</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="XEventHandler_8hxx_source.html#l00112">112</a> of file <a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="XEventHandler_8hxx_source.html">XEventHandler.hxx</a></li>
<li>src/<a class="el" href="XEventHandler_8cxx_source.html">XEventHandler.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>nst</b></li><li class="navelem"><a class="el" href="classnst_1_1XEventHandler.html">XEventHandler</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
