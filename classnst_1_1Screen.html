<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>nst: nst::Screen Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">nst
   </div>
   <div id="projectbrief">C++ wrapper for libX11</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classnst_1_1Screen.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classnst_1_1Screen-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">nst::Screen Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>A terminal screen consisting of lines of Glyphs.  
 <a href="classnst_1_1Screen.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen_1_1IteratorT.html">IteratorT</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimal iterator type for iterating over the current <a class="el" href="classnst_1_1Screen.html" title="A terminal screen consisting of lines of Glyphs.">Screen</a> content.  <a href="classnst_1_1Screen_1_1IteratorT.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:ae0c42889075c4ea4ecba6623d73fbd0e" id="r_ae0c42889075c4ea4ecba6623d73fbd0e"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#ae0c42889075c4ea4ecba6623d73fbd0e">iterator</a> = <a class="el" href="classnst_1_1Screen_1_1IteratorT.html">IteratorT</a>&lt; LineVector, LineVector::iterator &gt;</td></tr>
<tr class="separator:ae0c42889075c4ea4ecba6623d73fbd0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a291b41d95bdaea3a0df2c85f7e36bb4a" id="r_a291b41d95bdaea3a0df2c85f7e36bb4a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a291b41d95bdaea3a0df2c85f7e36bb4a">const_iterator</a> = <a class="el" href="classnst_1_1Screen_1_1IteratorT.html">IteratorT</a>&lt; const LineVector, LineVector::const_iterator &gt;</td></tr>
<tr class="separator:a291b41d95bdaea3a0df2c85f7e36bb4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aadc7b45a4337822a296c0f3247e120b0" id="r_aadc7b45a4337822a296c0f3247e120b0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#aadc7b45a4337822a296c0f3247e120b0">Screen</a> (const size_t history_len, const bool is_alt_screen=false)</td></tr>
<tr class="memdesc:aadc7b45a4337822a296c0f3247e120b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new screen representation using the given number of history lines.  <br /></td></tr>
<tr class="separator:aadc7b45a4337822a296c0f3247e120b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a599fd273ca8d5f588c59eb2a4bfbda1c" id="r_a599fd273ca8d5f588c59eb2a4bfbda1c"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a599fd273ca8d5f588c59eb2a4bfbda1c">numCols</a> () const</td></tr>
<tr class="separator:a599fd273ca8d5f588c59eb2a4bfbda1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d46edf26e031a631908b9f4906afa8f" id="r_a2d46edf26e031a631908b9f4906afa8f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a2d46edf26e031a631908b9f4906afa8f">numLines</a> () const</td></tr>
<tr class="separator:a2d46edf26e031a631908b9f4906afa8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab95386a3adde5b17445a1e9ee28790b5" id="r_ab95386a3adde5b17445a1e9ee28790b5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#ab95386a3adde5b17445a1e9ee28790b5">validLine</a> (const <a class="el" href="structnst_1_1CharPos.html">CharPos</a> p) const</td></tr>
<tr class="separator:ab95386a3adde5b17445a1e9ee28790b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b1645e30d1e96fb9efe4be006225ec4" id="r_a4b1645e30d1e96fb9efe4be006225ec4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a4b1645e30d1e96fb9efe4be006225ec4">validColumn</a> (const <a class="el" href="structnst_1_1CharPos.html">CharPos</a> p) const</td></tr>
<tr class="separator:a4b1645e30d1e96fb9efe4be006225ec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa571897966948b1c4ae4c8acf0e18fd3" id="r_aa571897966948b1c4ae4c8acf0e18fd3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#aa571897966948b1c4ae4c8acf0e18fd3">validPos</a> (const <a class="el" href="structnst_1_1CharPos.html">CharPos</a> p) const</td></tr>
<tr class="separator:aa571897966948b1c4ae4c8acf0e18fd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d1df8fd2c364d3c62e0741ca00ff4fa" id="r_a3d1df8fd2c364d3c62e0741ca00ff4fa"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="structnst_1_1CharPos.html">CharPos</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a3d1df8fd2c364d3c62e0741ca00ff4fa">nextInLine</a> (const <a class="el" href="structnst_1_1CharPos.html">CharPos</a> p) const</td></tr>
<tr class="memdesc:a3d1df8fd2c364d3c62e0741ca00ff4fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the next logical character position.  <br /></td></tr>
<tr class="separator:a3d1df8fd2c364d3c62e0741ca00ff4fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e36dccdc07ef2b0eaa8337d3faccd79" id="r_a0e36dccdc07ef2b0eaa8337d3faccd79"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="structnst_1_1CharPos.html">CharPos</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a0e36dccdc07ef2b0eaa8337d3faccd79">prevInLine</a> (const <a class="el" href="structnst_1_1CharPos.html">CharPos</a> p) const</td></tr>
<tr class="separator:a0e36dccdc07ef2b0eaa8337d3faccd79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afffd7656745211fde16f33913608ccd5" id="r_afffd7656745211fde16f33913608ccd5"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="structnst_1_1CharPos.html">CharPos</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#afffd7656745211fde16f33913608ccd5">shiftedPos</a> (const <a class="el" href="structnst_1_1CharPos.html">CharPos</a> p) const</td></tr>
<tr class="memdesc:afffd7656745211fde16f33913608ccd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the screen coordinates for <code>p</code> considering scroll state.  <br /></td></tr>
<tr class="separator:afffd7656745211fde16f33913608ccd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1216932613f5b154feedcc12d2607584" id="r_a1216932613f5b154feedcc12d2607584"><td class="memItemLeft" align="right" valign="top">std::optional&lt; <a class="el" href="structnst_1_1CharPos.html">CharPos</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a1216932613f5b154feedcc12d2607584">unshiftedPos</a> (const <a class="el" href="structnst_1_1CharPos.html">CharPos</a> p) const</td></tr>
<tr class="memdesc:a1216932613f5b154feedcc12d2607584"><td class="mdescLeft">&#160;</td><td class="mdescRight">Undo the shift operation done in <a class="el" href="classnst_1_1Screen.html#afffd7656745211fde16f33913608ccd5" title="Returns the screen coordinates for p considering scroll state.">shiftedPos()</a>.  <br /></td></tr>
<tr class="separator:a1216932613f5b154feedcc12d2607584"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0749cef35d41f35f4b1d04b8a55f3361" id="r_a0749cef35d41f35f4b1d04b8a55f3361"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnst_1_1Glyph.html">Glyph</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a0749cef35d41f35f4b1d04b8a55f3361">operator[]</a> (const <a class="el" href="structnst_1_1CharPos.html">CharPos</a> p)</td></tr>
<tr class="separator:a0749cef35d41f35f4b1d04b8a55f3361"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a97dc2c903c468aa31caf21e1dd9b54" id="r_a3a97dc2c903c468aa31caf21e1dd9b54"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structnst_1_1Glyph.html">Glyph</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a3a97dc2c903c468aa31caf21e1dd9b54">operator[]</a> (const <a class="el" href="structnst_1_1CharPos.html">CharPos</a> p) const</td></tr>
<tr class="separator:a3a97dc2c903c468aa31caf21e1dd9b54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0ea1824d2867f0267faa3756a432f7" id="r_afe0ea1824d2867f0267faa3756a432f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnst_1_1Line.html">Line</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#afe0ea1824d2867f0267faa3756a432f7">operator[]</a> (ssize_t pos)</td></tr>
<tr class="separator:afe0ea1824d2867f0267faa3756a432f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8fdd35062c5f186baaa6c8b54c3c2fb" id="r_af8fdd35062c5f186baaa6c8b54c3c2fb"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classnst_1_1Line.html">Line</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#af8fdd35062c5f186baaa6c8b54c3c2fb">operator[]</a> (ssize_t pos) const</td></tr>
<tr class="separator:af8fdd35062c5f186baaa6c8b54c3c2fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59cc9bbd92926bddcf9e8ab513b7b6f8" id="r_a59cc9bbd92926bddcf9e8ab513b7b6f8"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a59cc9bbd92926bddcf9e8ab513b7b6f8">begin</a> ()</td></tr>
<tr class="separator:a59cc9bbd92926bddcf9e8ab513b7b6f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eeecffc3ff2c30686ca48e65370afb8" id="r_a0eeecffc3ff2c30686ca48e65370afb8"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a0eeecffc3ff2c30686ca48e65370afb8">end</a> ()</td></tr>
<tr class="separator:a0eeecffc3ff2c30686ca48e65370afb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae07046af2aa57cec26d2ffc01adb3a65" id="r_ae07046af2aa57cec26d2ffc01adb3a65"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#ae07046af2aa57cec26d2ffc01adb3a65">begin</a> () const</td></tr>
<tr class="separator:ae07046af2aa57cec26d2ffc01adb3a65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6bb3c945e9110dd8143e9fd77427016e" id="r_a6bb3c945e9110dd8143e9fd77427016e"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a6bb3c945e9110dd8143e9fd77427016e">end</a> () const</td></tr>
<tr class="separator:a6bb3c945e9110dd8143e9fd77427016e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c35eec6fd037c38a46b296e8e35a0e3" id="r_a2c35eec6fd037c38a46b296e8e35a0e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a2c35eec6fd037c38a46b296e8e35a0e3">setCachedCursor</a> (const <a class="el" href="structnst_1_1CursorState.html">CursorState</a> &amp;state)</td></tr>
<tr class="separator:a2c35eec6fd037c38a46b296e8e35a0e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29eca16c65b92ba8148bcb001b6f952b" id="r_a29eca16c65b92ba8148bcb001b6f952b"><td class="memItemLeft" align="right" valign="top">auto &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a29eca16c65b92ba8148bcb001b6f952b">getCachedCursor</a> () const</td></tr>
<tr class="separator:a29eca16c65b92ba8148bcb001b6f952b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38b98c06702534eec0b9813045148d97" id="r_a38b98c06702534eec0b9813045148d97"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a38b98c06702534eec0b9813045148d97">hasScrollBuffer</a> () const</td></tr>
<tr class="separator:a38b98c06702534eec0b9813045148d97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac351b43fadf9326b8535b808aaf45465" id="r_ac351b43fadf9326b8535b808aaf45465"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#ac351b43fadf9326b8535b808aaf45465">setDimension</a> (const <a class="el" href="structnst_1_1TermSize.html">TermSize</a> size, const <a class="el" href="structnst_1_1Glyph.html">Glyph</a> defattrs)</td></tr>
<tr class="memdesc:ac351b43fadf9326b8535b808aaf45465"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the current screen's dimensions.  <br /></td></tr>
<tr class="separator:ac351b43fadf9326b8535b808aaf45465"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a680f1daf05b8c76b8ce07e33a39eb23f" id="r_a680f1daf05b8c76b8ce07e33a39eb23f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a680f1daf05b8c76b8ce07e33a39eb23f">setHistoryLen</a> (const size_t len)</td></tr>
<tr class="memdesc:a680f1daf05b8c76b8ce07e33a39eb23f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the size of the scrollback buffer.  <br /></td></tr>
<tr class="separator:a680f1daf05b8c76b8ce07e33a39eb23f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a620f0842585a83fc2f0d787803157301" id="r_a620f0842585a83fc2f0d787803157301"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a620f0842585a83fc2f0d787803157301">scrollHistoryMax</a> ()</td></tr>
<tr class="memdesc:a620f0842585a83fc2f0d787803157301"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scrolls the screen content up to display the oldest history position.  <br /></td></tr>
<tr class="separator:a620f0842585a83fc2f0d787803157301"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b4a9ae695047f914be4b4102052fcd2" id="r_a1b4a9ae695047f914be4b4102052fcd2"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a1b4a9ae695047f914be4b4102052fcd2">scrollHistoryUp</a> (size_t lines)</td></tr>
<tr class="memdesc:a1b4a9ae695047f914be4b4102052fcd2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scrolls the screen content up to display older history.  <br /></td></tr>
<tr class="separator:a1b4a9ae695047f914be4b4102052fcd2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc23a8c21035d67a71f1e9ab0be2ebe" id="r_aabc23a8c21035d67a71f1e9ab0be2ebe"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#aabc23a8c21035d67a71f1e9ab0be2ebe">scrollHistoryDown</a> (size_t lines)</td></tr>
<tr class="memdesc:aabc23a8c21035d67a71f1e9ab0be2ebe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scrolls the screen content down to display newer history.  <br /></td></tr>
<tr class="separator:aabc23a8c21035d67a71f1e9ab0be2ebe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae012a8f952acf90bdd23eccbad3cbe99" id="r_ae012a8f952acf90bdd23eccbad3cbe99"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#ae012a8f952acf90bdd23eccbad3cbe99">isScrolled</a> () const</td></tr>
<tr class="memdesc:ae012a8f952acf90bdd23eccbad3cbe99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the screen is currently scrolled back to history.  <br /></td></tr>
<tr class="separator:ae012a8f952acf90bdd23eccbad3cbe99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee067e64f64edea7e3ea6f97514ab7f" id="r_a6ee067e64f64edea7e3ea6f97514ab7f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a6ee067e64f64edea7e3ea6f97514ab7f">stopScrolling</a> ()</td></tr>
<tr class="memdesc:a6ee067e64f64edea7e3ea6f97514ab7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the screen view to display the current screen contents again.  <br /></td></tr>
<tr class="separator:a6ee067e64f64edea7e3ea6f97514ab7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d0f0f127035c0dc2becdc8f5278c41" id="r_a23d0f0f127035c0dc2becdc8f5278c41"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a23d0f0f127035c0dc2becdc8f5278c41">saveScrollState</a> ()</td></tr>
<tr class="memdesc:a23d0f0f127035c0dc2becdc8f5278c41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Save the current scroll offset for later restoring via <a class="el" href="classnst_1_1Screen.html#a2d8377ffecccfe88aa141456087bab10" title="Restore the last state saved via saveScrollState().">restoreScrollState()</a>.  <br /></td></tr>
<tr class="separator:a23d0f0f127035c0dc2becdc8f5278c41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d8377ffecccfe88aa141456087bab10" id="r_a2d8377ffecccfe88aa141456087bab10"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a2d8377ffecccfe88aa141456087bab10">restoreScrollState</a> ()</td></tr>
<tr class="memdesc:a2d8377ffecccfe88aa141456087bab10"><td class="mdescLeft">&#160;</td><td class="mdescRight">Restore the last state saved via <a class="el" href="classnst_1_1Screen.html#a23d0f0f127035c0dc2becdc8f5278c41" title="Save the current scroll offset for later restoring via restoreScrollState().">saveScrollState()</a>.  <br /></td></tr>
<tr class="separator:a2d8377ffecccfe88aa141456087bab10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a798afa8745a15a19d8b40497813deefc" id="r_a798afa8745a15a19d8b40497813deefc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a798afa8745a15a19d8b40497813deefc">shiftViewUp</a> (size_t lines)</td></tr>
<tr class="memdesc:a798afa8745a15a19d8b40497813deefc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shift the current screen view in the ring buffer up for the given number of lines.  <br /></td></tr>
<tr class="separator:a798afa8745a15a19d8b40497813deefc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a522da13969ef3071a9ce993f7c534ac0" id="r_a522da13969ef3071a9ce993f7c534ac0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a522da13969ef3071a9ce993f7c534ac0">shiftViewDown</a> (size_t lines)</td></tr>
<tr class="separator:a522da13969ef3071a9ce993f7c534ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26d135f4a183c5063025aa6cc2891c3b" id="r_a26d135f4a183c5063025aa6cc2891c3b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a26d135f4a183c5063025aa6cc2891c3b">resetScrollBuffer</a> ()</td></tr>
<tr class="memdesc:a26d135f4a183c5063025aa6cc2891c3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets the scrolling data and ring buffer position.  <br /></td></tr>
<tr class="separator:a26d135f4a183c5063025aa6cc2891c3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11039dbce0da56772048e48a47da07c4" id="r_a11039dbce0da56772048e48a47da07c4"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a11039dbce0da56772048e48a47da07c4">asText</a> (const <a class="el" href="structnst_1_1CursorState.html">CursorState</a> &amp;cursor) const</td></tr>
<tr class="memdesc:a11039dbce0da56772048e48a47da07c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current buffer content as UTF-8 encoded text.  <br /></td></tr>
<tr class="separator:a11039dbce0da56772048e48a47da07c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae96cd5c4484961a8ac0e4bf626da0ed1" id="r_ae96cd5c4484961a8ac0e4bf626da0ed1"><td class="memItemLeft" align="right" valign="top">LineVector::size_type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#ae96cd5c4484961a8ac0e4bf626da0ed1">bufferPos</a> (ssize_t pos) const</td></tr>
<tr class="memdesc:ae96cd5c4484961a8ac0e4bf626da0ed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translates a line index on the screen into the proper index in the ring buffer in m_lines.  <br /></td></tr>
<tr class="separator:ae96cd5c4484961a8ac0e4bf626da0ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a002f26f0eecfbabc9bb04392cd61b8fd" id="r_a002f26f0eecfbabc9bb04392cd61b8fd"><td class="memItemLeft" align="right" valign="top">std::optional&lt; size_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a002f26f0eecfbabc9bb04392cd61b8fd">screenPos</a> (LineVector::size_type line_index) const</td></tr>
<tr class="memdesc:a002f26f0eecfbabc9bb04392cd61b8fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translates a ring buffer index into a line index on the screen, if possible.  <br /></td></tr>
<tr class="separator:a002f26f0eecfbabc9bb04392cd61b8fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae51e0892159a0d158e62c0c4be66573d" id="r_ae51e0892159a0d158e62c0c4be66573d"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#ae51e0892159a0d158e62c0c4be66573d">historyLinesLeft</a> () const</td></tr>
<tr class="memdesc:ae51e0892159a0d158e62c0c4be66573d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the (theoretical) number of history lines left to scroll to.  <br /></td></tr>
<tr class="separator:ae51e0892159a0d158e62c0c4be66573d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3a43eea315ea43c7bb37b297bc3e690" id="r_aa3a43eea315ea43c7bb37b297bc3e690"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#aa3a43eea315ea43c7bb37b297bc3e690">isOnScreen</a> (LineVector::size_type line_index) const</td></tr>
<tr class="memdesc:aa3a43eea315ea43c7bb37b297bc3e690"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns whether the given index in m_lines is visible on the current screen.  <br /></td></tr>
<tr class="separator:aa3a43eea315ea43c7bb37b297bc3e690"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6d3bf234e6c7f6c353536b40af35b4f1" id="r_a6d3bf234e6c7f6c353536b40af35b4f1"><td class="memItemLeft" align="right" valign="top">LineVector&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a></td></tr>
<tr class="memdesc:a6d3bf234e6c7f6c353536b40af35b4f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">the actual ring buffer  <br /></td></tr>
<tr class="separator:a6d3bf234e6c7f6c353536b40af35b4f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae594ea917b033952c28ffb96b9c47427" id="r_ae594ea917b033952c28ffb96b9c47427"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a> = 0</td></tr>
<tr class="memdesc:ae594ea917b033952c28ffb96b9c47427"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of rows the visible screen has.  <br /></td></tr>
<tr class="separator:ae594ea917b033952c28ffb96b9c47427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c373d6c0575fb455d13b9843fc11793" id="r_a6c373d6c0575fb455d13b9843fc11793"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> = 0</td></tr>
<tr class="memdesc:a6c373d6c0575fb455d13b9843fc11793"><td class="mdescLeft">&#160;</td><td class="mdescRight">where the current screen content starts in the ring buffer.  <br /></td></tr>
<tr class="separator:a6c373d6c0575fb455d13b9843fc11793"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb94a8356bfff0fb12eefc76a9680b9" id="r_aebb94a8356bfff0fb12eefc76a9680b9"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a> = 0</td></tr>
<tr class="memdesc:aebb94a8356bfff0fb12eefc76a9680b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">how many lines we are currently scrolled back.  <br /></td></tr>
<tr class="separator:aebb94a8356bfff0fb12eefc76a9680b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ab9ddf9c25e559ba0ed337f7ff56b4" id="r_ab5ab9ddf9c25e559ba0ed337f7ff56b4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#ab5ab9ddf9c25e559ba0ed337f7ff56b4">m_saved_scroll_index</a> = SIZE_MAX</td></tr>
<tr class="memdesc:ab5ab9ddf9c25e559ba0ed337f7ff56b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">the index in m_lines that was previously scrolled to (top position)  <br /></td></tr>
<tr class="separator:ab5ab9ddf9c25e559ba0ed337f7ff56b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f8d3c9dce1762d324db1e0c3f2264ae" id="r_a5f8d3c9dce1762d324db1e0c3f2264ae"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#a5f8d3c9dce1762d324db1e0c3f2264ae">m_history_len</a> = 0</td></tr>
<tr class="memdesc:a5f8d3c9dce1762d324db1e0c3f2264ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">how big the ring buffer for history should be (0 == no history)  <br /></td></tr>
<tr class="separator:a5f8d3c9dce1762d324db1e0c3f2264ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9db7d87f6128a3fbef54344ce7244e3" id="r_ad9db7d87f6128a3fbef54344ce7244e3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#ad9db7d87f6128a3fbef54344ce7244e3">m_is_alt_screen</a> = false</td></tr>
<tr class="memdesc:ad9db7d87f6128a3fbef54344ce7244e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether this represents the alternative screen.  <br /></td></tr>
<tr class="separator:ad9db7d87f6128a3fbef54344ce7244e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabfc5b7740b9d753784c0e9d4ed9c53f" id="r_aabfc5b7740b9d753784c0e9d4ed9c53f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structnst_1_1CursorState.html">CursorState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classnst_1_1Screen.html#aabfc5b7740b9d753784c0e9d4ed9c53f">m_cached_cursor</a></td></tr>
<tr class="memdesc:aabfc5b7740b9d753784c0e9d4ed9c53f"><td class="mdescLeft">&#160;</td><td class="mdescRight">save/load cursor state for this screen.  <br /></td></tr>
<tr class="separator:aabfc5b7740b9d753784c0e9d4ed9c53f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A terminal screen consisting of lines of Glyphs. </p>
<p>This contains a two dimensional vector with some helper operations for the <a class="el" href="classnst_1_1Screen.html" title="A terminal screen consisting of lines of Glyphs.">Screen</a> terminal context.</p>
<p>Internally this is organized as a ring buffer holding also scrollback data. The interface is such that only the currently visible screen can be accessed. It is allowed to access lines beyond the screen view for performing scroll operations, though, which e.g. happens in <a class="el" href="classnst_1_1Term.html#a33b275b45bb7a3fe1c0b9ca19f6224fd" title="Scrolls terminal lines upwards, creating empty lines at the bottom.">Term::scrollUp()</a>. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00027">27</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a291b41d95bdaea3a0df2c85f7e36bb4a" name="a291b41d95bdaea3a0df2c85f7e36bb4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a291b41d95bdaea3a0df2c85f7e36bb4a">&#9670;&#160;</a></span>const_iterator</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classnst_1_1Screen_1_1IteratorT.html">nst::Screen::const_iterator</a> =  <a class="el" href="classnst_1_1Screen_1_1IteratorT.html">IteratorT</a>&lt;const LineVector, LineVector::const_iterator&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00103">103</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>

</div>
</div>
<a id="ae0c42889075c4ea4ecba6623d73fbd0e" name="ae0c42889075c4ea4ecba6623d73fbd0e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0c42889075c4ea4ecba6623d73fbd0e">&#9670;&#160;</a></span>iterator</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classnst_1_1Screen_1_1IteratorT.html">nst::Screen::iterator</a> =  <a class="el" href="classnst_1_1Screen_1_1IteratorT.html">IteratorT</a>&lt;LineVector, LineVector::iterator&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00102">102</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aadc7b45a4337822a296c0f3247e120b0" name="aadc7b45a4337822a296c0f3247e120b0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aadc7b45a4337822a296c0f3247e120b0">&#9670;&#160;</a></span>Screen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nst::Screen::Screen </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>history_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>is_alt_screen</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a new screen representation using the given number of history lines. </p>
<p>If <code>history_len</code> is zero then no scrollback buffer will be provided. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00112">112</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  112</span>                                                                                    :</div>
<div class="line"><span class="lineno">  113</span>                        <a class="code hl_variable" href="classnst_1_1Screen.html#a5f8d3c9dce1762d324db1e0c3f2264ae">m_history_len</a>{history_len},</div>
<div class="line"><span class="lineno">  114</span>                        <a class="code hl_variable" href="classnst_1_1Screen.html#ad9db7d87f6128a3fbef54344ce7244e3">m_is_alt_screen</a>{is_alt_screen} {}</div>
<div class="ttc" id="aclassnst_1_1Screen_html_a5f8d3c9dce1762d324db1e0c3f2264ae"><div class="ttname"><a href="classnst_1_1Screen.html#a5f8d3c9dce1762d324db1e0c3f2264ae">nst::Screen::m_history_len</a></div><div class="ttdeci">size_t m_history_len</div><div class="ttdoc">how big the ring buffer for history should be (0 == no history)</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00440">Screen.hxx:440</a></div></div>
<div class="ttc" id="aclassnst_1_1Screen_html_ad9db7d87f6128a3fbef54344ce7244e3"><div class="ttname"><a href="classnst_1_1Screen.html#ad9db7d87f6128a3fbef54344ce7244e3">nst::Screen::m_is_alt_screen</a></div><div class="ttdeci">bool m_is_alt_screen</div><div class="ttdoc">Whether this represents the alternative screen.</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00441">Screen.hxx:441</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a11039dbce0da56772048e48a47da07c4" name="a11039dbce0da56772048e48a47da07c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11039dbce0da56772048e48a47da07c4">&#9670;&#160;</a></span>asText()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string nst::Screen::asText </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnst_1_1CursorState.html">CursorState</a> &amp;&#160;</td>
          <td class="paramname"><em>cursor</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the current buffer content as UTF-8 encoded text. </p>
<p>This returns the complete buffer content including scroll back history. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8cxx_source.html#l00086">86</a> of file <a class="el" href="Screen_8cxx_source.html">Screen.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   86</span>                                                        {</div>
<div class="line"><span class="lineno">   87</span>        std::string ret;</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">   90</span><span class="comment">         * we want to skip empty lines shown on the current screen below the</span></div>
<div class="line"><span class="lineno">   91</span><span class="comment">         * current cursor position. These are basically unallocated yet, but</span></div>
<div class="line"><span class="lineno">   92</span><span class="comment">         * have been prepared for use by the Term logic.</span></div>
<div class="line"><span class="lineno">   93</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">   94</span><span class="comment">         * Determining this situation isn&#39;t all that easy:</span></div>
<div class="line"><span class="lineno">   95</span><span class="comment">         *</span></div>
<div class="line"><span class="lineno">   96</span><span class="comment">         * - don&#39;t do it on the alt screen</span></div>
<div class="line"><span class="lineno">   97</span><span class="comment">         * - we need to receive the current screen line position</span></div>
<div class="line"><span class="lineno">   98</span><span class="comment">         * - only if this position is beyond the current cursor position,</span></div>
<div class="line"><span class="lineno">   99</span><span class="comment">         *   trigger the logic.</span></div>
<div class="line"><span class="lineno">  100</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">  101</span>        <span class="keyword">auto</span> reachedEndOfScreen = [&amp;cursor,<span class="keyword">this</span>](<span class="keyword">const</span> std::optional&lt;size_t&gt; screen_pos) {</div>
<div class="line"><span class="lineno">  102</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1Screen.html#ad9db7d87f6128a3fbef54344ce7244e3">m_is_alt_screen</a>)</div>
<div class="line"><span class="lineno">  103</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  104</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!screen_pos)</div>
<div class="line"><span class="lineno">  105</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  106</span>                <span class="comment">// skip the current line which is helpful for `nst-msg -d | grep text`, to avoid matching the query itself</span></div>
<div class="line"><span class="lineno">  107</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(*screen_pos) &lt; cursor.position().y)</div>
<div class="line"><span class="lineno">  108</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  109</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  110</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  111</span>        };</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>        <span class="keyword">auto</span> addLine = [&amp;ret](<span class="keyword">const</span> Line &amp;line) {</div>
<div class="line"><span class="lineno">  114</span>                <span class="keywordflow">if</span> (line.empty())</div>
<div class="line"><span class="lineno">  115</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>                <span class="keyword">const</span> <span class="keyword">auto</span> used_cols = line.usedLength();</div>
<div class="line"><span class="lineno">  118</span> </div>
<div class="line"><span class="lineno">  119</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = line.raw().begin(); it &lt; line.raw().begin() + used_cols; it++) {</div>
<div class="line"><span class="lineno">  120</span>                        utf8::encode(it-&gt;rune, ret);</div>
<div class="line"><span class="lineno">  121</span>                }</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>                <span class="keywordflow">if</span> (!line.raw().back().isWrapped()) {</div>
<div class="line"><span class="lineno">  124</span>                        utf8::encode(Rune{<span class="charliteral">&#39;\n&#39;</span>}, ret);</div>
<div class="line"><span class="lineno">  125</span>                }</div>
<div class="line"><span class="lineno">  126</span>        };</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> + <a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a> &lt;= <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.size()) {</div>
<div class="line"><span class="lineno">  129</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> line = <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> + <a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a>; line &lt; <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.size(); line++) {</div>
<div class="line"><span class="lineno">  130</span>                        addLine(<a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>[line]);</div>
<div class="line"><span class="lineno">  131</span>                }</div>
<div class="line"><span class="lineno">  132</span> </div>
<div class="line"><span class="lineno">  133</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> line = 0; line &lt; <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> + <a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a>; line++) {</div>
<div class="line"><span class="lineno">  134</span>                        <span class="keywordflow">if</span> (reachedEndOfScreen(<a class="code hl_function" href="classnst_1_1Screen.html#a002f26f0eecfbabc9bb04392cd61b8fd">screenPos</a>(line)))</div>
<div class="line"><span class="lineno">  135</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  136</span>                        addLine(<a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>[line]);</div>
<div class="line"><span class="lineno">  137</span>                }</div>
<div class="line"><span class="lineno">  138</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  139</span>                <span class="comment">/* current screen wraps around the ring buffer */</span></div>
<div class="line"><span class="lineno">  140</span>                <span class="keyword">const</span> <span class="keyword">auto</span> end_screen_index = <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> + <a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a> - <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.size();</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>                <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> line = end_screen_index; line &lt; <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a>; line++) {</div>
<div class="line"><span class="lineno">  143</span>                        addLine(<a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>[line]);</div>
<div class="line"><span class="lineno">  144</span>                }</div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>                <span class="keywordtype">size_t</span> screen_index = 0;</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>                <span class="comment">// now use the smart iterator to add the remaining lines from</span></div>
<div class="line"><span class="lineno">  149</span>                <span class="comment">// the screen that wrap around the buffer</span></div>
<div class="line"><span class="lineno">  150</span>                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;line: *this) {</div>
<div class="line"><span class="lineno">  151</span>                        <span class="keywordflow">if</span> (reachedEndOfScreen(screen_index))</div>
<div class="line"><span class="lineno">  152</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  153</span>                        addLine(line);</div>
<div class="line"><span class="lineno">  154</span>                        screen_index++;</div>
<div class="line"><span class="lineno">  155</span>                }</div>
<div class="line"><span class="lineno">  156</span>        }</div>
<div class="line"><span class="lineno">  157</span> </div>
<div class="line"><span class="lineno">  158</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  159</span>}</div>
<div class="ttc" id="aclassnst_1_1Screen_html_a002f26f0eecfbabc9bb04392cd61b8fd"><div class="ttname"><a href="classnst_1_1Screen.html#a002f26f0eecfbabc9bb04392cd61b8fd">nst::Screen::screenPos</a></div><div class="ttdeci">std::optional&lt; size_t &gt; screenPos(LineVector::size_type line_index) const</div><div class="ttdoc">Translates a ring buffer index into a line index on the screen, if possible.</div><div class="ttdef"><b>Definition</b> <a href="Screen_8cxx_source.html#l00161">Screen.cxx:161</a></div></div>
<div class="ttc" id="aclassnst_1_1Screen_html_a6c373d6c0575fb455d13b9843fc11793"><div class="ttname"><a href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">nst::Screen::m_cur_pos</a></div><div class="ttdeci">size_t m_cur_pos</div><div class="ttdoc">where the current screen content starts in the ring buffer.</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00437">Screen.hxx:437</a></div></div>
<div class="ttc" id="aclassnst_1_1Screen_html_a6d3bf234e6c7f6c353536b40af35b4f1"><div class="ttname"><a href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">nst::Screen::m_lines</a></div><div class="ttdeci">LineVector m_lines</div><div class="ttdoc">the actual ring buffer</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00435">Screen.hxx:435</a></div></div>
<div class="ttc" id="aclassnst_1_1Screen_html_ae594ea917b033952c28ffb96b9c47427"><div class="ttname"><a href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">nst::Screen::m_rows</a></div><div class="ttdeci">size_t m_rows</div><div class="ttdoc">number of rows the visible screen has.</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00436">Screen.hxx:436</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a59cc9bbd92926bddcf9e8ab513b7b6f8" name="a59cc9bbd92926bddcf9e8ab513b7b6f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59cc9bbd92926bddcf9e8ab513b7b6f8">&#9670;&#160;</a></span>begin() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto nst::Screen::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00208">208</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  208</span>{ <span class="keywordflow">return</span> iterator{<a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>, <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.begin() + <a class="code hl_function" href="classnst_1_1Screen.html#ae96cd5c4484961a8ac0e4bf626da0ed1">bufferPos</a>(0)}; }</div>
<div class="ttc" id="aclassnst_1_1Screen_html_ae96cd5c4484961a8ac0e4bf626da0ed1"><div class="ttname"><a href="classnst_1_1Screen.html#ae96cd5c4484961a8ac0e4bf626da0ed1">nst::Screen::bufferPos</a></div><div class="ttdeci">LineVector::size_type bufferPos(ssize_t pos) const</div><div class="ttdoc">Translates a line index on the screen into the proper index in the ring buffer in m_lines.</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00396">Screen.hxx:396</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae07046af2aa57cec26d2ffc01adb3a65" name="ae07046af2aa57cec26d2ffc01adb3a65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae07046af2aa57cec26d2ffc01adb3a65">&#9670;&#160;</a></span>begin() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto nst::Screen::begin </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00210">210</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  210</span>{ <span class="keywordflow">return</span> const_iterator{<a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>, <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.begin() + <a class="code hl_function" href="classnst_1_1Screen.html#ae96cd5c4484961a8ac0e4bf626da0ed1">bufferPos</a>(0)}; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae96cd5c4484961a8ac0e4bf626da0ed1" name="ae96cd5c4484961a8ac0e4bf626da0ed1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae96cd5c4484961a8ac0e4bf626da0ed1">&#9670;&#160;</a></span>bufferPos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LineVector::size_type nst::Screen::bufferPos </td>
          <td>(</td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Translates a line index on the screen into the proper index in the ring buffer in m_lines. </p>
<p>This supports negative input positions to refer to positions in the scroll history. The return type is unsigned and suitable for use with m_lines. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00396">396</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  396</span>                                                         {</div>
<div class="line"><span class="lineno">  397</span>                pos += <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a>;</div>
<div class="line"><span class="lineno">  398</span>                pos -= <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a>;</div>
<div class="line"><span class="lineno">  399</span> </div>
<div class="line"><span class="lineno">  400</span>                <span class="keywordflow">while</span> (pos &lt; 0) {</div>
<div class="line"><span class="lineno">  401</span>                        pos += <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.size();</div>
<div class="line"><span class="lineno">  402</span>                }</div>
<div class="line"><span class="lineno">  403</span> </div>
<div class="line"><span class="lineno">  404</span>                <span class="keywordflow">while</span>(<span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(pos) &gt;= <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.size()) {</div>
<div class="line"><span class="lineno">  405</span>                        pos -= <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.size();</div>
<div class="line"><span class="lineno">  406</span>                }</div>
<div class="line"><span class="lineno">  407</span> </div>
<div class="line"><span class="lineno">  408</span>                <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>LineVector::size_type<span class="keyword">&gt;</span>(pos);</div>
<div class="line"><span class="lineno">  409</span>        }</div>
<div class="ttc" id="aclassnst_1_1Screen_html_aebb94a8356bfff0fb12eefc76a9680b9"><div class="ttname"><a href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">nst::Screen::m_scroll_offset</a></div><div class="ttdeci">size_t m_scroll_offset</div><div class="ttdoc">how many lines we are currently scrolled back.</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00438">Screen.hxx:438</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a0eeecffc3ff2c30686ca48e65370afb8" name="a0eeecffc3ff2c30686ca48e65370afb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0eeecffc3ff2c30686ca48e65370afb8">&#9670;&#160;</a></span>end() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto nst::Screen::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00209">209</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  209</span>{ <span class="keywordflow">return</span> iterator{<a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>, <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.begin() + <a class="code hl_function" href="classnst_1_1Screen.html#ae96cd5c4484961a8ac0e4bf626da0ed1">bufferPos</a>(<a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a>)}; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6bb3c945e9110dd8143e9fd77427016e" name="a6bb3c945e9110dd8143e9fd77427016e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6bb3c945e9110dd8143e9fd77427016e">&#9670;&#160;</a></span>end() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto nst::Screen::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00211">211</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  211</span>{ <span class="keywordflow">return</span> const_iterator{<a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>, <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.begin() + <a class="code hl_function" href="classnst_1_1Screen.html#ae96cd5c4484961a8ac0e4bf626da0ed1">bufferPos</a>(<a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a>)}; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a29eca16c65b92ba8148bcb001b6f952b" name="a29eca16c65b92ba8148bcb001b6f952b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29eca16c65b92ba8148bcb001b6f952b">&#9670;&#160;</a></span>getCachedCursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto &amp; nst::Screen::getCachedCursor </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00217">217</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  217</span>                                      {</div>
<div class="line"><span class="lineno">  218</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="classnst_1_1Screen.html#aabfc5b7740b9d753784c0e9d4ed9c53f">m_cached_cursor</a>;</div>
<div class="line"><span class="lineno">  219</span>        }</div>
<div class="ttc" id="aclassnst_1_1Screen_html_aabfc5b7740b9d753784c0e9d4ed9c53f"><div class="ttname"><a href="classnst_1_1Screen.html#aabfc5b7740b9d753784c0e9d4ed9c53f">nst::Screen::m_cached_cursor</a></div><div class="ttdeci">CursorState m_cached_cursor</div><div class="ttdoc">save/load cursor state for this screen.</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00442">Screen.hxx:442</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a38b98c06702534eec0b9813045148d97" name="a38b98c06702534eec0b9813045148d97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38b98c06702534eec0b9813045148d97">&#9670;&#160;</a></span>hasScrollBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::Screen::hasScrollBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00221">221</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  221</span>                                     {</div>
<div class="line"><span class="lineno">  222</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="classnst_1_1Screen.html#a5f8d3c9dce1762d324db1e0c3f2264ae">m_history_len</a> != 0;</div>
<div class="line"><span class="lineno">  223</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae51e0892159a0d158e62c0c4be66573d" name="ae51e0892159a0d158e62c0c4be66573d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae51e0892159a0d158e62c0c4be66573d">&#9670;&#160;</a></span>historyLinesLeft()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nst::Screen::historyLinesLeft </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the (theoretical) number of history lines left to scroll to. </p>
<p>Since there can be unallocated lines it doesn't mean there is actually that much history content available. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00424">424</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  424</span>                                        {</div>
<div class="line"><span class="lineno">  425</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.size() - <a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a> - <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a>;</div>
<div class="line"><span class="lineno">  426</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa3a43eea315ea43c7bb37b297bc3e690" name="aa3a43eea315ea43c7bb37b297bc3e690"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa3a43eea315ea43c7bb37b297bc3e690">&#9670;&#160;</a></span>isOnScreen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::Screen::isOnScreen </td>
          <td>(</td>
          <td class="paramtype">LineVector::size_type&#160;</td>
          <td class="paramname"><em>line_index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the given index in m_lines is visible on the current screen. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00429">429</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  429</span>                                                              {</div>
<div class="line"><span class="lineno">  430</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classnst_1_1Screen.html#a002f26f0eecfbabc9bb04392cd61b8fd">screenPos</a>(line_index).has_value();</div>
<div class="line"><span class="lineno">  431</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae012a8f952acf90bdd23eccbad3cbe99" name="ae012a8f952acf90bdd23eccbad3cbe99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae012a8f952acf90bdd23eccbad3cbe99">&#9670;&#160;</a></span>isScrolled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::Screen::isScrolled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns whether the screen is currently scrolled back to history. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00298">298</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  298</span>                                {</div>
<div class="line"><span class="lineno">  299</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a> != 0;</div>
<div class="line"><span class="lineno">  300</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3d1df8fd2c364d3c62e0741ca00ff4fa" name="a3d1df8fd2c364d3c62e0741ca00ff4fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d1df8fd2c364d3c62e0741ca00ff4fa">&#9670;&#160;</a></span>nextInLine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="structnst_1_1CharPos.html">CharPos</a> &gt; nst::Screen::nextInLine </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnst_1_1CharPos.html">CharPos</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Find the next logical character position. </p>
<p>Starting at the given position look for the next valid character position on the line. This follows line wraps. It does not following trailing spaces on a line. If no valid next character is found then std::nullopt is returned. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00142">142</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  142</span>                                                               {</div>
<div class="line"><span class="lineno">  143</span>                <span class="keyword">auto</span> &amp;line = (*this)[p.y];</div>
<div class="line"><span class="lineno">  144</span>                <span class="keywordflow">if</span> (p.x &lt; line.usedLength() - 1) {</div>
<div class="line"><span class="lineno">  145</span>                        <span class="keywordflow">return</span> p.nextCol();</div>
<div class="line"><span class="lineno">  146</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line.isWrapped() &amp;&amp; p.y + 1 &lt; <span class="keywordtype">int</span>(<a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a>)) {</div>
<div class="line"><span class="lineno">  147</span>                        <span class="keywordflow">return</span> p.nextLine().startOfLine();</div>
<div class="line"><span class="lineno">  148</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  149</span>                        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><span class="lineno">  150</span>                }</div>
<div class="line"><span class="lineno">  151</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a599fd273ca8d5f588c59eb2a4bfbda1c" name="a599fd273ca8d5f588c59eb2a4bfbda1c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a599fd273ca8d5f588c59eb2a4bfbda1c">&#9670;&#160;</a></span>numCols()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nst::Screen::numCols </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00116">116</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  116</span>                               {</div>
<div class="line"><span class="lineno">  117</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.empty() ? 0 : <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.front().size();</div>
<div class="line"><span class="lineno">  118</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d46edf26e031a631908b9f4906afa8f" name="a2d46edf26e031a631908b9f4906afa8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d46edf26e031a631908b9f4906afa8f">&#9670;&#160;</a></span>numLines()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nst::Screen::numLines </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00119">119</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  119</span>                                {</div>
<div class="line"><span class="lineno">  120</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a>;</div>
<div class="line"><span class="lineno">  121</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0749cef35d41f35f4b1d04b8a55f3361" name="a0749cef35d41f35f4b1d04b8a55f3361"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0749cef35d41f35f4b1d04b8a55f3361">&#9670;&#160;</a></span>operator[]() <span class="overload">[1/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnst_1_1Glyph.html">Glyph</a> &amp; nst::Screen::operator[] </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnst_1_1CharPos.html">CharPos</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00202">202</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  202</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>[<a class="code hl_function" href="classnst_1_1Screen.html#ae96cd5c4484961a8ac0e4bf626da0ed1">bufferPos</a>(p.y)][p.x]; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3a97dc2c903c468aa31caf21e1dd9b54" name="a3a97dc2c903c468aa31caf21e1dd9b54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a97dc2c903c468aa31caf21e1dd9b54">&#9670;&#160;</a></span>operator[]() <span class="overload">[2/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structnst_1_1Glyph.html">Glyph</a> &amp; nst::Screen::operator[] </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnst_1_1CharPos.html">CharPos</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00203">203</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  203</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>[<a class="code hl_function" href="classnst_1_1Screen.html#ae96cd5c4484961a8ac0e4bf626da0ed1">bufferPos</a>(p.y)][p.x]; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afe0ea1824d2867f0267faa3756a432f7" name="afe0ea1824d2867f0267faa3756a432f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe0ea1824d2867f0267faa3756a432f7">&#9670;&#160;</a></span>operator[]() <span class="overload">[3/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnst_1_1Line.html">Line</a> &amp; nst::Screen::operator[] </td>
          <td>(</td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00205">205</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  205</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>[<a class="code hl_function" href="classnst_1_1Screen.html#ae96cd5c4484961a8ac0e4bf626da0ed1">bufferPos</a>(pos)]; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="af8fdd35062c5f186baaa6c8b54c3c2fb" name="af8fdd35062c5f186baaa6c8b54c3c2fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8fdd35062c5f186baaa6c8b54c3c2fb">&#9670;&#160;</a></span>operator[]() <span class="overload">[4/4]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classnst_1_1Line.html">Line</a> &amp; nst::Screen::operator[] </td>
          <td>(</td>
          <td class="paramtype">ssize_t&#160;</td>
          <td class="paramname"><em>pos</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00206">206</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  206</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>[<a class="code hl_function" href="classnst_1_1Screen.html#ae96cd5c4484961a8ac0e4bf626da0ed1">bufferPos</a>(pos)]; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a0e36dccdc07ef2b0eaa8337d3faccd79" name="a0e36dccdc07ef2b0eaa8337d3faccd79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e36dccdc07ef2b0eaa8337d3faccd79">&#9670;&#160;</a></span>prevInLine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="structnst_1_1CharPos.html">CharPos</a> &gt; nst::Screen::prevInLine </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnst_1_1CharPos.html">CharPos</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00153">153</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  153</span>                                                               {</div>
<div class="line"><span class="lineno">  154</span>                <span class="keywordflow">if</span> (p.x &gt; 0) {</div>
<div class="line"><span class="lineno">  155</span>                        <span class="keywordflow">return</span> p.prevCol();</div>
<div class="line"><span class="lineno">  156</span>                } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (p.y &gt; 0) {</div>
<div class="line"><span class="lineno">  157</span>                        <span class="keyword">auto</span> &amp;prev_line = (*this)[p.y - 1];</div>
<div class="line"><span class="lineno">  158</span>                        <span class="keywordflow">if</span> (prev_line.isWrapped()) {</div>
<div class="line"><span class="lineno">  159</span>                                <span class="keyword">auto</span> ret = p.prevLine();</div>
<div class="line"><span class="lineno">  160</span>                                ret.x = prev_line.size() - 1;</div>
<div class="line"><span class="lineno">  161</span>                                <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  162</span>                        }</div>
<div class="line"><span class="lineno">  163</span>                }</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>                <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><span class="lineno">  166</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a26d135f4a183c5063025aa6cc2891c3b" name="a26d135f4a183c5063025aa6cc2891c3b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26d135f4a183c5063025aa6cc2891c3b">&#9670;&#160;</a></span>resetScrollBuffer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::Screen::resetScrollBuffer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets the scrolling data and ring buffer position. </p>
<p>All scrollback history will be discarded along with the current screen content. The new screen content will be undefined. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00371">371</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  371</span>                                 {</div>
<div class="line"><span class="lineno">  372</span>                <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> = 0;</div>
<div class="line"><span class="lineno">  373</span>                <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a> = 0;</div>
<div class="line"><span class="lineno">  374</span>                <span class="comment">// clear all lines except the (new) current screen</span></div>
<div class="line"><span class="lineno">  375</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.begin() + <a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a>; it != <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.end(); it++) {</div>
<div class="line"><span class="lineno">  376</span>                        it-&gt;clear();</div>
<div class="line"><span class="lineno">  377</span>                }</div>
<div class="line"><span class="lineno">  378</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2d8377ffecccfe88aa141456087bab10" name="a2d8377ffecccfe88aa141456087bab10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d8377ffecccfe88aa141456087bab10">&#9670;&#160;</a></span>restoreScrollState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::Screen::restoreScrollState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Restore the last state saved via <a class="el" href="classnst_1_1Screen.html#a23d0f0f127035c0dc2becdc8f5278c41" title="Save the current scroll offset for later restoring via restoreScrollState().">saveScrollState()</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>Whether restoring the scroll state was possible. If not then the original scroll position has been lost due to the history becoming too long. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00326">326</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  326</span>                                  {</div>
<div class="line"><span class="lineno">  327</span>                <a class="code hl_function" href="classnst_1_1Screen.html#a6ee067e64f64edea7e3ea6f97514ab7f">stopScrolling</a>();</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1Screen.html#ab5ab9ddf9c25e559ba0ed337f7ff56b4">m_saved_scroll_index</a> == SIZE_MAX)</div>
<div class="line"><span class="lineno">  330</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  331</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_function" href="classnst_1_1Screen.html#aa3a43eea315ea43c7bb37b297bc3e690">isOnScreen</a>(<a class="code hl_variable" href="classnst_1_1Screen.html#ab5ab9ddf9c25e559ba0ed337f7ff56b4">m_saved_scroll_index</a>))</div>
<div class="line"><span class="lineno">  332</span>                        <span class="comment">// the original scroll position is no longer available</span></div>
<div class="line"><span class="lineno">  333</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  334</span> </div>
<div class="line"><span class="lineno">  335</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1Screen.html#ab5ab9ddf9c25e559ba0ed337f7ff56b4">m_saved_scroll_index</a> &lt; <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a>) {</div>
<div class="line"><span class="lineno">  336</span>                        <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a> = <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> - <a class="code hl_variable" href="classnst_1_1Screen.html#ab5ab9ddf9c25e559ba0ed337f7ff56b4">m_saved_scroll_index</a>;</div>
<div class="line"><span class="lineno">  337</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  338</span>                        <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a> = <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a>;</div>
<div class="line"><span class="lineno">  339</span>                        <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a> += <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.size() - <a class="code hl_variable" href="classnst_1_1Screen.html#ab5ab9ddf9c25e559ba0ed337f7ff56b4">m_saved_scroll_index</a>;</div>
<div class="line"><span class="lineno">  340</span>                }</div>
<div class="line"><span class="lineno">  341</span> </div>
<div class="line"><span class="lineno">  342</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  343</span>        }</div>
<div class="ttc" id="aclassnst_1_1Screen_html_a6ee067e64f64edea7e3ea6f97514ab7f"><div class="ttname"><a href="classnst_1_1Screen.html#a6ee067e64f64edea7e3ea6f97514ab7f">nst::Screen::stopScrolling</a></div><div class="ttdeci">size_t stopScrolling()</div><div class="ttdoc">Reset the screen view to display the current screen contents again.</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00303">Screen.hxx:303</a></div></div>
<div class="ttc" id="aclassnst_1_1Screen_html_aa3a43eea315ea43c7bb37b297bc3e690"><div class="ttname"><a href="classnst_1_1Screen.html#aa3a43eea315ea43c7bb37b297bc3e690">nst::Screen::isOnScreen</a></div><div class="ttdeci">bool isOnScreen(LineVector::size_type line_index) const</div><div class="ttdoc">Returns whether the given index in m_lines is visible on the current screen.</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00429">Screen.hxx:429</a></div></div>
<div class="ttc" id="aclassnst_1_1Screen_html_ab5ab9ddf9c25e559ba0ed337f7ff56b4"><div class="ttname"><a href="classnst_1_1Screen.html#ab5ab9ddf9c25e559ba0ed337f7ff56b4">nst::Screen::m_saved_scroll_index</a></div><div class="ttdeci">size_t m_saved_scroll_index</div><div class="ttdoc">the index in m_lines that was previously scrolled to (top position)</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00439">Screen.hxx:439</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a23d0f0f127035c0dc2becdc8f5278c41" name="a23d0f0f127035c0dc2becdc8f5278c41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23d0f0f127035c0dc2becdc8f5278c41">&#9670;&#160;</a></span>saveScrollState()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::Screen::saveScrollState </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Save the current scroll offset for later restoring via <a class="el" href="classnst_1_1Screen.html#a2d8377ffecccfe88aa141456087bab10" title="Restore the last state saved via saveScrollState().">restoreScrollState()</a>. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00310">310</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  310</span>                               {</div>
<div class="line"><span class="lineno">  311</span>                <span class="keywordflow">if</span> (<a class="code hl_function" href="classnst_1_1Screen.html#ae012a8f952acf90bdd23eccbad3cbe99">isScrolled</a>()) {</div>
<div class="line"><span class="lineno">  312</span>                        <a class="code hl_variable" href="classnst_1_1Screen.html#ab5ab9ddf9c25e559ba0ed337f7ff56b4">m_saved_scroll_index</a> = <a class="code hl_function" href="classnst_1_1Screen.html#ae96cd5c4484961a8ac0e4bf626da0ed1">bufferPos</a>(0);</div>
<div class="line"><span class="lineno">  313</span>                        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  314</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  315</span>                        <a class="code hl_variable" href="classnst_1_1Screen.html#ab5ab9ddf9c25e559ba0ed337f7ff56b4">m_saved_scroll_index</a> = SIZE_MAX;</div>
<div class="line"><span class="lineno">  316</span>                        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  317</span>                }</div>
<div class="line"><span class="lineno">  318</span>        }</div>
<div class="ttc" id="aclassnst_1_1Screen_html_ae012a8f952acf90bdd23eccbad3cbe99"><div class="ttname"><a href="classnst_1_1Screen.html#ae012a8f952acf90bdd23eccbad3cbe99">nst::Screen::isScrolled</a></div><div class="ttdeci">bool isScrolled() const</div><div class="ttdoc">Returns whether the screen is currently scrolled back to history.</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00298">Screen.hxx:298</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a002f26f0eecfbabc9bb04392cd61b8fd" name="a002f26f0eecfbabc9bb04392cd61b8fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a002f26f0eecfbabc9bb04392cd61b8fd">&#9670;&#160;</a></span>screenPos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; size_t &gt; nst::Screen::screenPos </td>
          <td>(</td>
          <td class="paramtype">LineVector::size_type&#160;</td>
          <td class="paramname"><em>line_index</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Translates a ring buffer index into a line index on the screen, if possible. </p>
<p>This performs the reverse operation of <a class="el" href="classnst_1_1Screen.html#ae96cd5c4484961a8ac0e4bf626da0ed1" title="Translates a line index on the screen into the proper index in the ring buffer in m_lines.">bufferPos()</a>. If the given index is not located on the current screen then std::nullopt is returned. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8cxx_source.html#l00161">161</a> of file <a class="el" href="Screen_8cxx_source.html">Screen.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  161</span>                                                                          {</div>
<div class="line"><span class="lineno">  162</span>        <span class="keyword">const</span> <span class="keyword">auto</span> screen_end = <a class="code hl_function" href="classnst_1_1Screen.html#ae96cd5c4484961a8ac0e4bf626da0ed1">bufferPos</a>(<a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a>-1);</div>
<div class="line"><span class="lineno">  163</span>        <span class="keyword">const</span> <span class="keyword">auto</span> screen_wraps = screen_end &lt; <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a>;</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">if</span> (screen_wraps) {</div>
<div class="line"><span class="lineno">  166</span>                <span class="keywordflow">if</span> (line_index &gt;= <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a>)</div>
<div class="line"><span class="lineno">  167</span>                        <span class="keywordflow">return</span> line_index - <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a>;</div>
<div class="line"><span class="lineno">  168</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (line_index &lt;= screen_end)</div>
<div class="line"><span class="lineno">  169</span>                        <span class="keywordflow">return</span> <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.size() - <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> + line_index;</div>
<div class="line"><span class="lineno">  170</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  171</span>                <span class="keywordflow">if</span> (line_index &gt;= <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> &amp;&amp; line_index &lt; <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> + <a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a>) {</div>
<div class="line"><span class="lineno">  172</span>                        <span class="keywordflow">return</span> line_index - <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a>;</div>
<div class="line"><span class="lineno">  173</span>                }</div>
<div class="line"><span class="lineno">  174</span>        }</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><span class="lineno">  177</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="aabc23a8c21035d67a71f1e9ab0be2ebe" name="aabc23a8c21035d67a71f1e9ab0be2ebe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabc23a8c21035d67a71f1e9ab0be2ebe">&#9670;&#160;</a></span>scrollHistoryDown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nst::Screen::scrollHistoryDown </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>lines</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scrolls the screen content down to display newer history. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classnst_1_1Screen.html#a1b4a9ae695047f914be4b4102052fcd2" title="Scrolls the screen content up to display older history.">scrollHistoryUp()</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00285">285</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  285</span>                                               {</div>
<div class="line"><span class="lineno">  286</span>                <span class="keywordflow">if</span> (!hasScrollBuffer())</div>
<div class="line"><span class="lineno">  287</span>                        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  288</span> </div>
<div class="line"><span class="lineno">  289</span>                <span class="keywordflow">if</span> (lines &gt; <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a>) {</div>
<div class="line"><span class="lineno">  290</span>                        lines = <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a>;</div>
<div class="line"><span class="lineno">  291</span>                }</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>                <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a> -= lines;</div>
<div class="line"><span class="lineno">  294</span>                <span class="keywordflow">return</span> lines;</div>
<div class="line"><span class="lineno">  295</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a620f0842585a83fc2f0d787803157301" name="a620f0842585a83fc2f0d787803157301"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a620f0842585a83fc2f0d787803157301">&#9670;&#160;</a></span>scrollHistoryMax()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nst::Screen::scrollHistoryMax </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scrolls the screen content up to display the oldest history position. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of lines actually scrolled </dd></dl>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00253">253</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  253</span>                                  {</div>
<div class="line"><span class="lineno">  254</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="classnst_1_1Screen.html#a1b4a9ae695047f914be4b4102052fcd2">scrollHistoryUp</a>(<a class="code hl_function" href="classnst_1_1Screen.html#ae51e0892159a0d158e62c0c4be66573d">historyLinesLeft</a>());</div>
<div class="line"><span class="lineno">  255</span>        }</div>
<div class="ttc" id="aclassnst_1_1Screen_html_a1b4a9ae695047f914be4b4102052fcd2"><div class="ttname"><a href="classnst_1_1Screen.html#a1b4a9ae695047f914be4b4102052fcd2">nst::Screen::scrollHistoryUp</a></div><div class="ttdeci">size_t scrollHistoryUp(size_t lines)</div><div class="ttdoc">Scrolls the screen content up to display older history.</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00261">Screen.hxx:261</a></div></div>
<div class="ttc" id="aclassnst_1_1Screen_html_ae51e0892159a0d158e62c0c4be66573d"><div class="ttname"><a href="classnst_1_1Screen.html#ae51e0892159a0d158e62c0c4be66573d">nst::Screen::historyLinesLeft</a></div><div class="ttdeci">size_t historyLinesLeft() const</div><div class="ttdoc">Returns the (theoretical) number of history lines left to scroll to.</div><div class="ttdef"><b>Definition</b> <a href="Screen_8hxx_source.html#l00424">Screen.hxx:424</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1b4a9ae695047f914be4b4102052fcd2" name="a1b4a9ae695047f914be4b4102052fcd2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b4a9ae695047f914be4b4102052fcd2">&#9670;&#160;</a></span>scrollHistoryUp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nst::Screen::scrollHistoryUp </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>lines</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scrolls the screen content up to display older history. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of lines actually scrolled. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00261">261</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  261</span>                                             {</div>
<div class="line"><span class="lineno">  262</span>                <span class="keywordflow">if</span> (!hasScrollBuffer())</div>
<div class="line"><span class="lineno">  263</span>                        <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>                <span class="keywordflow">if</span> (<span class="keyword">const</span> <span class="keyword">auto</span> left = <a class="code hl_function" href="classnst_1_1Screen.html#ae51e0892159a0d158e62c0c4be66573d">historyLinesLeft</a>(); lines &gt; left) {</div>
<div class="line"><span class="lineno">  266</span>                        lines = left;</div>
<div class="line"><span class="lineno">  267</span>                }</div>
<div class="line"><span class="lineno">  268</span> </div>
<div class="line"><span class="lineno">  269</span>                ssize_t idx = ssize_t(lines);</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>                <span class="comment">// find the first history line that actually has content</span></div>
<div class="line"><span class="lineno">  272</span>                <span class="keywordflow">while</span> (idx &gt; 0 &amp;&amp; (*<span class="keyword">this</span>)[-idx].empty())</div>
<div class="line"><span class="lineno">  273</span>                        --idx;</div>
<div class="line"><span class="lineno">  274</span> </div>
<div class="line"><span class="lineno">  275</span>                lines = size_t(idx);</div>
<div class="line"><span class="lineno">  276</span> </div>
<div class="line"><span class="lineno">  277</span>                <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a> += lines;</div>
<div class="line"><span class="lineno">  278</span>                <span class="keywordflow">return</span> lines;</div>
<div class="line"><span class="lineno">  279</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c35eec6fd037c38a46b296e8e35a0e3" name="a2c35eec6fd037c38a46b296e8e35a0e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c35eec6fd037c38a46b296e8e35a0e3">&#9670;&#160;</a></span>setCachedCursor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::Screen::setCachedCursor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnst_1_1CursorState.html">CursorState</a> &amp;&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00213">213</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  213</span>                                                       {</div>
<div class="line"><span class="lineno">  214</span>                <a class="code hl_variable" href="classnst_1_1Screen.html#aabfc5b7740b9d753784c0e9d4ed9c53f">m_cached_cursor</a> = state;</div>
<div class="line"><span class="lineno">  215</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac351b43fadf9326b8535b808aaf45465" name="ac351b43fadf9326b8535b808aaf45465"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac351b43fadf9326b8535b808aaf45465">&#9670;&#160;</a></span>setDimension()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nst::Screen::setDimension </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnst_1_1TermSize.html">TermSize</a>&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structnst_1_1Glyph.html">Glyph</a>&#160;</td>
          <td class="paramname"><em>defattrs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the current screen's dimensions. </p>
<p>This will change the physical screen dimensions. It can be used for initial setup of the screen or for subsequent adaptions of the screen's size.</p>
<p>When the screen becomes smaller then lines at the bottom that no longer fit the current screen will be deleted.</p>
<p>If the number of columns is increased then new cells will be initialized using the provided <code>defattrs</code>. If the number of columns is decreased then lost cells will be deleted. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8cxx_source.html#l00010">10</a> of file <a class="el" href="Screen_8cxx_source.html">Screen.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   10</span>                                                                   {</div>
<div class="line"><span class="lineno">   11</span> </div>
<div class="line"><span class="lineno">   12</span>        <span class="comment">// stop any active scrolling since the operations are destined for the</span></div>
<div class="line"><span class="lineno">   13</span>        <span class="comment">// current screen</span></div>
<div class="line"><span class="lineno">   14</span>        <a class="code hl_function" href="classnst_1_1Screen.html#a6ee067e64f64edea7e3ea6f97514ab7f">stopScrolling</a>();</div>
<div class="line"><span class="lineno">   15</span> </div>
<div class="line"><span class="lineno">   16</span>        <span class="comment">// on the alt screen don&#39;t do stunts with restoring columns lost due to resize.</span></div>
<div class="line"><span class="lineno">   17</span>        <span class="keyword">const</span> <span class="keyword">auto</span> init_line = Line{<span class="comment">/*keep_data_on_shrink=*/</span>!<a class="code hl_variable" href="classnst_1_1Screen.html#ad9db7d87f6128a3fbef54344ce7244e3">m_is_alt_screen</a>};</div>
<div class="line"><span class="lineno">   18</span> </div>
<div class="line"><span class="lineno">   19</span>        <span class="comment">/* if we use a ring buffer with scroll back history then never</span></div>
<div class="line"><span class="lineno">   20</span><span class="comment">         * change the ring buffer&#39;s size, it will always stick at</span></div>
<div class="line"><span class="lineno">   21</span><span class="comment">         * m_history_len. If there is no history len then we need to</span></div>
<div class="line"><span class="lineno">   22</span><span class="comment">         * adjust the size to the current terminal dimensions though</span></div>
<div class="line"><span class="lineno">   23</span><span class="comment">         * (e.g. for the alt screen).</span></div>
<div class="line"><span class="lineno">   24</span><span class="comment">         */</span></div>
<div class="line"><span class="lineno">   25</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.empty()) {</div>
<div class="line"><span class="lineno">   26</span>                <span class="comment">/* we need a buffer size of at least m_rows + 1 so that the</span></div>
<div class="line"><span class="lineno">   27</span><span class="comment">                 * custom iterator type works correctly, because we need a</span></div>
<div class="line"><span class="lineno">   28</span><span class="comment">                 * valid end() position that is not part of the current screen</span></div>
<div class="line"><span class="lineno">   29</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">   30</span>                <span class="keyword">const</span> <span class="keyword">auto</span> bufsize = <a class="code hl_variable" href="classnst_1_1Screen.html#a5f8d3c9dce1762d324db1e0c3f2264ae">m_history_len</a> + size.rows + 1;</div>
<div class="line"><span class="lineno">   31</span>                <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.resize(bufsize, init_line);</div>
<div class="line"><span class="lineno">   32</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1Screen.html#a5f8d3c9dce1762d324db1e0c3f2264ae">m_history_len</a> == 0) {</div>
<div class="line"><span class="lineno">   33</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> != 0) {</div>
<div class="line"><span class="lineno">   34</span>                        std::copy(this-&gt;begin(), this-&gt;end(), <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.begin());</div>
<div class="line"><span class="lineno">   35</span>                        <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> = 0;</div>
<div class="line"><span class="lineno">   36</span>                }</div>
<div class="line"><span class="lineno">   37</span> </div>
<div class="line"><span class="lineno">   38</span>                <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.resize(size.rows + 1, init_line);</div>
<div class="line"><span class="lineno">   39</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<span class="keywordtype">size_t</span>(size.rows) &gt; <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.size()) {</div>
<div class="line"><span class="lineno">   40</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> == 0) {</div>
<div class="line"><span class="lineno">   41</span>                        <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.resize(size.rows + <a class="code hl_variable" href="classnst_1_1Screen.html#a5f8d3c9dce1762d324db1e0c3f2264ae">m_history_len</a>, init_line);</div>
<div class="line"><span class="lineno">   42</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   43</span>                        <span class="comment">// we don&#39;t want to reorganize the ring buffer, the</span></div>
<div class="line"><span class="lineno">   44</span>                        <span class="comment">// scroll back buffer should be large enough to allow</span></div>
<div class="line"><span class="lineno">   45</span>                        <span class="comment">// larger window sizes</span></div>
<div class="line"><span class="lineno">   46</span>                        cosmos_throw(cosmos::RuntimeError{<span class="stringliteral">&quot;Requested terminal size larger than scroll ring buffer&quot;</span>});</div>
<div class="line"><span class="lineno">   47</span>                }</div>
<div class="line"><span class="lineno">   48</span>        }</div>
<div class="line"><span class="lineno">   49</span> </div>
<div class="line"><span class="lineno">   50</span>        <span class="keyword">const</span> <span class="keyword">auto</span> old_rows = <a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a>;</div>
<div class="line"><span class="lineno">   51</span>        <a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a> = size.rows;</div>
<div class="line"><span class="lineno">   52</span> </div>
<div class="line"><span class="lineno">   53</span>        <span class="comment">// clear rows at the bottom that are no longer visible</span></div>
<div class="line"><span class="lineno">   54</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a> &lt; old_rows &amp;&amp; hasScrollBuffer()) {</div>
<div class="line"><span class="lineno">   55</span>                <span class="keyword">auto</span> end = this-&gt;begin() + old_rows;</div>
<div class="line"><span class="lineno">   56</span>                <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = this-&gt;begin() + <a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a>; it != end; it++) {</div>
<div class="line"><span class="lineno">   57</span>                        it-&gt;clear();</div>
<div class="line"><span class="lineno">   58</span>                }</div>
<div class="line"><span class="lineno">   59</span>        }</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">if</span> (<span class="keywordtype">size_t</span>(size.cols) == this-&gt;begin()-&gt;size()) {</div>
<div class="line"><span class="lineno">   62</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   63</span>        }</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>        <span class="comment">// unconditionally resize the visible screen to the new number</span></div>
<div class="line"><span class="lineno">   66</span>        <span class="comment">// of cols, in case yet unallocated lines have come into view</span></div>
<div class="line"><span class="lineno">   67</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno">   68</span>        <span class="comment">// the initialization of newly appearing cells on the visible screen</span></div>
<div class="line"><span class="lineno">   69</span>        <span class="comment">// will be done by the caller (in Term).</span></div>
<div class="line"><span class="lineno">   70</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;row: *this) {</div>
<div class="line"><span class="lineno">   71</span>                row.resize(size.cols, defattrs);</div>
<div class="line"><span class="lineno">   72</span>        }</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>        <span class="comment">// in a second step resize any history lines in the ring buffer, but</span></div>
<div class="line"><span class="lineno">   75</span>        <span class="comment">// only if they&#39;re already allocated</span></div>
<div class="line"><span class="lineno">   76</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> &amp;row: <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>) {</div>
<div class="line"><span class="lineno">   77</span>                <span class="keywordflow">if</span> (row.empty())</div>
<div class="line"><span class="lineno">   78</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>                <span class="comment">// when increasing the size then defattrs will be</span></div>
<div class="line"><span class="lineno">   81</span>                <span class="comment">// applied to new columns</span></div>
<div class="line"><span class="lineno">   82</span>                row.resize(size.cols, defattrs);</div>
<div class="line"><span class="lineno">   83</span>        }</div>
<div class="line"><span class="lineno">   84</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a680f1daf05b8c76b8ce07e33a39eb23f" name="a680f1daf05b8c76b8ce07e33a39eb23f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a680f1daf05b8c76b8ce07e33a39eb23f">&#9670;&#160;</a></span>setHistoryLen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::Screen::setHistoryLen </td>
          <td>(</td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>len</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Change the size of the scrollback buffer. </p>
<p>Changing this setting will only take effect when <a class="el" href="classnst_1_1Screen.html#ac351b43fadf9326b8535b808aaf45465" title="Change the current screen&#39;s dimensions.">setDimension()</a> is called. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00245">245</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  245</span>                                             {</div>
<div class="line"><span class="lineno">  246</span>                <a class="code hl_variable" href="classnst_1_1Screen.html#a5f8d3c9dce1762d324db1e0c3f2264ae">m_history_len</a> = len;</div>
<div class="line"><span class="lineno">  247</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="afffd7656745211fde16f33913608ccd5" name="afffd7656745211fde16f33913608ccd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afffd7656745211fde16f33913608ccd5">&#9670;&#160;</a></span>shiftedPos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="structnst_1_1CharPos.html">CharPos</a> &gt; nst::Screen::shiftedPos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnst_1_1CharPos.html">CharPos</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the screen coordinates for <code>p</code> considering scroll state. </p>
<p>Returns the corrected coordinates for <code>p</code> considering the current scrolling state. The resulting position may not be visible on the current scroll position. In this case std::nullopt will be returned. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00175">175</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  175</span>                                                               {</div>
<div class="line"><span class="lineno">  176</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="classnst_1_1Screen.html#ae012a8f952acf90bdd23eccbad3cbe99">isScrolled</a>())</div>
<div class="line"><span class="lineno">  177</span>                        <span class="keywordflow">return</span> p;</div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>                <span class="comment">// we only need to consider the row position, since we don&#39;t</span></div>
<div class="line"><span class="lineno">  180</span>                <span class="comment">// scroll sideways.</span></div>
<div class="line"><span class="lineno">  181</span>                <span class="keyword">auto</span> ret = p;</div>
<div class="line"><span class="lineno">  182</span>                ret.y += <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a>;</div>
<div class="line"><span class="lineno">  183</span>                <span class="keywordflow">if</span> (ret.y &lt; 0 || <span class="keywordtype">size_t</span>(ret.y) &gt;= <a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a>)</div>
<div class="line"><span class="lineno">  184</span>                        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>                <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  187</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a522da13969ef3071a9ce993f7c534ac0" name="a522da13969ef3071a9ce993f7c534ac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a522da13969ef3071a9ce993f7c534ac0">&#9670;&#160;</a></span>shiftViewDown()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::Screen::shiftViewDown </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>lines</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00359">359</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  359</span>                                         {</div>
<div class="line"><span class="lineno">  360</span>                <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> += lines;</div>
<div class="line"><span class="lineno">  361</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> &gt;= <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.size()) {</div>
<div class="line"><span class="lineno">  362</span>                        <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> -= <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.size();</div>
<div class="line"><span class="lineno">  363</span>                }</div>
<div class="line"><span class="lineno">  364</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a798afa8745a15a19d8b40497813deefc" name="a798afa8745a15a19d8b40497813deefc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a798afa8745a15a19d8b40497813deefc">&#9670;&#160;</a></span>shiftViewUp()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::Screen::shiftViewUp </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>lines</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Shift the current screen view in the ring buffer up for the given number of lines. </p>
<p><a class="el" href="classnst_1_1Term.html#a9c2cbec7c91d1e8ff64ea24281eeebfc" title="Scrolls terminal lines downwards, creating empty lines at the top.">Term::scrollDown</a> and <a class="el" href="classnst_1_1Term.html#a33b275b45bb7a3fe1c0b9ca19f6224fd" title="Scrolls terminal lines upwards, creating empty lines at the bottom.">Term::scrollUp</a> use this for screen content scrolling. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00350">350</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  350</span>                                       {</div>
<div class="line"><span class="lineno">  351</span>                <span class="keywordflow">if</span> (lines &lt;= <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a>) {</div>
<div class="line"><span class="lineno">  352</span>                        <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> -= lines;</div>
<div class="line"><span class="lineno">  353</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  354</span>                        lines -= <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a>;</div>
<div class="line"><span class="lineno">  355</span>                        <a class="code hl_variable" href="classnst_1_1Screen.html#a6c373d6c0575fb455d13b9843fc11793">m_cur_pos</a> = <a class="code hl_variable" href="classnst_1_1Screen.html#a6d3bf234e6c7f6c353536b40af35b4f1">m_lines</a>.size() - lines;</div>
<div class="line"><span class="lineno">  356</span>                }</div>
<div class="line"><span class="lineno">  357</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6ee067e64f64edea7e3ea6f97514ab7f" name="a6ee067e64f64edea7e3ea6f97514ab7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ee067e64f64edea7e3ea6f97514ab7f">&#9670;&#160;</a></span>stopScrolling()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nst::Screen::stopScrolling </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset the screen view to display the current screen contents again. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00303">303</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  303</span>                               {</div>
<div class="line"><span class="lineno">  304</span>                <span class="keyword">const</span> <span class="keyword">auto</span> ret = <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a>;</div>
<div class="line"><span class="lineno">  305</span>                <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a> = 0;</div>
<div class="line"><span class="lineno">  306</span>                <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  307</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a1216932613f5b154feedcc12d2607584" name="a1216932613f5b154feedcc12d2607584"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1216932613f5b154feedcc12d2607584">&#9670;&#160;</a></span>unshiftedPos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::optional&lt; <a class="el" href="structnst_1_1CharPos.html">CharPos</a> &gt; nst::Screen::unshiftedPos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnst_1_1CharPos.html">CharPos</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Undo the shift operation done in <a class="el" href="classnst_1_1Screen.html#afffd7656745211fde16f33913608ccd5" title="Returns the screen coordinates for p considering scroll state.">shiftedPos()</a>. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00190">190</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  190</span>                                                                 {</div>
<div class="line"><span class="lineno">  191</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="classnst_1_1Screen.html#ae012a8f952acf90bdd23eccbad3cbe99">isScrolled</a>())</div>
<div class="line"><span class="lineno">  192</span>                        <span class="keywordflow">return</span> p;</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>                <span class="keyword">auto</span> ret = p;</div>
<div class="line"><span class="lineno">  195</span>                ret.y -= <a class="code hl_variable" href="classnst_1_1Screen.html#aebb94a8356bfff0fb12eefc76a9680b9">m_scroll_offset</a>;</div>
<div class="line"><span class="lineno">  196</span>                <span class="keywordflow">if</span> (ret.y &lt; 0 || <span class="keywordtype">size_t</span>(ret.y) &gt;= <a class="code hl_variable" href="classnst_1_1Screen.html#ae594ea917b033952c28ffb96b9c47427">m_rows</a>)</div>
<div class="line"><span class="lineno">  197</span>                        <span class="keywordflow">return</span> std::nullopt;</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>                <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  200</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4b1645e30d1e96fb9efe4be006225ec4" name="a4b1645e30d1e96fb9efe4be006225ec4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b1645e30d1e96fb9efe4be006225ec4">&#9670;&#160;</a></span>validColumn()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::Screen::validColumn </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnst_1_1CharPos.html">CharPos</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00127">127</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  127</span>                                                {</div>
<div class="line"><span class="lineno">  128</span>                <span class="keywordflow">return</span> p.x &gt;= 0 &amp;&amp; <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(p.x) &lt; numCols();</div>
<div class="line"><span class="lineno">  129</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab95386a3adde5b17445a1e9ee28790b5" name="ab95386a3adde5b17445a1e9ee28790b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab95386a3adde5b17445a1e9ee28790b5">&#9670;&#160;</a></span>validLine()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::Screen::validLine </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnst_1_1CharPos.html">CharPos</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00123">123</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  123</span>                                              {</div>
<div class="line"><span class="lineno">  124</span>                <span class="keywordflow">return</span> p.y &gt;= 0 &amp;&amp; <span class="keyword">static_cast&lt;</span><span class="keywordtype">size_t</span><span class="keyword">&gt;</span>(p.y) &lt; numLines();</div>
<div class="line"><span class="lineno">  125</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa571897966948b1c4ae4c8acf0e18fd3" name="aa571897966948b1c4ae4c8acf0e18fd3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa571897966948b1c4ae4c8acf0e18fd3">&#9670;&#160;</a></span>validPos()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::Screen::validPos </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structnst_1_1CharPos.html">CharPos</a>&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00131">131</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  131</span>                                             {</div>
<div class="line"><span class="lineno">  132</span>                <span class="keywordflow">return</span> validLine(p) &amp;&amp; validColumn(p);</div>
<div class="line"><span class="lineno">  133</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="aabfc5b7740b9d753784c0e9d4ed9c53f" name="aabfc5b7740b9d753784c0e9d4ed9c53f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aabfc5b7740b9d753784c0e9d4ed9c53f">&#9670;&#160;</a></span>m_cached_cursor</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structnst_1_1CursorState.html">CursorState</a> nst::Screen::m_cached_cursor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>save/load cursor state for this screen. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00442">442</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>

</div>
</div>
<a id="a6c373d6c0575fb455d13b9843fc11793" name="a6c373d6c0575fb455d13b9843fc11793"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c373d6c0575fb455d13b9843fc11793">&#9670;&#160;</a></span>m_cur_pos</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nst::Screen::m_cur_pos = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>where the current screen content starts in the ring buffer. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00437">437</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>

</div>
</div>
<a id="a5f8d3c9dce1762d324db1e0c3f2264ae" name="a5f8d3c9dce1762d324db1e0c3f2264ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f8d3c9dce1762d324db1e0c3f2264ae">&#9670;&#160;</a></span>m_history_len</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nst::Screen::m_history_len = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>how big the ring buffer for history should be (0 == no history) </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00440">440</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>

</div>
</div>
<a id="ad9db7d87f6128a3fbef54344ce7244e3" name="ad9db7d87f6128a3fbef54344ce7244e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9db7d87f6128a3fbef54344ce7244e3">&#9670;&#160;</a></span>m_is_alt_screen</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::Screen::m_is_alt_screen = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether this represents the alternative screen. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00441">441</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>

</div>
</div>
<a id="a6d3bf234e6c7f6c353536b40af35b4f1" name="a6d3bf234e6c7f6c353536b40af35b4f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d3bf234e6c7f6c353536b40af35b4f1">&#9670;&#160;</a></span>m_lines</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LineVector nst::Screen::m_lines</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the actual ring buffer </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00435">435</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>

</div>
</div>
<a id="ae594ea917b033952c28ffb96b9c47427" name="ae594ea917b033952c28ffb96b9c47427"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae594ea917b033952c28ffb96b9c47427">&#9670;&#160;</a></span>m_rows</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nst::Screen::m_rows = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>number of rows the visible screen has. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00436">436</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>

</div>
</div>
<a id="ab5ab9ddf9c25e559ba0ed337f7ff56b4" name="ab5ab9ddf9c25e559ba0ed337f7ff56b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5ab9ddf9c25e559ba0ed337f7ff56b4">&#9670;&#160;</a></span>m_saved_scroll_index</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nst::Screen::m_saved_scroll_index = SIZE_MAX</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the index in m_lines that was previously scrolled to (top position) </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00439">439</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>

</div>
</div>
<a id="aebb94a8356bfff0fb12eefc76a9680b9" name="aebb94a8356bfff0fb12eefc76a9680b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebb94a8356bfff0fb12eefc76a9680b9">&#9670;&#160;</a></span>m_scroll_offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t nst::Screen::m_scroll_offset = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>how many lines we are currently scrolled back. </p>

<p class="definition">Definition at line <a class="el" href="Screen_8hxx_source.html#l00438">438</a> of file <a class="el" href="Screen_8hxx_source.html">Screen.hxx</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="Screen_8hxx_source.html">Screen.hxx</a></li>
<li>src/<a class="el" href="Screen_8cxx_source.html">Screen.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>nst</b></li><li class="navelem"><a class="el" href="classnst_1_1Screen.html">Screen</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
