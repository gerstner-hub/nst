<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>nst: nst::CSIEscape Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">nst
   </div>
   <div id="projectbrief">C++ wrapper for libX11</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('structnst_1_1CSIEscape.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="structnst_1_1CSIEscape-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">nst::CSIEscape Struct Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Handles CSI and some other types of escape sequences.  
 <a href="structnst_1_1CSIEscape.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="CSIEscape_8hxx_source.html">CSIEscape.hxx</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:abf14d6b34dfb07dab0e786db4562b160" id="r_abf14d6b34dfb07dab0e786db4562b160"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#abf14d6b34dfb07dab0e786db4562b160">CSIEscape</a> (<a class="el" href="classnst_1_1Nst.html">Nst</a> &amp;nst)</td></tr>
<tr class="separator:abf14d6b34dfb07dab0e786db4562b160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2d2728e096042c1b79cafe4504fa1b6" id="r_ae2d2728e096042c1b79cafe4504fa1b6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#ae2d2728e096042c1b79cafe4504fa1b6">addCSI</a> (const char ch)</td></tr>
<tr class="memdesc:ae2d2728e096042c1b79cafe4504fa1b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds the given character to the sequence, returns whether the sequence is complete.  <br /></td></tr>
<tr class="separator:ae2d2728e096042c1b79cafe4504fa1b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3b12f909f4e9ca8b7580cdd213f2a113" id="r_a3b12f909f4e9ca8b7580cdd213f2a113"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#a3b12f909f4e9ca8b7580cdd213f2a113">process</a> ()</td></tr>
<tr class="memdesc:a3b12f909f4e9ca8b7580cdd213f2a113"><td class="mdescLeft">&#160;</td><td class="mdescRight">Processes parsed CSI parameters.  <br /></td></tr>
<tr class="separator:a3b12f909f4e9ca8b7580cdd213f2a113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0ab491d3a4e2cd3bc475f08407ddaed" id="r_ab0ab491d3a4e2cd3bc475f08407ddaed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#ab0ab491d3a4e2cd3bc475f08407ddaed">parse</a> ()</td></tr>
<tr class="memdesc:ab0ab491d3a4e2cd3bc475f08407ddaed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses the current CSI sequence into member variables.  <br /></td></tr>
<tr class="separator:ab0ab491d3a4e2cd3bc475f08407ddaed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ce6ff02ba8cfdbd2ba4cce1335def81" id="r_a9ce6ff02ba8cfdbd2ba4cce1335def81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#a9ce6ff02ba8cfdbd2ba4cce1335def81">reset</a> ()</td></tr>
<tr class="memdesc:a9ce6ff02ba8cfdbd2ba4cce1335def81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resets all parsing state and data.  <br /></td></tr>
<tr class="separator:a9ce6ff02ba8cfdbd2ba4cce1335def81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb6a9638b73c2097e8d70a1ab55da0cd" id="r_adb6a9638b73c2097e8d70a1ab55da0cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#adb6a9638b73c2097e8d70a1ab55da0cd">reportFocus</a> (const bool in_focus)</td></tr>
<tr class="memdesc:adb6a9638b73c2097e8d70a1ab55da0cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">If focus reporting was enabled, report focus state change on <a class="el" href="classnst_1_1TTY.html" title="(Pseudo) Terminal I/O.">TTY</a>.  <br /></td></tr>
<tr class="separator:adb6a9638b73c2097e8d70a1ab55da0cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a227e3f762287dcb728fc18e6e76c25c7" id="r_a227e3f762287dcb728fc18e6e76c25c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#a227e3f762287dcb728fc18e6e76c25c7">reportPaste</a> (const bool started)</td></tr>
<tr class="memdesc:a227e3f762287dcb728fc18e6e76c25c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Report a paste start/end action on <a class="el" href="classnst_1_1TTY.html" title="(Pseudo) Terminal I/O.">TTY</a> level.  <br /></td></tr>
<tr class="separator:a227e3f762287dcb728fc18e6e76c25c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:adedc4bb199311989552a31d0c4a9cc22" id="r_adedc4bb199311989552a31d0c4a9cc22"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#adedc4bb199311989552a31d0c4a9cc22">ensureArg</a> (size_t index, int defval)</td></tr>
<tr class="memdesc:adedc4bb199311989552a31d0c4a9cc22"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes sure the given argument index exists in m_args, possibly assigning defval.  <br /></td></tr>
<tr class="separator:adedc4bb199311989552a31d0c4a9cc22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a398e425464390446745cf1a7f0fa3069" id="r_a398e425464390446745cf1a7f0fa3069"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#a398e425464390446745cf1a7f0fa3069">dump</a> (const std::string_view prefix) const</td></tr>
<tr class="memdesc:a398e425464390446745cf1a7f0fa3069"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dumps the current sequence to stderr prefixed by <code>prefix</code>.  <br /></td></tr>
<tr class="separator:a398e425464390446745cf1a7f0fa3069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ec60c2998b7bb9a2c3b4c49ff4c79b5" id="r_a2ec60c2998b7bb9a2c3b4c49ff4c79b5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#a2ec60c2998b7bb9a2c3b4c49ff4c79b5">isFinalByte</a> (const char ch) const</td></tr>
<tr class="separator:a2ec60c2998b7bb9a2c3b4c49ff4c79b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a35d34880ac42a593ea9191ba5c5c72" id="r_a9a35d34880ac42a593ea9191ba5c5c72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#a9a35d34880ac42a593ea9191ba5c5c72">setModeGeneric</a> (const bool enable)</td></tr>
<tr class="memdesc:a9a35d34880ac42a593ea9191ba5c5c72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calls <a class="el" href="structnst_1_1CSIEscape.html#af71d09595d2de5115eb79f952e4a9c67" title="Process a &quot;set terminal mode&quot; request.">setMode()</a> or <a class="el" href="structnst_1_1CSIEscape.html#a2c1c508655cc6ff0ac84d1b030b9ba88" title="Process a private &quot;set terminal mode&quot; request.">setPrivateMode()</a> depending on current context.  <br /></td></tr>
<tr class="separator:a9a35d34880ac42a593ea9191ba5c5c72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af71d09595d2de5115eb79f952e4a9c67" id="r_af71d09595d2de5115eb79f952e4a9c67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#af71d09595d2de5115eb79f952e4a9c67">setMode</a> (const bool set)</td></tr>
<tr class="memdesc:af71d09595d2de5115eb79f952e4a9c67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a "set terminal mode" request.  <br /></td></tr>
<tr class="separator:af71d09595d2de5115eb79f952e4a9c67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c1c508655cc6ff0ac84d1b030b9ba88" id="r_a2c1c508655cc6ff0ac84d1b030b9ba88"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#a2c1c508655cc6ff0ac84d1b030b9ba88">setPrivateMode</a> (const bool set)</td></tr>
<tr class="memdesc:a2c1c508655cc6ff0ac84d1b030b9ba88"><td class="mdescLeft">&#160;</td><td class="mdescRight">Process a private "set terminal mode" request.  <br /></td></tr>
<tr class="separator:a2c1c508655cc6ff0ac84d1b030b9ba88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab2c03fecad6863e0d45b25ca5694af8" id="r_aab2c03fecad6863e0d45b25ca5694af8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#aab2c03fecad6863e0d45b25ca5694af8">setCursorAttrs</a> () const</td></tr>
<tr class="memdesc:aab2c03fecad6863e0d45b25ca5694af8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extended parsing of a cursor attribute change request.  <br /></td></tr>
<tr class="separator:aab2c03fecad6863e0d45b25ca5694af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5bedce2b1d98ad6c03e1cc4459a5e69" id="r_af5bedce2b1d98ad6c03e1cc4459a5e69"><td class="memItemLeft" align="right" valign="top"><a class="el" href="types_8hxx.html#aaf441f4f40b8a9ce700145bedce8cb07">ColorIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#af5bedce2b1d98ad6c03e1cc4459a5e69">parseColor</a> (std::vector&lt; int &gt;::const_iterator &amp;it) const</td></tr>
<tr class="memdesc:af5bedce2b1d98ad6c03e1cc4459a5e69"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses a color specification from the input args.  <br /></td></tr>
<tr class="separator:af5bedce2b1d98ad6c03e1cc4459a5e69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8ad4bccfbdd2aad32b34233e81cec33" id="r_ab8ad4bccfbdd2aad32b34233e81cec33"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#ab8ad4bccfbdd2aad32b34233e81cec33">handleCursorColorSet</a> (const int attr) const</td></tr>
<tr class="memdesc:ab8ad4bccfbdd2aad32b34233e81cec33"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle fb/bg cursor color settings from dim/bright color ranges.  <br /></td></tr>
<tr class="separator:ab8ad4bccfbdd2aad32b34233e81cec33"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a2e6a69e407b6f415812c87983ec13815" id="r_a2e6a69e407b6f415812c87983ec13815"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#a2e6a69e407b6f415812c87983ec13815">m_str</a></td></tr>
<tr class="memdesc:a2e6a69e407b6f415812c87983ec13815"><td class="mdescLeft">&#160;</td><td class="mdescRight">The raw escape sequence bytes collected so far.  <br /></td></tr>
<tr class="separator:a2e6a69e407b6f415812c87983ec13815"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0adbfd5b61290b816c7ad71f30227527" id="r_a0adbfd5b61290b816c7ad71f30227527"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#a0adbfd5b61290b816c7ad71f30227527">m_is_private_csi</a> = false</td></tr>
<tr class="memdesc:a0adbfd5b61290b816c7ad71f30227527"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether a private CSI control was parsed.  <br /></td></tr>
<tr class="separator:a0adbfd5b61290b816c7ad71f30227527"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb271d0524514cdcaa4a0cbeda5d8a8a" id="r_adb271d0524514cdcaa4a0cbeda5d8a8a"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a></td></tr>
<tr class="memdesc:adb271d0524514cdcaa4a0cbeda5d8a8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Up to 16 integer parameters for the current CSI.  <br /></td></tr>
<tr class="separator:adb271d0524514cdcaa4a0cbeda5d8a8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bf749997b8e38181673e1fe9b78ed05" id="r_a4bf749997b8e38181673e1fe9b78ed05"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#a4bf749997b8e38181673e1fe9b78ed05">m_mode_suffix</a></td></tr>
<tr class="memdesc:a4bf749997b8e38181673e1fe9b78ed05"><td class="mdescLeft">&#160;</td><td class="mdescRight">The intermediate and final characters of the sequence.  <br /></td></tr>
<tr class="separator:a4bf749997b8e38181673e1fe9b78ed05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6daba336b97fcf2763d6b975fde6bc61" id="r_a6daba336b97fcf2763d6b975fde6bc61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classnst_1_1Nst.html">Nst</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#a6daba336b97fcf2763d6b975fde6bc61">m_nst</a></td></tr>
<tr class="separator:a6daba336b97fcf2763d6b975fde6bc61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a92d65cc3e2f5b90bdde7bda5fc19b109" id="r_a92d65cc3e2f5b90bdde7bda5fc19b109"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#a92d65cc3e2f5b90bdde7bda5fc19b109">MAX_STR_SIZE</a> = 128 * utf8::UTF_SIZE</td></tr>
<tr class="memdesc:a92d65cc3e2f5b90bdde7bda5fc19b109"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum length of a complete CSI sequence in characters  <br /></td></tr>
<tr class="separator:a92d65cc3e2f5b90bdde7bda5fc19b109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f758258e12ecba3b6cabbfdae00d71" id="r_ab9f758258e12ecba3b6cabbfdae00d71"><td class="memItemLeft" align="right" valign="top">static constexpr size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnst_1_1CSIEscape.html#ab9f758258e12ecba3b6cabbfdae00d71">MAX_ARG_SIZE</a> = 16</td></tr>
<tr class="memdesc:ab9f758258e12ecba3b6cabbfdae00d71"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum number of parameters for a CSI sequence  <br /></td></tr>
<tr class="separator:ab9f758258e12ecba3b6cabbfdae00d71"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Handles CSI and some other types of escape sequences. </p>
<p>CSI (Control Sequence Introducer) structs follow this model: </p><pre class="fragment">ESC '[' [[ [&lt;priv&gt;] &lt;arg&gt; [;]] &lt;mode&gt; [&lt;mode&gt;]]
</pre><p> This class parses such sequences and triggers actions that result from them. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8hxx_source.html#l00026">26</a> of file <a class="el" href="CSIEscape_8hxx_source.html">CSIEscape.hxx</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="abf14d6b34dfb07dab0e786db4562b160" name="abf14d6b34dfb07dab0e786db4562b160"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf14d6b34dfb07dab0e786db4562b160">&#9670;&#160;</a></span>CSIEscape()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">nst::CSIEscape::CSIEscape </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classnst_1_1Nst.html">Nst</a> &amp;&#160;</td>
          <td class="paramname"><em>nst</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CSIEscape_8cxx_source.html#l00019">19</a> of file <a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   19</span>                             :</div>
<div class="line"><span class="lineno">   20</span>                m_nst{nst} {</div>
<div class="line"><span class="lineno">   21</span>        <a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>.reserve(<a class="code hl_variable" href="structnst_1_1CSIEscape.html#ab9f758258e12ecba3b6cabbfdae00d71">MAX_ARG_SIZE</a>);</div>
<div class="line"><span class="lineno">   22</span>        <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a2e6a69e407b6f415812c87983ec13815">m_str</a>.reserve(<a class="code hl_variable" href="structnst_1_1CSIEscape.html#a92d65cc3e2f5b90bdde7bda5fc19b109">MAX_STR_SIZE</a>);</div>
<div class="line"><span class="lineno">   23</span>}</div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_a2e6a69e407b6f415812c87983ec13815"><div class="ttname"><a href="structnst_1_1CSIEscape.html#a2e6a69e407b6f415812c87983ec13815">nst::CSIEscape::m_str</a></div><div class="ttdeci">std::string m_str</div><div class="ttdoc">The raw escape sequence bytes collected so far.</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8hxx_source.html#l00103">CSIEscape.hxx:103</a></div></div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_a92d65cc3e2f5b90bdde7bda5fc19b109"><div class="ttname"><a href="structnst_1_1CSIEscape.html#a92d65cc3e2f5b90bdde7bda5fc19b109">nst::CSIEscape::MAX_STR_SIZE</a></div><div class="ttdeci">static constexpr size_t MAX_STR_SIZE</div><div class="ttdoc">maximum length of a complete CSI sequence in characters</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8hxx_source.html#l00107">CSIEscape.hxx:107</a></div></div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_ab9f758258e12ecba3b6cabbfdae00d71"><div class="ttname"><a href="structnst_1_1CSIEscape.html#ab9f758258e12ecba3b6cabbfdae00d71">nst::CSIEscape::MAX_ARG_SIZE</a></div><div class="ttdeci">static constexpr size_t MAX_ARG_SIZE</div><div class="ttdoc">maximum number of parameters for a CSI sequence</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8hxx_source.html#l00108">CSIEscape.hxx:108</a></div></div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_adb271d0524514cdcaa4a0cbeda5d8a8a"><div class="ttname"><a href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">nst::CSIEscape::m_args</a></div><div class="ttdeci">std::vector&lt; int &gt; m_args</div><div class="ttdoc">Up to 16 integer parameters for the current CSI.</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8hxx_source.html#l00105">CSIEscape.hxx:105</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae2d2728e096042c1b79cafe4504fa1b6" name="ae2d2728e096042c1b79cafe4504fa1b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2d2728e096042c1b79cafe4504fa1b6">&#9670;&#160;</a></span>addCSI()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::CSIEscape::addCSI </td>
          <td>(</td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds the given character to the sequence, returns whether the sequence is complete. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8hxx_source.html#l00032">32</a> of file <a class="el" href="CSIEscape_8hxx_source.html">CSIEscape.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   32</span>                                   {</div>
<div class="line"><span class="lineno">   33</span>                <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a2e6a69e407b6f415812c87983ec13815">m_str</a>.push_back(ch);</div>
<div class="line"><span class="lineno">   34</span>                <span class="comment">// signal complete either if the maximum sequence length has</span></div>
<div class="line"><span class="lineno">   35</span>                <span class="comment">// been reached or a final byte appears</span></div>
<div class="line"><span class="lineno">   36</span>                <span class="keywordflow">return</span> <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a2e6a69e407b6f415812c87983ec13815">m_str</a>.length() &gt;= <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a92d65cc3e2f5b90bdde7bda5fc19b109">MAX_STR_SIZE</a> || isFinalByte(ch);</div>
<div class="line"><span class="lineno">   37</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a398e425464390446745cf1a7f0fa3069" name="a398e425464390446745cf1a7f0fa3069"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a398e425464390446745cf1a7f0fa3069">&#9670;&#160;</a></span>dump()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::CSIEscape::dump </td>
          <td>(</td>
          <td class="paramtype">const std::string_view&#160;</td>
          <td class="paramname"><em>prefix</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dumps the current sequence to stderr prefixed by <code>prefix</code>. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8cxx_source.html#l00090">90</a> of file <a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   90</span>                                                      {</div>
<div class="line"><span class="lineno">   91</span>        <span class="keyword">auto</span> &amp;errlog = m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().error();</div>
<div class="line"><span class="lineno">   92</span>        errlog &lt;&lt; prefix &lt;&lt; <span class="stringliteral">&quot;: ESC[&quot;</span>;</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>        <span class="keyword">auto</span> get_repr = [](<span class="keyword">const</span> <span class="keywordtype">char</span> ch) -&gt; std::string {</div>
<div class="line"><span class="lineno">   95</span>                <span class="keywordflow">switch</span>(ch) {</div>
<div class="line"><span class="lineno">   96</span>                        <span class="keywordflow">case</span> <span class="charliteral">&#39;\n&#39;</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;\\n&quot;</span>;</div>
<div class="line"><span class="lineno">   97</span>                        <span class="keywordflow">case</span> <span class="charliteral">&#39;\r&#39;</span>: <span class="keywordflow">return</span> <span class="stringliteral">&quot;\\r&quot;</span>;</div>
<div class="line"><span class="lineno">   98</span>                        <span class="keywordflow">case</span> 0x1b: <span class="keywordflow">return</span> <span class="stringliteral">&quot;\\e&quot;</span>;</div>
<div class="line"><span class="lineno">   99</span>                        <span class="keywordflow">default</span>: <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>std::string<span class="keyword">&gt;</span>(cosmos::HexNum{ch, 2});</div>
<div class="line"><span class="lineno">  100</span>                }</div>
<div class="line"><span class="lineno">  101</span>        };</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> c: <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a2e6a69e407b6f415812c87983ec13815">m_str</a>) {</div>
<div class="line"><span class="lineno">  104</span>                <span class="keywordflow">if</span> (cosmos::printable(c)) {</div>
<div class="line"><span class="lineno">  105</span>                        errlog &lt;&lt; c;</div>
<div class="line"><span class="lineno">  106</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  107</span>                        errlog &lt;&lt; <span class="stringliteral">&quot;(&quot;</span> &lt;&lt; get_repr(c) &lt;&lt; <span class="stringliteral">&quot;)&quot;</span>;</div>
<div class="line"><span class="lineno">  108</span>                }</div>
<div class="line"><span class="lineno">  109</span>        }</div>
<div class="line"><span class="lineno">  110</span> </div>
<div class="line"><span class="lineno">  111</span>        errlog &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  112</span>}</div>
<div class="ttc" id="aclassnst_1_1Nst_html_ab424f4e9648090eff002fcffb91bd018"><div class="ttname"><a href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">nst::Nst::logger</a></div><div class="ttdeci">auto &amp; logger() const</div><div class="ttdoc">Access to the central logger instance.</div><div class="ttdef"><b>Definition</b> <a href="nst_8hxx_source.html#l00058">nst.hxx:58</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adedc4bb199311989552a31d0c4a9cc22" name="adedc4bb199311989552a31d0c4a9cc22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adedc4bb199311989552a31d0c4a9cc22">&#9670;&#160;</a></span>ensureArg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int nst::CSIEscape::ensureArg </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>defval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Makes sure the given argument index exists in m_args, possibly assigning defval. </p>
<p>If the given argument index is not available then m_args is extended accordingly. Whether extended or not the function also makes sure that if the value at the given index is &lt;= 0 that <code>defval</code> is assigned to it.</p>
<dl class="section return"><dt>Returns</dt><dd>The current value of the argument at index. </dd></dl>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8cxx_source.html#l00025">25</a> of file <a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span>                                                 {</div>
<div class="line"><span class="lineno">   26</span>        <span class="keyword">const</span> <span class="keyword">auto</span> req_size = index + 1;</div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>.size() &lt; req_size)</div>
<div class="line"><span class="lineno">   29</span>                <a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>.resize(req_size);</div>
<div class="line"><span class="lineno">   30</span> </div>
<div class="line"><span class="lineno">   31</span>        <span class="keyword">auto</span> &amp;val = <a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>[index];</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>        <span class="keywordflow">if</span> (val &lt;= 0) {</div>
<div class="line"><span class="lineno">   34</span>                val = defval;</div>
<div class="line"><span class="lineno">   35</span>        }</div>
<div class="line"><span class="lineno">   36</span> </div>
<div class="line"><span class="lineno">   37</span>        <span class="keywordflow">return</span> val;</div>
<div class="line"><span class="lineno">   38</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab8ad4bccfbdd2aad32b34233e81cec33" name="ab8ad4bccfbdd2aad32b34233e81cec33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8ad4bccfbdd2aad32b34233e81cec33">&#9670;&#160;</a></span>handleCursorColorSet()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::CSIEscape::handleCursorColorSet </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>attr</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle fb/bg cursor color settings from dim/bright color ranges. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8cxx_source.html#l00573">573</a> of file <a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  573</span>                                                         {</div>
<div class="line"><span class="lineno">  574</span>        <span class="comment">// this allows to calculate system color indices from CSI escape codes</span></div>
<div class="line"><span class="lineno">  575</span>        <span class="keyword">constexpr</span> std::array&lt;std::tuple&lt;int, int, bool, int&gt;, 4&gt; RANGES{</div>
<div class="line"><span class="lineno">  576</span>                std::tuple{ 30,  37, <span class="keyword">true</span>,  0}, <span class="comment">// dim foreground colors</span></div>
<div class="line"><span class="lineno">  577</span>                          { 40,  47, <span class="keyword">false</span>, 0}, <span class="comment">// dim background colors</span></div>
<div class="line"><span class="lineno">  578</span>                          { 90,  97, <span class="keyword">true</span>,  8}, <span class="comment">// bright foreground colors</span></div>
<div class="line"><span class="lineno">  579</span>                          {100, 107, <span class="keyword">false</span>, 8}  <span class="comment">// bright background colors</span></div>
<div class="line"><span class="lineno">  580</span>        };</div>
<div class="line"><span class="lineno">  581</span> </div>
<div class="line"><span class="lineno">  582</span>        <span class="keyword">auto</span> &amp;term = m_nst.term();</div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;range: RANGES) {</div>
<div class="line"><span class="lineno">  585</span>                <span class="keyword">const</span> <span class="keyword">auto</span> [start, end, is_fg, offset] = range;</div>
<div class="line"><span class="lineno">  586</span>                <span class="keywordflow">if</span> (!cosmos::in_range(attr, start, end))</div>
<div class="line"><span class="lineno">  587</span>                        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  588</span> </div>
<div class="line"><span class="lineno">  589</span>                <span class="keyword">const</span> <a class="code hl_enumeration" href="types_8hxx.html#aaf441f4f40b8a9ce700145bedce8cb07">ColorIndex</a> idx{uint32_t(attr - start + offset)};</div>
<div class="line"><span class="lineno">  590</span> </div>
<div class="line"><span class="lineno">  591</span>                <span class="keywordflow">if</span> (is_fg)</div>
<div class="line"><span class="lineno">  592</span>                        term.setCursorFgColor(idx);</div>
<div class="line"><span class="lineno">  593</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  594</span>                        term.setCursorBgColor(idx);</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  597</span>        }</div>
<div class="line"><span class="lineno">  598</span> </div>
<div class="line"><span class="lineno">  599</span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  600</span>}</div>
<div class="ttc" id="atypes_8hxx_html_aaf441f4f40b8a9ce700145bedce8cb07"><div class="ttname"><a href="types_8hxx.html#aaf441f4f40b8a9ce700145bedce8cb07">nst::ColorIndex</a></div><div class="ttdeci">ColorIndex</div><div class="ttdoc">Represents a terminal color index or a 24 bit RGB true color value.</div><div class="ttdef"><b>Definition</b> <a href="types_8hxx_source.html#l00532">types.hxx:532</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2ec60c2998b7bb9a2c3b4c49ff4c79b5" name="a2ec60c2998b7bb9a2c3b4c49ff4c79b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ec60c2998b7bb9a2c3b4c49ff4c79b5">&#9670;&#160;</a></span>isFinalByte()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::CSIEscape::isFinalByte </td>
          <td>(</td>
          <td class="paramtype">const char&#160;</td>
          <td class="paramname"><em>ch</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CSIEscape_8hxx_source.html#l00075">75</a> of file <a class="el" href="CSIEscape_8hxx_source.html">CSIEscape.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   75</span>                                              {</div>
<div class="line"><span class="lineno">   76</span>                <span class="comment">// this range is found in the CSI spec</span></div>
<div class="line"><span class="lineno">   77</span>                <span class="keywordflow">return</span> cosmos::in_range(ch, 0x40, 0x7E);</div>
<div class="line"><span class="lineno">   78</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0ab491d3a4e2cd3bc475f08407ddaed" name="ab0ab491d3a4e2cd3bc475f08407ddaed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0ab491d3a4e2cd3bc475f08407ddaed">&#9670;&#160;</a></span>parse()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nst::CSIEscape::parse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses the current CSI sequence into member variables. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8cxx_source.html#l00040">40</a> of file <a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   40</span>                      {</div>
<div class="line"><span class="lineno">   41</span>        <a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>.clear();</div>
<div class="line"><span class="lineno">   42</span> </div>
<div class="line"><span class="lineno">   43</span>        <span class="keyword">auto</span> it = <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a2e6a69e407b6f415812c87983ec13815">m_str</a>.begin();</div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="structnst_1_1CSIEscape.html#a2e6a69e407b6f415812c87983ec13815">m_str</a>.empty()) {</div>
<div class="line"><span class="lineno">   46</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   47</span>        } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code hl_variable" href="structnst_1_1CSIEscape.html#a2e6a69e407b6f415812c87983ec13815">m_str</a>.front() == <span class="charliteral">&#39;?&#39;</span>) {</div>
<div class="line"><span class="lineno">   48</span>                <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a0adbfd5b61290b816c7ad71f30227527">m_is_private_csi</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   49</span>                it++;</div>
<div class="line"><span class="lineno">   50</span>        }</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span>        <span class="comment">// any missing values are usually defaulted to 0</span></div>
<div class="line"><span class="lineno">   53</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno">   54</span>        <span class="comment">// 0 is generally denoting a &quot;default value&quot; which can also be</span></div>
<div class="line"><span class="lineno">   55</span>        <span class="comment">// something different depending on the command.</span></div>
<div class="line"><span class="lineno">   56</span>        <span class="comment">//</span></div>
<div class="line"><span class="lineno">   57</span>        <span class="comment">// a value generally cannot be negative from the spec&#39;s point of view.</span></div>
<div class="line"><span class="lineno">   58</span>        <span class="keywordtype">int</span> arg;</div>
<div class="line"><span class="lineno">   59</span>        <span class="keywordtype">size_t</span> num_parsed;</div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">while</span> (it &lt; <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a2e6a69e407b6f415812c87983ec13815">m_str</a>.end()) {</div>
<div class="line"><span class="lineno">   62</span>                <span class="keywordflow">try</span> {</div>
<div class="line"><span class="lineno">   63</span>                        arg = std::stol(&amp;(*it), &amp;num_parsed);</div>
<div class="line"><span class="lineno">   64</span>                        it += num_parsed;</div>
<div class="line"><span class="lineno">   65</span>                } <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::invalid_argument &amp;) {</div>
<div class="line"><span class="lineno">   66</span>                        arg = 0;</div>
<div class="line"><span class="lineno">   67</span>                } <span class="keywordflow">catch</span>(<span class="keyword">const</span> std::out_of_range &amp;) {</div>
<div class="line"><span class="lineno">   68</span>                        arg = -1;</div>
<div class="line"><span class="lineno">   69</span>                }</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>                <a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>.push_back(arg);</div>
<div class="line"><span class="lineno">   72</span> </div>
<div class="line"><span class="lineno">   73</span>                <span class="keywordflow">if</span> (*it != <span class="charliteral">&#39;;&#39;</span> || <a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>.size() == <a class="code hl_variable" href="structnst_1_1CSIEscape.html#ab9f758258e12ecba3b6cabbfdae00d71">MAX_ARG_SIZE</a>)</div>
<div class="line"><span class="lineno">   74</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   75</span>                it++;</div>
<div class="line"><span class="lineno">   76</span>        }</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>        <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a4bf749997b8e38181673e1fe9b78ed05">m_mode_suffix</a> = std::string{it, <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a2e6a69e407b6f415812c87983ec13815">m_str</a>.end()};</div>
<div class="line"><span class="lineno">   79</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="structnst_1_1CSIEscape.html#a4bf749997b8e38181673e1fe9b78ed05">m_mode_suffix</a>.empty())</div>
<div class="line"><span class="lineno">   80</span>                <span class="comment">// make sure there is always a zero terminator available for</span></div>
<div class="line"><span class="lineno">   81</span>                <span class="comment">// index based access</span></div>
<div class="line"><span class="lineno">   82</span>                <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a4bf749997b8e38181673e1fe9b78ed05">m_mode_suffix</a>.push_back(<span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>        <span class="comment">// if no parameter is provided then a single zero default parameter is</span></div>
<div class="line"><span class="lineno">   85</span>        <span class="comment">// implied acc. to spec</span></div>
<div class="line"><span class="lineno">   86</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>.empty())</div>
<div class="line"><span class="lineno">   87</span>                <a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>.push_back(0);</div>
<div class="line"><span class="lineno">   88</span>}</div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_a0adbfd5b61290b816c7ad71f30227527"><div class="ttname"><a href="structnst_1_1CSIEscape.html#a0adbfd5b61290b816c7ad71f30227527">nst::CSIEscape::m_is_private_csi</a></div><div class="ttdeci">bool m_is_private_csi</div><div class="ttdoc">Whether a private CSI control was parsed.</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8hxx_source.html#l00104">CSIEscape.hxx:104</a></div></div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_a4bf749997b8e38181673e1fe9b78ed05"><div class="ttname"><a href="structnst_1_1CSIEscape.html#a4bf749997b8e38181673e1fe9b78ed05">nst::CSIEscape::m_mode_suffix</a></div><div class="ttdeci">std::string m_mode_suffix</div><div class="ttdoc">The intermediate and final characters of the sequence.</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8hxx_source.html#l00106">CSIEscape.hxx:106</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af5bedce2b1d98ad6c03e1cc4459a5e69" name="af5bedce2b1d98ad6c03e1cc4459a5e69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5bedce2b1d98ad6c03e1cc4459a5e69">&#9670;&#160;</a></span>parseColor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8hxx.html#aaf441f4f40b8a9ce700145bedce8cb07">ColorIndex</a> nst::CSIEscape::parseColor </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; int &gt;::const_iterator &amp;&#160;</td>
          <td class="paramname"><em>it</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parses a color specification from the input args. </p>
<p>This increments the iterator for the number of processed elements. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8cxx_source.html#l00602">602</a> of file <a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  602</span>                                                                       {</div>
<div class="line"><span class="lineno">  603</span>        <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_pars = <a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>.end() - it;</div>
<div class="line"><span class="lineno">  604</span> </div>
<div class="line"><span class="lineno">  605</span>        <span class="keyword">auto</span> toTrueColor = [](<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> r, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> g, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> b) -&gt; ColorIndex {</div>
<div class="line"><span class="lineno">  606</span>                std::underlying_type&lt;ColorIndex&gt;::type raw = (r &lt;&lt; 16) | (g &lt;&lt; 8) | b;</div>
<div class="line"><span class="lineno">  607</span>                <span class="keywordflow">return</span> <a class="code hl_function" href="types_8hxx.html#a1899a9cc0a504e4a169890c1ab02b3ad">to_true_color</a>(ColorIndex{raw});</div>
<div class="line"><span class="lineno">  608</span>        };</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>        <span class="keyword">auto</span> badPars = [num_pars, <span class="keyword">this</span>]() {</div>
<div class="line"><span class="lineno">  611</span>                m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().error() &lt;&lt; <span class="stringliteral">&quot;erresc(38,48): Incorrect number of parameters (&quot;</span> &lt;&lt; num_pars &lt;&lt; <span class="stringliteral">&quot;)\n&quot;</span>;</div>
<div class="line"><span class="lineno">  612</span>                <span class="keywordflow">return</span> ColorIndex::INVALID;</div>
<div class="line"><span class="lineno">  613</span>        };</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>        <span class="keywordflow">if</span> (num_pars == 0)</div>
<div class="line"><span class="lineno">  616</span>                <span class="keywordflow">return</span> badPars();</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span>        <span class="keyword">const</span> <span class="keyword">auto</span> color_type = *it++;</div>
<div class="line"><span class="lineno">  619</span>        <span class="keyword">const</span> <span class="keyword">auto</span> left = num_pars - 1;</div>
<div class="line"><span class="lineno">  620</span> </div>
<div class="line"><span class="lineno">  621</span>        <span class="keywordflow">switch</span> (color_type) {</div>
<div class="line"><span class="lineno">  622</span>        <span class="keywordflow">case</span> 2: { <span class="comment">// direct color in RGB space</span></div>
<div class="line"><span class="lineno">  623</span>                <span class="keywordflow">if</span> (left &lt; 3)</div>
<div class="line"><span class="lineno">  624</span>                        <span class="keywordflow">return</span> badPars();</div>
<div class="line"><span class="lineno">  625</span> </div>
<div class="line"><span class="lineno">  626</span>                <span class="keyword">const</span> <span class="keyword">auto</span> r = *it++;</div>
<div class="line"><span class="lineno">  627</span>                <span class="keyword">const</span> <span class="keyword">auto</span> g = *it++;</div>
<div class="line"><span class="lineno">  628</span>                <span class="keyword">const</span> <span class="keyword">auto</span> b = *it;</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>                <span class="keywordflow">if</span> (r &lt;= 255 &amp;&amp; g &lt;= 255 &amp;&amp; b &lt;= 255) {</div>
<div class="line"><span class="lineno">  631</span>                        <span class="keywordflow">return</span> toTrueColor(r, g, b);</div>
<div class="line"><span class="lineno">  632</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  633</span>                        m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().error() &lt;&lt; <span class="stringliteral">&quot;erresc: bad rgb color (&quot;</span> &lt;&lt; r &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; g &lt;&lt; <span class="stringliteral">&quot;,&quot;</span> &lt;&lt; b &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  634</span>                        <span class="keywordflow">return</span> ColorIndex::INVALID;</div>
<div class="line"><span class="lineno">  635</span>                }</div>
<div class="line"><span class="lineno">  636</span>        }</div>
<div class="line"><span class="lineno">  637</span>        <span class="keywordflow">case</span> 5: { <span class="comment">// indexed color</span></div>
<div class="line"><span class="lineno">  638</span>                <span class="keywordflow">if</span> (left &lt; 1)</div>
<div class="line"><span class="lineno">  639</span>                        <span class="keywordflow">return</span> badPars();</div>
<div class="line"><span class="lineno">  640</span> </div>
<div class="line"><span class="lineno">  641</span>                <span class="keyword">const</span> <span class="keyword">auto</span> idx = *it &gt;= 0 ? <a class="code hl_enumeration" href="types_8hxx.html#aaf441f4f40b8a9ce700145bedce8cb07">ColorIndex</a>{uint32_t(*it)} : ColorIndex::INVALID;</div>
<div class="line"><span class="lineno">  642</span> </div>
<div class="line"><span class="lineno">  643</span>                <span class="keywordflow">if</span> (idx &lt;= ColorIndex::END_256) {</div>
<div class="line"><span class="lineno">  644</span>                        <span class="keywordflow">return</span> idx;</div>
<div class="line"><span class="lineno">  645</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  646</span>                        m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().error() &lt;&lt; <span class="stringliteral">&quot;erresc: bad fg/bgcolor &quot;</span> &lt;&lt; *it &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  647</span>                        <span class="keywordflow">return</span> ColorIndex::INVALID;</div>
<div class="line"><span class="lineno">  648</span>                }</div>
<div class="line"><span class="lineno">  649</span>        }</div>
<div class="line"><span class="lineno">  650</span>        <span class="keywordflow">case</span> 0: <span class="comment">// implementation defined (only foreground)</span></div>
<div class="line"><span class="lineno">  651</span>        <span class="keywordflow">case</span> 1: <span class="comment">// transparent</span></div>
<div class="line"><span class="lineno">  652</span>        <span class="keywordflow">case</span> 3: <span class="comment">// direct color in CMY space</span></div>
<div class="line"><span class="lineno">  653</span>        <span class="keywordflow">case</span> 4: <span class="comment">// direct color in CMYK space</span></div>
<div class="line"><span class="lineno">  654</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  655</span>                m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().error() &lt;&lt; <span class="stringliteral">&quot;erresc(38,48): gfx attr &quot;</span> &lt;&lt; color_type &lt;&lt; <span class="stringliteral">&quot; unknown&quot;</span> &lt;&lt; std::endl;</div>
<div class="line"><span class="lineno">  656</span>                <span class="keywordflow">return</span> ColorIndex::INVALID;</div>
<div class="line"><span class="lineno">  657</span>        }</div>
<div class="line"><span class="lineno">  658</span>}</div>
<div class="ttc" id="atypes_8hxx_html_a1899a9cc0a504e4a169890c1ab02b3ad"><div class="ttname"><a href="types_8hxx.html#a1899a9cc0a504e4a169890c1ab02b3ad">nst::to_true_color</a></div><div class="ttdeci">ColorIndex to_true_color(const ColorIndex idx)</div><div class="ttdoc">Sets the true color flag for the given index.</div><div class="ttdef"><b>Definition</b> <a href="types_8hxx_source.html#l00555">types.hxx:555</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3b12f909f4e9ca8b7580cdd213f2a113" name="a3b12f909f4e9ca8b7580cdd213f2a113"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b12f909f4e9ca8b7580cdd213f2a113">&#9670;&#160;</a></span>process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nst::CSIEscape::process </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Processes parsed CSI parameters. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8cxx_source.html#l00248">248</a> of file <a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  248</span>                        {</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>        <span class="comment">// spec reference: https://vt100.net/docs/vt510-rm/chapter4.html</span></div>
<div class="line"><span class="lineno">  251</span>        <span class="comment">// Xterm extensions: https://invisible-island.net/xterm/ctlseqs/ctlseqs.pdf</span></div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="structnst_1_1CSIEscape.html#a4bf749997b8e38181673e1fe9b78ed05">m_mode_suffix</a>.empty())</div>
<div class="line"><span class="lineno">  254</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  255</span> </div>
<div class="line"><span class="lineno">  256</span>        <span class="keyword">const</span> <span class="keyword">auto</span> arg0 = <a class="code hl_function" href="structnst_1_1CSIEscape.html#adedc4bb199311989552a31d0c4a9cc22">ensureArg</a>(0, 0);</div>
<div class="line"><span class="lineno">  257</span>        <span class="keyword">auto</span> &amp;term = m_nst.term();</div>
<div class="line"><span class="lineno">  258</span>        <span class="keyword">const</span> <span class="keyword">auto</span> curpos = term.<a class="code hl_function" href="classnst_1_1Term.html#a377549ea92e53edad0e0080a308e9a1f">cursor</a>().position();</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>        <span class="keywordflow">switch</span> (<a class="code hl_variable" href="structnst_1_1CSIEscape.html#a4bf749997b8e38181673e1fe9b78ed05">m_mode_suffix</a>.front()) {</div>
<div class="line"><span class="lineno">  261</span>        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  262</span>                <span class="comment">// ignore unsupported sequences</span></div>
<div class="line"><span class="lineno">  263</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  264</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;@&#39;</span>: <span class="comment">// ICH -- Insert &lt;n&gt; blank char</span></div>
<div class="line"><span class="lineno">  265</span>                term.insertBlanksAfterCursor(arg0 ? arg0 : 1);</div>
<div class="line"><span class="lineno">  266</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  267</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;A&#39;</span>: <span class="comment">// CUU -- Cursor &lt;n&gt; Up</span></div>
<div class="line"><span class="lineno">  268</span>                term.moveCursorUp(arg0 ? arg0 : 1);</div>
<div class="line"><span class="lineno">  269</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  270</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;B&#39;</span>: <span class="comment">// CUD -- Cursor &lt;n&gt; Down</span></div>
<div class="line"><span class="lineno">  271</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;e&#39;</span>: <span class="comment">// VPR -- Cursor &lt;n&gt; Down</span></div>
<div class="line"><span class="lineno">  272</span>                term.moveCursorDown(arg0 ? arg0 : 1);</div>
<div class="line"><span class="lineno">  273</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  274</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>: <span class="comment">// MC -- Media Copy</span></div>
<div class="line"><span class="lineno">  275</span>                <span class="keywordflow">switch</span> (arg0) {</div>
<div class="line"><span class="lineno">  276</span>                        <span class="keywordflow">case</span> 0: <span class="comment">// print page</span></div>
<div class="line"><span class="lineno">  277</span>                                term.dump();</div>
<div class="line"><span class="lineno">  278</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  279</span>                        <span class="keywordflow">case</span> 1: <span class="comment">// print cursor line</span></div>
<div class="line"><span class="lineno">  280</span>                                term.dumpCursorLine();</div>
<div class="line"><span class="lineno">  281</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  282</span>                        <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno">  283</span>                                m_nst.selection().<a class="code hl_function" href="classnst_1_1Selection.html#aa47b683a3b3cd2e6aac493c6f7c02cf9">dump</a>();</div>
<div class="line"><span class="lineno">  284</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  285</span>                        <span class="keywordflow">case</span> 4: <span class="comment">// reset autoprint mode</span></div>
<div class="line"><span class="lineno">  286</span>                                term.setPrintMode(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  287</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  288</span>                        <span class="keywordflow">case</span> 5: <span class="comment">// set autoprint mode</span></div>
<div class="line"><span class="lineno">  289</span>                                term.setPrintMode(<span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  290</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  291</span>                }</div>
<div class="line"><span class="lineno">  292</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  293</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>: <span class="comment">// DA -- Device Attributes</span></div>
<div class="line"><span class="lineno">  294</span>                <span class="keywordflow">if</span> (arg0 == 0)</div>
<div class="line"><span class="lineno">  295</span>                        m_nst.tty().<a class="code hl_function" href="classnst_1_1TTY.html#a8be1c9ffd638c22516037c687a6504be">write</a>(config::VT_IDENT, TTY::MayEcho{<span class="keyword">false</span>});</div>
<div class="line"><span class="lineno">  296</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  297</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;b&#39;</span>: <span class="comment">// REP -- if last char is printable print it &lt;n&gt; more times</span></div>
<div class="line"><span class="lineno">  298</span>                term.repeatChar(arg0 ? arg0 : 1);</div>
<div class="line"><span class="lineno">  299</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  300</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;C&#39;</span>: <span class="comment">// CUF -- Cursor &lt;n&gt; Forward</span></div>
<div class="line"><span class="lineno">  301</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;a&#39;</span>: <span class="comment">// HPR -- Cursor &lt;n&gt; Forward</span></div>
<div class="line"><span class="lineno">  302</span>                term.moveCursorRight(arg0 ? arg0 : 1);</div>
<div class="line"><span class="lineno">  303</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  304</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;D&#39;</span>: <span class="comment">// CUB -- Cursor &lt;n&gt; Backward</span></div>
<div class="line"><span class="lineno">  305</span>                term.moveCursorLeft(arg0 ? arg0 : 1);</div>
<div class="line"><span class="lineno">  306</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  307</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;E&#39;</span>: <span class="comment">// CNL -- Cursor &lt;n&gt; Down and to first col</span></div>
<div class="line"><span class="lineno">  308</span>                term.moveCursorDown(arg0 ? arg0 : 1, Term::CarriageReturn{true});</div>
<div class="line"><span class="lineno">  309</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  310</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;F&#39;</span>: <span class="comment">// CPL -- Cursor &lt;n&gt; Up and to first col</span></div>
<div class="line"><span class="lineno">  311</span>                term.moveCursorUp(arg0 ? arg0 : 1, Term::CarriageReturn{true});</div>
<div class="line"><span class="lineno">  312</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  313</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;g&#39;</span>: <span class="comment">// TBC -- Tabulation clear</span></div>
<div class="line"><span class="lineno">  314</span>                <span class="keywordflow">switch</span> (arg0) {</div>
<div class="line"><span class="lineno">  315</span>                        <span class="keywordflow">case</span> 0: <span class="comment">// clear current tab stop</span></div>
<div class="line"><span class="lineno">  316</span>                                term.setTabAtCursor(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  317</span>                                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  318</span>                        <span class="keywordflow">case</span> 3: <span class="comment">// clear all the tabs</span></div>
<div class="line"><span class="lineno">  319</span>                                term.clearAllTabs();</div>
<div class="line"><span class="lineno">  320</span>                                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  321</span>                        <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  322</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  323</span>                }</div>
<div class="line"><span class="lineno">  324</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;G&#39;</span>: <span class="comment">// CHA -- Move to &lt;col&gt;</span></div>
<div class="line"><span class="lineno">  326</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;`&#39;</span>: <span class="comment">// HPA</span></div>
<div class="line"><span class="lineno">  327</span>                term.moveCursorToCol(arg0 ? arg0 - 1 : 0);</div>
<div class="line"><span class="lineno">  328</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  329</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;H&#39;</span>:   <span class="comment">// CUP -- Move to absolute &lt;row&gt; &lt;col&gt;</span></div>
<div class="line"><span class="lineno">  330</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;f&#39;</span>: { <span class="comment">// HVP</span></div>
<div class="line"><span class="lineno">  331</span>                <span class="keyword">const</span> <span class="keyword">auto</span> row = arg0 ? arg0 - 1 : 0;</div>
<div class="line"><span class="lineno">  332</span>                <span class="keyword">const</span> <span class="keyword">auto</span> col = <a class="code hl_function" href="structnst_1_1CSIEscape.html#adedc4bb199311989552a31d0c4a9cc22">ensureArg</a>(1, 1) - 1;</div>
<div class="line"><span class="lineno">  333</span>                term.moveCursorAbsTo({col, row});</div>
<div class="line"><span class="lineno">  334</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  335</span>        }</div>
<div class="line"><span class="lineno">  336</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;I&#39;</span>: <span class="comment">// CHT -- Cursor Forward Tabulation &lt;n&gt; tab stops</span></div>
<div class="line"><span class="lineno">  337</span>                term.moveToNextTab(arg0 ? arg0 : 1);</div>
<div class="line"><span class="lineno">  338</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  339</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;J&#39;</span>: <span class="comment">// ED -- Clear screen</span></div>
<div class="line"><span class="lineno">  340</span>                <span class="keywordflow">switch</span> (arg0) {</div>
<div class="line"><span class="lineno">  341</span>                <span class="keywordflow">case</span> 0: <span class="comment">// below. from cursor to end of display</span></div>
<div class="line"><span class="lineno">  342</span>                        term.clearLinesBelowCursor();</div>
<div class="line"><span class="lineno">  343</span>                        term.clearColsAfterCursor();</div>
<div class="line"><span class="lineno">  344</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  345</span>                <span class="keywordflow">case</span> 1: <span class="comment">// above: from start to cursor</span></div>
<div class="line"><span class="lineno">  346</span>                        term.clearLinesAboveCursor();</div>
<div class="line"><span class="lineno">  347</span>                        term.clearColsBeforeCursor();</div>
<div class="line"><span class="lineno">  348</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  349</span>                <span class="keywordflow">case</span> 2: <span class="comment">// whole display</span></div>
<div class="line"><span class="lineno">  350</span>                        term.clearScreen();</div>
<div class="line"><span class="lineno">  351</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  352</span>                <span class="keywordflow">case</span> 3: <span class="comment">// including scroll-back buffer</span></div>
<div class="line"><span class="lineno">  353</span>                        term.clearScreen(<span class="comment">/*with_scrollback=*/</span><span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  354</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  355</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  356</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  357</span>                }</div>
<div class="line"><span class="lineno">  358</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  359</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;K&#39;</span>: <span class="comment">// EL -- Clear line</span></div>
<div class="line"><span class="lineno">  360</span>                <span class="keywordflow">switch</span> (arg0) {</div>
<div class="line"><span class="lineno">  361</span>                <span class="keywordflow">case</span> 0: <span class="comment">// right of cursor</span></div>
<div class="line"><span class="lineno">  362</span>                        term.clearColsAfterCursor();</div>
<div class="line"><span class="lineno">  363</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  364</span>                <span class="keywordflow">case</span> 1: <span class="comment">// left of cursor</span></div>
<div class="line"><span class="lineno">  365</span>                        term.clearColsBeforeCursor();</div>
<div class="line"><span class="lineno">  366</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  367</span>                <span class="keywordflow">case</span> 2: <span class="comment">// complete cursor line</span></div>
<div class="line"><span class="lineno">  368</span>                        term.clearCursorLine();</div>
<div class="line"><span class="lineno">  369</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  370</span>                }</div>
<div class="line"><span class="lineno">  371</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  372</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;S&#39;</span>: <span class="comment">// SU -- Scroll &lt;n&gt; lines up</span></div>
<div class="line"><span class="lineno">  373</span>                term.scrollUp(arg0 ? arg0 : 1);</div>
<div class="line"><span class="lineno">  374</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  375</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;T&#39;</span>: <span class="comment">// SD -- Scroll &lt;n&gt; line down</span></div>
<div class="line"><span class="lineno">  376</span>                term.scrollDown(arg0 ? arg0 : 1);</div>
<div class="line"><span class="lineno">  377</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  378</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;L&#39;</span>: <span class="comment">// IL -- Insert &lt;n&gt; blank lines</span></div>
<div class="line"><span class="lineno">  379</span>                term.insertBlankLinesBelowCursor(arg0 ? arg0 : 1);</div>
<div class="line"><span class="lineno">  380</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  381</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;l&#39;</span>: <span class="comment">// RM -- Reset Mode</span></div>
<div class="line"><span class="lineno">  382</span>                <a class="code hl_function" href="structnst_1_1CSIEscape.html#a9a35d34880ac42a593ea9191ba5c5c72">setModeGeneric</a>(<span class="comment">/*enabled=*/</span><span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  383</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  384</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;M&#39;</span>: <span class="comment">// DL -- Delete &lt;n&gt; lines</span></div>
<div class="line"><span class="lineno">  385</span>                term.deleteLinesBelowCursor(arg0 ? arg0 : 1);</div>
<div class="line"><span class="lineno">  386</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  387</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>: <span class="comment">// ECH -- Erase &lt;n&gt; char</span></div>
<div class="line"><span class="lineno">  388</span>                term.clearRegion({curpos, curpos.nextCol(arg0 ? arg0 - 1 : 0)});</div>
<div class="line"><span class="lineno">  389</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  390</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;P&#39;</span>: <span class="comment">// DCH -- Delete &lt;n&gt; char (backspace like, remaining cols are shifted left)</span></div>
<div class="line"><span class="lineno">  391</span>                term.deleteColsAfterCursor(arg0 ? arg0 : 1);</div>
<div class="line"><span class="lineno">  392</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  393</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;Z&#39;</span>: <span class="comment">// CBT -- Cursor Backward Tabulation &lt;n&gt; tab stops</span></div>
<div class="line"><span class="lineno">  394</span>                term.moveToPrevTab(arg0 ? arg0 : 1);</div>
<div class="line"><span class="lineno">  395</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  396</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>: <span class="comment">// VPA -- Move to &lt;row&gt;</span></div>
<div class="line"><span class="lineno">  397</span>                term.moveCursorAbsTo({curpos.x, arg0 ? arg0 - 1 : 0});</div>
<div class="line"><span class="lineno">  398</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  399</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;h&#39;</span>: <span class="comment">// SM -- Set terminal mode</span></div>
<div class="line"><span class="lineno">  400</span>                <a class="code hl_function" href="structnst_1_1CSIEscape.html#a9a35d34880ac42a593ea9191ba5c5c72">setModeGeneric</a>(<span class="comment">/*enabled=*/</span><span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  401</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  402</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;m&#39;</span>: <span class="comment">// SGR -- Terminal attribute (color)</span></div>
<div class="line"><span class="lineno">  403</span>                <span class="keywordflow">if</span> (!<a class="code hl_function" href="structnst_1_1CSIEscape.html#aab2c03fecad6863e0d45b25ca5694af8">setCursorAttrs</a>()) {</div>
<div class="line"><span class="lineno">  404</span>                        <a class="code hl_function" href="structnst_1_1CSIEscape.html#a398e425464390446745cf1a7f0fa3069">dump</a>(<span class="stringliteral">&quot;failed to set cursor attrs&quot;</span>);</div>
<div class="line"><span class="lineno">  405</span>                }</div>
<div class="line"><span class="lineno">  406</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  407</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;n&#39;</span>: <span class="comment">// DSR  VT100 Device Status Report</span></div>
<div class="line"><span class="lineno">  408</span>                <span class="keywordflow">switch</span>(arg0) {</div>
<div class="line"><span class="lineno">  409</span>                        <span class="keywordflow">case</span> 5: { <span class="comment">// status report &quot;OK&quot; &quot;0n&quot;</span></div>
<div class="line"><span class="lineno">  410</span>                                <span class="keyword">constexpr</span> std::string_view OK{<span class="stringliteral">&quot;\033[0n&quot;</span>};</div>
<div class="line"><span class="lineno">  411</span>                                m_nst.tty().<a class="code hl_function" href="classnst_1_1TTY.html#a8be1c9ffd638c22516037c687a6504be">write</a>(OK, TTY::MayEcho{<span class="keyword">false</span>});</div>
<div class="line"><span class="lineno">  412</span>                                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  413</span>                        }</div>
<div class="line"><span class="lineno">  414</span>                        <span class="keywordflow">case</span> 6: { <span class="comment">// report cursor position (CPR) &quot;&lt;row&gt;;&lt;column&gt;R&quot;</span></div>
<div class="line"><span class="lineno">  415</span>                                <span class="keyword">auto</span> buf = cosmos::sprintf(<span class="stringliteral">&quot;\033[%i;%iR&quot;</span>, curpos.y + 1, curpos.x + 1);</div>
<div class="line"><span class="lineno">  416</span>                                m_nst.tty().<a class="code hl_function" href="classnst_1_1TTY.html#a8be1c9ffd638c22516037c687a6504be">write</a>(buf, TTY::MayEcho{<span class="keyword">false</span>});</div>
<div class="line"><span class="lineno">  417</span>                                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  418</span>                        }</div>
<div class="line"><span class="lineno">  419</span>                }</div>
<div class="line"><span class="lineno">  420</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  421</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;r&#39;</span>: <span class="comment">// DECSTBM -- Set Scrolling Region</span></div>
<div class="line"><span class="lineno">  422</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="structnst_1_1CSIEscape.html#a0adbfd5b61290b816c7ad71f30227527">m_is_private_csi</a>) {</div>
<div class="line"><span class="lineno">  423</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  424</span>                } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  425</span>                        <span class="keyword">const</span> <span class="keyword">auto</span> start_row = arg0 ? arg0 : 1;</div>
<div class="line"><span class="lineno">  426</span>                        <span class="keyword">const</span> <span class="keyword">auto</span> end_row = <a class="code hl_function" href="structnst_1_1CSIEscape.html#adedc4bb199311989552a31d0c4a9cc22">ensureArg</a>(1, term.numRows());</div>
<div class="line"><span class="lineno">  427</span>                        term.setScrollArea(LineSpan{start_row - 1, end_row - 1});</div>
<div class="line"><span class="lineno">  428</span>                        term.moveCursorAbsTo({0, 0});</div>
<div class="line"><span class="lineno">  429</span>                }</div>
<div class="line"><span class="lineno">  430</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  431</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>: <span class="comment">// DECSC -- Save cursor position (ANSI.SYS)</span></div>
<div class="line"><span class="lineno">  432</span>                term.cursorControl(<a class="code hl_enumvalue" href="structnst_1_1CursorState.html#ae83b06cfdb52afae515721e63993f9a3af5cf47ab06d0d98b0d16d10c82d87953">CursorState::Control::SAVE</a>);</div>
<div class="line"><span class="lineno">  433</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  434</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;u&#39;</span>: <span class="comment">// DECRC -- Restore cursor position (ANSI.SYS)</span></div>
<div class="line"><span class="lineno">  435</span>                term.cursorControl(<a class="code hl_enumvalue" href="structnst_1_1CursorState.html#ae83b06cfdb52afae515721e63993f9a3a615d2885ef7576cedd9aafbb2578f028">CursorState::Control::LOAD</a>);</div>
<div class="line"><span class="lineno">  436</span>                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  437</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39; &#39;</span>:</div>
<div class="line"><span class="lineno">  438</span>                <span class="comment">// this comes with an intermediate character</span></div>
<div class="line"><span class="lineno">  439</span>                <span class="keywordflow">if</span> (<a class="code hl_variable" href="structnst_1_1CSIEscape.html#a4bf749997b8e38181673e1fe9b78ed05">m_mode_suffix</a>.size() &lt; 2)</div>
<div class="line"><span class="lineno">  440</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>                <span class="keywordflow">switch</span> (<a class="code hl_variable" href="structnst_1_1CSIEscape.html#a4bf749997b8e38181673e1fe9b78ed05">m_mode_suffix</a>[1]) {</div>
<div class="line"><span class="lineno">  443</span>                <span class="keywordflow">case</span> <span class="charliteral">&#39;q&#39;</span>: <span class="comment">// DECSCUSR -- Set Cursor Style</span></div>
<div class="line"><span class="lineno">  444</span>                        <span class="keywordflow">if</span> (arg0 &lt; 0 || <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(arg0) &gt;= <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span><span class="keyword">&gt;</span>(CursorStyle::END))</div>
<div class="line"><span class="lineno">  445</span>                                <span class="comment">// cursor style out of range</span></div>
<div class="line"><span class="lineno">  446</span>                                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  447</span>                        m_nst.wsys().setCursorStyle(CursorStyle{arg0});</div>
<div class="line"><span class="lineno">  448</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  449</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  450</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  451</span>                }</div>
<div class="line"><span class="lineno">  452</span>                <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  453</span>        <span class="keywordflow">case</span> <span class="charliteral">&#39;t&#39;</span>: { <span class="comment">// title stack operations</span></div>
<div class="line"><span class="lineno">  454</span>                <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  455</span><span class="comment">                 * 0 = icon and window title</span></div>
<div class="line"><span class="lineno">  456</span><span class="comment">                 * 1 = icon title only</span></div>
<div class="line"><span class="lineno">  457</span><span class="comment">                 * 2 = window title only</span></div>
<div class="line"><span class="lineno">  458</span><span class="comment">                 *</span></div>
<div class="line"><span class="lineno">  459</span><span class="comment">                 * we currently only support the window title.</span></div>
<div class="line"><span class="lineno">  460</span><span class="comment">                 */</span></div>
<div class="line"><span class="lineno">  461</span>                <span class="keyword">const</span> <span class="keyword">auto</span> which = <a class="code hl_function" href="structnst_1_1CSIEscape.html#adedc4bb199311989552a31d0c4a9cc22">ensureArg</a>(1, 0);</div>
<div class="line"><span class="lineno">  462</span> </div>
<div class="line"><span class="lineno">  463</span>                <span class="keywordflow">if</span> (!cosmos::in_range(which, 0, 2))</div>
<div class="line"><span class="lineno">  464</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  465</span>                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (which == 1)</div>
<div class="line"><span class="lineno">  466</span>                        <span class="comment">// do nothing for icon title</span></div>
<div class="line"><span class="lineno">  467</span>                        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  468</span> </div>
<div class="line"><span class="lineno">  469</span>                <span class="keyword">auto</span> &amp;wsys = m_nst.wsys();</div>
<div class="line"><span class="lineno">  470</span> </div>
<div class="line"><span class="lineno">  471</span>                <span class="keywordflow">switch</span>(arg0) {</div>
<div class="line"><span class="lineno">  472</span>                        <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  473</span>                        <span class="keywordflow">case</span> 22: <span class="comment">// push current title on stack</span></div>
<div class="line"><span class="lineno">  474</span>                                wsys.<a class="code hl_function" href="classnst_1_1WindowSystem.html#a2914d6c9ba256831a87fa5e3932a88ac">pushTitle</a>();</div>
<div class="line"><span class="lineno">  475</span>                                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  476</span>                        <span class="keywordflow">case</span> 23: <span class="comment">// pop last title from stack</span></div>
<div class="line"><span class="lineno">  477</span>                                wsys.popTitle();</div>
<div class="line"><span class="lineno">  478</span>                                <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  479</span>                }</div>
<div class="line"><span class="lineno">  480</span>        }</div>
<div class="line"><span class="lineno">  481</span>        } <span class="comment">// end outer switch</span></div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span>        <a class="code hl_function" href="structnst_1_1CSIEscape.html#a398e425464390446745cf1a7f0fa3069">dump</a>(<span class="stringliteral">&quot;erresc: unknown csi&quot;</span>);</div>
<div class="line"><span class="lineno">  484</span>}</div>
<div class="ttc" id="aclassnst_1_1Selection_html_aa47b683a3b3cd2e6aac493c6f7c02cf9"><div class="ttname"><a href="classnst_1_1Selection.html#aa47b683a3b3cd2e6aac493c6f7c02cf9">nst::Selection::dump</a></div><div class="ttdeci">void dump() const</div><div class="ttdoc">Dump current selection into the I/O file.</div><div class="ttdef"><b>Definition</b> <a href="Selection_8cxx_source.html#l00568">Selection.cxx:568</a></div></div>
<div class="ttc" id="aclassnst_1_1TTY_html_a8be1c9ffd638c22516037c687a6504be"><div class="ttname"><a href="classnst_1_1TTY.html#a8be1c9ffd638c22516037c687a6504be">nst::TTY::write</a></div><div class="ttdeci">void write(const std::string_view sv, const MayEcho echo)</div><div class="ttdoc">Provide input to the child process e.g. character input from key presses.</div><div class="ttdef"><b>Definition</b> <a href="TTY_8cxx_source.html#l00183">TTY.cxx:183</a></div></div>
<div class="ttc" id="aclassnst_1_1Term_html_a377549ea92e53edad0e0080a308e9a1f"><div class="ttname"><a href="classnst_1_1Term.html#a377549ea92e53edad0e0080a308e9a1f">nst::Term::cursor</a></div><div class="ttdeci">const CursorState &amp; cursor() const</div><div class="ttdoc">Returns the current cursor state of the terminal.</div><div class="ttdef"><b>Definition</b> <a href="Term_8hxx_source.html#l00356">Term.hxx:356</a></div></div>
<div class="ttc" id="aclassnst_1_1WindowSystem_html_a2914d6c9ba256831a87fa5e3932a88ac"><div class="ttname"><a href="classnst_1_1WindowSystem.html#a2914d6c9ba256831a87fa5e3932a88ac">nst::WindowSystem::pushTitle</a></div><div class="ttdeci">void pushTitle()</div><div class="ttdoc">Push the current window title on the title stack for later restore via popTitle().</div><div class="ttdef"><b>Definition</b> <a href="WindowSystem_8cxx_source.html#l00694">WindowSystem.cxx:694</a></div></div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_a398e425464390446745cf1a7f0fa3069"><div class="ttname"><a href="structnst_1_1CSIEscape.html#a398e425464390446745cf1a7f0fa3069">nst::CSIEscape::dump</a></div><div class="ttdeci">void dump(const std::string_view prefix) const</div><div class="ttdoc">Dumps the current sequence to stderr prefixed by prefix.</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8cxx_source.html#l00090">CSIEscape.cxx:90</a></div></div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_a9a35d34880ac42a593ea9191ba5c5c72"><div class="ttname"><a href="structnst_1_1CSIEscape.html#a9a35d34880ac42a593ea9191ba5c5c72">nst::CSIEscape::setModeGeneric</a></div><div class="ttdeci">void setModeGeneric(const bool enable)</div><div class="ttdoc">Calls setMode() or setPrivateMode() depending on current context.</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8cxx_source.html#l00114">CSIEscape.cxx:114</a></div></div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_aab2c03fecad6863e0d45b25ca5694af8"><div class="ttname"><a href="structnst_1_1CSIEscape.html#aab2c03fecad6863e0d45b25ca5694af8">nst::CSIEscape::setCursorAttrs</a></div><div class="ttdeci">bool setCursorAttrs() const</div><div class="ttdoc">Extended parsing of a cursor attribute change request.</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8cxx_source.html#l00486">CSIEscape.cxx:486</a></div></div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_adedc4bb199311989552a31d0c4a9cc22"><div class="ttname"><a href="structnst_1_1CSIEscape.html#adedc4bb199311989552a31d0c4a9cc22">nst::CSIEscape::ensureArg</a></div><div class="ttdeci">int ensureArg(size_t index, int defval)</div><div class="ttdoc">Makes sure the given argument index exists in m_args, possibly assigning defval.</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8cxx_source.html#l00025">CSIEscape.cxx:25</a></div></div>
<div class="ttc" id="astructnst_1_1CursorState_html_ae83b06cfdb52afae515721e63993f9a3a615d2885ef7576cedd9aafbb2578f028"><div class="ttname"><a href="structnst_1_1CursorState.html#ae83b06cfdb52afae515721e63993f9a3a615d2885ef7576cedd9aafbb2578f028">nst::CursorState::Control::LOAD</a></div><div class="ttdeci">@ LOAD</div><div class="ttdoc">restore previously saved cursor position</div></div>
<div class="ttc" id="astructnst_1_1CursorState_html_ae83b06cfdb52afae515721e63993f9a3af5cf47ab06d0d98b0d16d10c82d87953"><div class="ttname"><a href="structnst_1_1CursorState.html#ae83b06cfdb52afae515721e63993f9a3af5cf47ab06d0d98b0d16d10c82d87953">nst::CursorState::Control::SAVE</a></div><div class="ttdeci">@ SAVE</div><div class="ttdoc">save current cursor position</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="adb6a9638b73c2097e8d70a1ab55da0cd" name="adb6a9638b73c2097e8d70a1ab55da0cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb6a9638b73c2097e8d70a1ab55da0cd">&#9670;&#160;</a></span>reportFocus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nst::CSIEscape::reportFocus </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>in_focus</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>If focus reporting was enabled, report focus state change on <a class="el" href="classnst_1_1TTY.html" title="(Pseudo) Terminal I/O.">TTY</a>. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8cxx_source.html#l00660">660</a> of file <a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  660</span>                                               {</div>
<div class="line"><span class="lineno">  661</span>        <span class="keyword">auto</span> &amp;tty = m_nst.tty();</div>
<div class="line"><span class="lineno">  662</span>        <span class="keywordflow">if</span> (in_focus)</div>
<div class="line"><span class="lineno">  663</span>                tty.<a class="code hl_function" href="classnst_1_1TTY.html#a8be1c9ffd638c22516037c687a6504be">write</a>(<span class="stringliteral">&quot;\033[I&quot;</span>, TTY::MayEcho{<span class="keyword">false</span>});</div>
<div class="line"><span class="lineno">  664</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  665</span>                tty.write(<span class="stringliteral">&quot;\033[O&quot;</span>, TTY::MayEcho{<span class="keyword">false</span>});</div>
<div class="line"><span class="lineno">  666</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a227e3f762287dcb728fc18e6e76c25c7" name="a227e3f762287dcb728fc18e6e76c25c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a227e3f762287dcb728fc18e6e76c25c7">&#9670;&#160;</a></span>reportPaste()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void nst::CSIEscape::reportPaste </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>started</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Report a paste start/end action on <a class="el" href="classnst_1_1TTY.html" title="(Pseudo) Terminal I/O.">TTY</a> level. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8cxx_source.html#l00668">668</a> of file <a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  668</span>                                              {</div>
<div class="line"><span class="lineno">  669</span>        <span class="comment">// this is the result of the BRKT_PASTE mode also enabled via escape</span></div>
<div class="line"><span class="lineno">  670</span>        <span class="comment">// sequences</span></div>
<div class="line"><span class="lineno">  671</span>        <span class="keyword">auto</span> &amp;tty = m_nst.tty();</div>
<div class="line"><span class="lineno">  672</span>        <span class="keywordflow">if</span> (started)</div>
<div class="line"><span class="lineno">  673</span>                tty.<a class="code hl_function" href="classnst_1_1TTY.html#a8be1c9ffd638c22516037c687a6504be">write</a>(<span class="stringliteral">&quot;\033[200~&quot;</span>, TTY::MayEcho{<span class="keyword">false</span>});</div>
<div class="line"><span class="lineno">  674</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  675</span>                tty.write(<span class="stringliteral">&quot;\033[201~&quot;</span>, TTY::MayEcho{<span class="keyword">false</span>});</div>
<div class="line"><span class="lineno">  676</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a9ce6ff02ba8cfdbd2ba4cce1335def81" name="a9ce6ff02ba8cfdbd2ba4cce1335def81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ce6ff02ba8cfdbd2ba4cce1335def81">&#9670;&#160;</a></span>reset()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::CSIEscape::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Resets all parsing state and data. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8hxx_source.html#l00046">46</a> of file <a class="el" href="CSIEscape_8hxx_source.html">CSIEscape.hxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span>                     {</div>
<div class="line"><span class="lineno">   47</span>                <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a0adbfd5b61290b816c7ad71f30227527">m_is_private_csi</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   48</span>                <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a4bf749997b8e38181673e1fe9b78ed05">m_mode_suffix</a>.clear();</div>
<div class="line"><span class="lineno">   49</span>                <a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>.clear();</div>
<div class="line"><span class="lineno">   50</span>                <a class="code hl_variable" href="structnst_1_1CSIEscape.html#a2e6a69e407b6f415812c87983ec13815">m_str</a>.clear();</div>
<div class="line"><span class="lineno">   51</span>        }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aab2c03fecad6863e0d45b25ca5694af8" name="aab2c03fecad6863e0d45b25ca5694af8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab2c03fecad6863e0d45b25ca5694af8">&#9670;&#160;</a></span>setCursorAttrs()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::CSIEscape::setCursorAttrs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Extended parsing of a cursor attribute change request. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8cxx_source.html#l00486">486</a> of file <a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  486</span>                                     {</div>
<div class="line"><span class="lineno">  487</span>        <span class="keywordtype">bool</span> ret = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  488</span>        <span class="keyword">auto</span> &amp;term = m_nst.term();</div>
<div class="line"><span class="lineno">  489</span>        <span class="keyword">auto</span> &amp;theme = m_nst.theme();</div>
<div class="line"><span class="lineno">  490</span> </div>
<div class="line"><span class="lineno">  491</span>        <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = <a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>.begin(); it &lt; <a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>.end(); it++) {</div>
<div class="line"><span class="lineno">  492</span>                <span class="keyword">const</span> <span class="keyword">auto</span> attr = *it;</div>
<div class="line"><span class="lineno">  493</span>                <span class="keywordflow">switch</span> (attr) {</div>
<div class="line"><span class="lineno">  494</span>                <span class="keywordflow">case</span> 0:</div>
<div class="line"><span class="lineno">  495</span>                        term.resetCursorAttrs();</div>
<div class="line"><span class="lineno">  496</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  497</span>                <span class="keywordflow">case</span> 1:</div>
<div class="line"><span class="lineno">  498</span>                        term.setCursorAttr(Attr::BOLD);</div>
<div class="line"><span class="lineno">  499</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  500</span>                <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno">  501</span>                        term.setCursorAttr(Attr::FAINT);</div>
<div class="line"><span class="lineno">  502</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  503</span>                <span class="keywordflow">case</span> 3:</div>
<div class="line"><span class="lineno">  504</span>                        term.setCursorAttr(Attr::ITALIC);</div>
<div class="line"><span class="lineno">  505</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  506</span>                <span class="keywordflow">case</span> 4:</div>
<div class="line"><span class="lineno">  507</span>                        term.setCursorAttr(Attr::UNDERLINE);</div>
<div class="line"><span class="lineno">  508</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  509</span>                <span class="keywordflow">case</span> 5: <span class="comment">// slow blink</span></div>
<div class="line"><span class="lineno">  510</span>                        <span class="comment">/* FALLTHROUGH */</span></div>
<div class="line"><span class="lineno">  511</span>                <span class="keywordflow">case</span> 6: <span class="comment">// rapid blink</span></div>
<div class="line"><span class="lineno">  512</span>                        term.setCursorAttr(Attr::BLINK);</div>
<div class="line"><span class="lineno">  513</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  514</span>                <span class="keywordflow">case</span> 7:</div>
<div class="line"><span class="lineno">  515</span>                        term.setCursorAttr(Attr::REVERSE);</div>
<div class="line"><span class="lineno">  516</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  517</span>                <span class="keywordflow">case</span> 8:</div>
<div class="line"><span class="lineno">  518</span>                        term.setCursorAttr(Attr::INVISIBLE);</div>
<div class="line"><span class="lineno">  519</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  520</span>                <span class="keywordflow">case</span> 9:</div>
<div class="line"><span class="lineno">  521</span>                        term.setCursorAttr(Attr::STRUCK);</div>
<div class="line"><span class="lineno">  522</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  523</span>                <span class="keywordflow">case</span> 22:</div>
<div class="line"><span class="lineno">  524</span>                        term.resetCursorAttr(Attr::BOLD);</div>
<div class="line"><span class="lineno">  525</span>                        term.resetCursorAttr(Attr::FAINT);</div>
<div class="line"><span class="lineno">  526</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  527</span>                <span class="keywordflow">case</span> 23:</div>
<div class="line"><span class="lineno">  528</span>                        term.resetCursorAttr(Attr::ITALIC);</div>
<div class="line"><span class="lineno">  529</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  530</span>                <span class="keywordflow">case</span> 24:</div>
<div class="line"><span class="lineno">  531</span>                        term.resetCursorAttr(Attr::UNDERLINE);</div>
<div class="line"><span class="lineno">  532</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  533</span>                <span class="keywordflow">case</span> 25:</div>
<div class="line"><span class="lineno">  534</span>                        term.resetCursorAttr(Attr::BLINK);</div>
<div class="line"><span class="lineno">  535</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  536</span>                <span class="keywordflow">case</span> 27:</div>
<div class="line"><span class="lineno">  537</span>                        term.resetCursorAttr(Attr::REVERSE);</div>
<div class="line"><span class="lineno">  538</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  539</span>                <span class="keywordflow">case</span> 28:</div>
<div class="line"><span class="lineno">  540</span>                        term.resetCursorAttr(Attr::INVISIBLE);</div>
<div class="line"><span class="lineno">  541</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  542</span>                <span class="keywordflow">case</span> 29:</div>
<div class="line"><span class="lineno">  543</span>                        term.resetCursorAttr(Attr::STRUCK);</div>
<div class="line"><span class="lineno">  544</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  545</span>                <span class="keywordflow">case</span> 38: {</div>
<div class="line"><span class="lineno">  546</span>                        <span class="keywordflow">if</span> (<span class="keyword">auto</span> colidx = <a class="code hl_function" href="structnst_1_1CSIEscape.html#af5bedce2b1d98ad6c03e1cc4459a5e69">parseColor</a>(++it); colidx != ColorIndex::INVALID)</div>
<div class="line"><span class="lineno">  547</span>                                term.setCursorFgColor(colidx);</div>
<div class="line"><span class="lineno">  548</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  549</span>                }</div>
<div class="line"><span class="lineno">  550</span>                <span class="keywordflow">case</span> 39:</div>
<div class="line"><span class="lineno">  551</span>                        term.setCursorFgColor(theme.fg);</div>
<div class="line"><span class="lineno">  552</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  553</span>                <span class="keywordflow">case</span> 48: {</div>
<div class="line"><span class="lineno">  554</span>                        <span class="keywordflow">if</span> (<span class="keyword">auto</span> colidx = <a class="code hl_function" href="structnst_1_1CSIEscape.html#af5bedce2b1d98ad6c03e1cc4459a5e69">parseColor</a>(++it); colidx != ColorIndex::INVALID)</div>
<div class="line"><span class="lineno">  555</span>                                term.setCursorBgColor(colidx);</div>
<div class="line"><span class="lineno">  556</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  557</span>                }</div>
<div class="line"><span class="lineno">  558</span>                <span class="keywordflow">case</span> 49:</div>
<div class="line"><span class="lineno">  559</span>                        term.setCursorBgColor(theme.bg);</div>
<div class="line"><span class="lineno">  560</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  561</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  562</span>                        <span class="keywordflow">if</span> (!<a class="code hl_function" href="structnst_1_1CSIEscape.html#ab8ad4bccfbdd2aad32b34233e81cec33">handleCursorColorSet</a>(attr)) {</div>
<div class="line"><span class="lineno">  563</span>                                m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().error() &lt;&lt; <span class="stringliteral">&quot;erresc(default): gfx attr &quot;</span> &lt;&lt; attr &lt;&lt; <span class="stringliteral">&quot; unknown\n&quot;</span>,</div>
<div class="line"><span class="lineno">  564</span>                                ret = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  565</span>                        }</div>
<div class="line"><span class="lineno">  566</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  567</span>                } <span class="comment">// end switch</span></div>
<div class="line"><span class="lineno">  568</span>        }</div>
<div class="line"><span class="lineno">  569</span> </div>
<div class="line"><span class="lineno">  570</span>        <span class="keywordflow">return</span> ret;</div>
<div class="line"><span class="lineno">  571</span>}</div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_ab8ad4bccfbdd2aad32b34233e81cec33"><div class="ttname"><a href="structnst_1_1CSIEscape.html#ab8ad4bccfbdd2aad32b34233e81cec33">nst::CSIEscape::handleCursorColorSet</a></div><div class="ttdeci">bool handleCursorColorSet(const int attr) const</div><div class="ttdoc">Handle fb/bg cursor color settings from dim/bright color ranges.</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8cxx_source.html#l00573">CSIEscape.cxx:573</a></div></div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_af5bedce2b1d98ad6c03e1cc4459a5e69"><div class="ttname"><a href="structnst_1_1CSIEscape.html#af5bedce2b1d98ad6c03e1cc4459a5e69">nst::CSIEscape::parseColor</a></div><div class="ttdeci">ColorIndex parseColor(std::vector&lt; int &gt;::const_iterator &amp;it) const</div><div class="ttdoc">Parses a color specification from the input args.</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8cxx_source.html#l00602">CSIEscape.cxx:602</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="af71d09595d2de5115eb79f952e4a9c67" name="af71d09595d2de5115eb79f952e4a9c67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af71d09595d2de5115eb79f952e4a9c67">&#9670;&#160;</a></span>setMode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::CSIEscape::setMode </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>set</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process a "set terminal mode" request. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8cxx_source.html#l00122">122</a> of file <a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  122</span>                                      {</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>        <span class="keyword">auto</span> &amp;term = m_nst.term();</div>
<div class="line"><span class="lineno">  125</span> </div>
<div class="line"><span class="lineno">  126</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> arg: <a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>) {</div>
<div class="line"><span class="lineno">  127</span>                <span class="keywordflow">switch</span> (arg) {</div>
<div class="line"><span class="lineno">  128</span>                <span class="keywordflow">case</span> 0:  <span class="comment">// Error (IGNORED)</span></div>
<div class="line"><span class="lineno">  129</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  130</span>                <span class="keywordflow">case</span> 2:</div>
<div class="line"><span class="lineno">  131</span>                        m_nst.wsys().<a class="code hl_function" href="classnst_1_1WindowSystem.html#a16d0760c42b7df4926460803a78640f8">setMode</a>(WinMode::KBDLOCK, set);</div>
<div class="line"><span class="lineno">  132</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  133</span>                <span class="keywordflow">case</span> 4:  <span class="comment">// IRM -- Insertion-replacement</span></div>
<div class="line"><span class="lineno">  134</span>                        term.setInsertMode(set);</div>
<div class="line"><span class="lineno">  135</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  136</span>                <span class="keywordflow">case</span> 12: <span class="comment">// SRM -- Send/Receive</span></div>
<div class="line"><span class="lineno">  137</span>                        term.setEcho(!set);</div>
<div class="line"><span class="lineno">  138</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  139</span>                <span class="keywordflow">case</span> 20: <span class="comment">// LNM -- Linefeed/new line</span></div>
<div class="line"><span class="lineno">  140</span>                        term.setCarriageReturn(set);</div>
<div class="line"><span class="lineno">  141</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  142</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  143</span>                        m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().error() &lt;&lt; <span class="stringliteral">&quot;erresc: unknown set/reset mode &quot;</span> &lt;&lt; arg &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  144</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  145</span>                }</div>
<div class="line"><span class="lineno">  146</span>        }</div>
<div class="line"><span class="lineno">  147</span>}</div>
<div class="ttc" id="aclassnst_1_1WindowSystem_html_a16d0760c42b7df4926460803a78640f8"><div class="ttname"><a href="classnst_1_1WindowSystem.html#a16d0760c42b7df4926460803a78640f8">nst::WindowSystem::setMode</a></div><div class="ttdeci">void setMode(const WinMode flag, const bool set)</div><div class="ttdoc">Change the given WinMode setting.</div><div class="ttdef"><b>Definition</b> <a href="WindowSystem_8cxx_source.html#l00730">WindowSystem.cxx:730</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9a35d34880ac42a593ea9191ba5c5c72" name="a9a35d34880ac42a593ea9191ba5c5c72"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a35d34880ac42a593ea9191ba5c5c72">&#9670;&#160;</a></span>setModeGeneric()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::CSIEscape::setModeGeneric </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>enable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Calls <a class="el" href="structnst_1_1CSIEscape.html#af71d09595d2de5115eb79f952e4a9c67" title="Process a &quot;set terminal mode&quot; request.">setMode()</a> or <a class="el" href="structnst_1_1CSIEscape.html#a2c1c508655cc6ff0ac84d1b030b9ba88" title="Process a private &quot;set terminal mode&quot; request.">setPrivateMode()</a> depending on current context. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8cxx_source.html#l00114">114</a> of file <a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  114</span>                                                {</div>
<div class="line"><span class="lineno">  115</span>        <span class="keywordflow">if</span> (<a class="code hl_variable" href="structnst_1_1CSIEscape.html#a0adbfd5b61290b816c7ad71f30227527">m_is_private_csi</a>) {</div>
<div class="line"><span class="lineno">  116</span>                <a class="code hl_function" href="structnst_1_1CSIEscape.html#a2c1c508655cc6ff0ac84d1b030b9ba88">setPrivateMode</a>(enable);</div>
<div class="line"><span class="lineno">  117</span>        } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  118</span>                <a class="code hl_function" href="structnst_1_1CSIEscape.html#af71d09595d2de5115eb79f952e4a9c67">setMode</a>(enable);</div>
<div class="line"><span class="lineno">  119</span>        }</div>
<div class="line"><span class="lineno">  120</span>}</div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_a2c1c508655cc6ff0ac84d1b030b9ba88"><div class="ttname"><a href="structnst_1_1CSIEscape.html#a2c1c508655cc6ff0ac84d1b030b9ba88">nst::CSIEscape::setPrivateMode</a></div><div class="ttdeci">void setPrivateMode(const bool set)</div><div class="ttdoc">Process a private &quot;set terminal mode&quot; request.</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8cxx_source.html#l00149">CSIEscape.cxx:149</a></div></div>
<div class="ttc" id="astructnst_1_1CSIEscape_html_af71d09595d2de5115eb79f952e4a9c67"><div class="ttname"><a href="structnst_1_1CSIEscape.html#af71d09595d2de5115eb79f952e4a9c67">nst::CSIEscape::setMode</a></div><div class="ttdeci">void setMode(const bool set)</div><div class="ttdoc">Process a &quot;set terminal mode&quot; request.</div><div class="ttdef"><b>Definition</b> <a href="CSIEscape_8cxx_source.html#l00122">CSIEscape.cxx:122</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c1c508655cc6ff0ac84d1b030b9ba88" name="a2c1c508655cc6ff0ac84d1b030b9ba88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c1c508655cc6ff0ac84d1b030b9ba88">&#9670;&#160;</a></span>setPrivateMode()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void nst::CSIEscape::setPrivateMode </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>set</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Process a private "set terminal mode" request. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8cxx_source.html#l00149">149</a> of file <a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  149</span>                                             {</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>        <span class="keyword">auto</span> &amp;wsys = m_nst.wsys();</div>
<div class="line"><span class="lineno">  152</span>        <span class="keyword">auto</span> &amp;term = m_nst.term();</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> arg: <a class="code hl_variable" href="structnst_1_1CSIEscape.html#adb271d0524514cdcaa4a0cbeda5d8a8a">m_args</a>) {</div>
<div class="line"><span class="lineno">  155</span>                <span class="keywordflow">switch</span> (arg) {</div>
<div class="line"><span class="lineno">  156</span>                <span class="keywordflow">case</span> 1: <span class="comment">// DECCKM -- Cursor key</span></div>
<div class="line"><span class="lineno">  157</span>                        wsys.setMode(WinMode::APPCURSOR, set);</div>
<div class="line"><span class="lineno">  158</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  159</span>                <span class="keywordflow">case</span> 5: <span class="comment">// DECSCNM -- Reverse video</span></div>
<div class="line"><span class="lineno">  160</span>                        wsys.setMode(WinMode::REVERSE, set);</div>
<div class="line"><span class="lineno">  161</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  162</span>                <span class="keywordflow">case</span> 6: <span class="comment">// DECOM -- Origin</span></div>
<div class="line"><span class="lineno">  163</span>                        term.setCursorOriginMode(set);</div>
<div class="line"><span class="lineno">  164</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  165</span>                <span class="keywordflow">case</span> 7: <span class="comment">// DECAWM -- Auto wrap</span></div>
<div class="line"><span class="lineno">  166</span>                        term.setAutoWrap(set);</div>
<div class="line"><span class="lineno">  167</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  168</span>                <span class="keywordflow">case</span> 0:  <span class="comment">// Error (IGNORED)</span></div>
<div class="line"><span class="lineno">  169</span>                <span class="keywordflow">case</span> 2:  <span class="comment">// DECANM -- ANSI/VT52 (IGNORED)</span></div>
<div class="line"><span class="lineno">  170</span>                <span class="keywordflow">case</span> 3:  <span class="comment">// DECCOLM -- Column  (IGNORED)</span></div>
<div class="line"><span class="lineno">  171</span>                <span class="keywordflow">case</span> 4:  <span class="comment">// DECSCLM -- Scroll (IGNORED)</span></div>
<div class="line"><span class="lineno">  172</span>                <span class="keywordflow">case</span> 8:  <span class="comment">// DECARM -- Auto repeat (IGNORED)</span></div>
<div class="line"><span class="lineno">  173</span>                <span class="keywordflow">case</span> 18: <span class="comment">// DECPFF -- Printer feed (IGNORED)</span></div>
<div class="line"><span class="lineno">  174</span>                <span class="keywordflow">case</span> 19: <span class="comment">// DECPEX -- Printer extent (IGNORED)</span></div>
<div class="line"><span class="lineno">  175</span>                <span class="keywordflow">case</span> 42: <span class="comment">// DECNRCM -- National characters (IGNORED)</span></div>
<div class="line"><span class="lineno">  176</span>                <span class="keywordflow">case</span> 12: <span class="comment">// att610 -- Start blinking cursor (IGNORED)</span></div>
<div class="line"><span class="lineno">  177</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  178</span>                <span class="keywordflow">case</span> 25: <span class="comment">// DECTCEM -- Text Cursor Enable Mode</span></div>
<div class="line"><span class="lineno">  179</span>                        wsys.setMode(WinMode::HIDE_CURSOR, !set);</div>
<div class="line"><span class="lineno">  180</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  181</span>                <span class="keywordflow">case</span> 9:  <span class="comment">// X10 mouse compatibility mode</span></div>
<div class="line"><span class="lineno">  182</span>                        wsys.setPointerMotion(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  183</span>                        wsys.setMode(WinMode::MOUSE, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  184</span>                        wsys.setMode(WinMode::MOUSEX10, set);</div>
<div class="line"><span class="lineno">  185</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  186</span>                <span class="keywordflow">case</span> 1000: <span class="comment">// report button press</span></div>
<div class="line"><span class="lineno">  187</span>                        wsys.setPointerMotion(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  188</span>                        wsys.setMode(WinMode::MOUSE, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  189</span>                        wsys.setMode(WinMode::MOUSEBTN, set);</div>
<div class="line"><span class="lineno">  190</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  191</span>                <span class="keywordflow">case</span> 1002: <span class="comment">// report motion on button press</span></div>
<div class="line"><span class="lineno">  192</span>                        wsys.setPointerMotion(<span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  193</span>                        wsys.setMode(WinMode::MOUSE, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  194</span>                        wsys.setMode(WinMode::MOUSEMOTION, set);</div>
<div class="line"><span class="lineno">  195</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  196</span>                <span class="keywordflow">case</span> 1003: <span class="comment">// enable all mouse motions</span></div>
<div class="line"><span class="lineno">  197</span>                        wsys.setPointerMotion(set);</div>
<div class="line"><span class="lineno">  198</span>                        wsys.setMode(WinMode::MOUSE, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  199</span>                        wsys.setMode(WinMode::MOUSEMANY, set);</div>
<div class="line"><span class="lineno">  200</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  201</span>                <span class="keywordflow">case</span> 1004: <span class="comment">// send focus events to TTY</span></div>
<div class="line"><span class="lineno">  202</span>                        wsys.setMode(WinMode::FOCUS, set);</div>
<div class="line"><span class="lineno">  203</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  204</span>                <span class="keywordflow">case</span> 1006: <span class="comment">// extended mouse reporting mode</span></div>
<div class="line"><span class="lineno">  205</span>                        wsys.setMode(WinMode::MOUSE_SGR, set);</div>
<div class="line"><span class="lineno">  206</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  207</span>                <span class="keywordflow">case</span> 1034: <span class="comment">// signify META key press by setting eighth bit on input</span></div>
<div class="line"><span class="lineno">  208</span>                        wsys.setMode(WinMode::EIGHT_BIT, set);</div>
<div class="line"><span class="lineno">  209</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  210</span>                        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  211</span><span class="comment">                         * the documentation for 47, 1047 and 1049 is not</span></div>
<div class="line"><span class="lineno">  212</span><span class="comment">                         * fully precise. Practical tests with current xterm</span></div>
<div class="line"><span class="lineno">  213</span><span class="comment">                         * yielded the results now implemented here.</span></div>
<div class="line"><span class="lineno">  214</span><span class="comment">                         */</span></div>
<div class="line"><span class="lineno">  215</span>                <span class="keywordflow">case</span> 1049: <span class="comment">// swap screen &amp; set/restore cursor as xterm</span></div>
<div class="line"><span class="lineno">  216</span>                        <span class="comment">/*</span></div>
<div class="line"><span class="lineno">  217</span><span class="comment">                         * - clear alt screen when switching to ALT, but not on return</span></div>
<div class="line"><span class="lineno">  218</span><span class="comment">                         * - save/restore cursor even if already on the target screen</span></div>
<div class="line"><span class="lineno">  219</span><span class="comment">                         */</span></div>
<div class="line"><span class="lineno">  220</span>                        <span class="comment">/* FALLTHROUGH */</span></div>
<div class="line"><span class="lineno">  221</span>                <span class="keywordflow">case</span> 47: <span class="comment">// swap screen (XTerm), don&#39;t clear alt screen</span></div>
<div class="line"><span class="lineno">  222</span>                        <span class="comment">/* FALLTHROUGH */</span></div>
<div class="line"><span class="lineno">  223</span>                <span class="keywordflow">case</span> 1047: <span class="comment">// like 47 but clear alt when leaving it</span></div>
<div class="line"><span class="lineno">  224</span>                        term.setAltScreen(set,</div>
<div class="line"><span class="lineno">  225</span>                                        <span class="comment">/*with_cursor=*/</span>arg == 1049,</div>
<div class="line"><span class="lineno">  226</span>                                        <span class="comment">/*clear_alt=*/</span>(arg == 1049 &amp;&amp; set) || (arg == 1047 &amp;&amp; !set));</div>
<div class="line"><span class="lineno">  227</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  228</span>                <span class="keywordflow">case</span> 1048: <span class="comment">// save/load cursor on current screen</span></div>
<div class="line"><span class="lineno">  229</span>                        term.cursorControl(set ? <a class="code hl_enumvalue" href="structnst_1_1CursorState.html#ae83b06cfdb52afae515721e63993f9a3af5cf47ab06d0d98b0d16d10c82d87953">CursorState::Control::SAVE</a> : CursorState::Control::LOAD);</div>
<div class="line"><span class="lineno">  230</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  231</span>                <span class="keywordflow">case</span> 2004: <span class="comment">// bracketed paste mode</span></div>
<div class="line"><span class="lineno">  232</span>                        wsys.setMode(WinMode::BRKT_PASTE, set);</div>
<div class="line"><span class="lineno">  233</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  234</span>                <span class="comment">// Not implemented mouse modes. See below.</span></div>
<div class="line"><span class="lineno">  235</span>                <span class="keywordflow">case</span> 1001: <span class="comment">// mouse highlight mode; can hang the terminal by design when implemented.</span></div>
<div class="line"><span class="lineno">  236</span>                <span class="keywordflow">case</span> 1005: <span class="comment">// UTF-8 mouse mode; will confuse applications not supporting UTF-8 and luit.</span></div>
<div class="line"><span class="lineno">  237</span>                <span class="keywordflow">case</span> 1015: <span class="comment">// urxvt mangled mouse mode; incompatible</span></div>
<div class="line"><span class="lineno">  238</span>                           <span class="comment">// and can be mistaken for other control</span></div>
<div class="line"><span class="lineno">  239</span>                           <span class="comment">// codes.</span></div>
<div class="line"><span class="lineno">  240</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  241</span>                <span class="keywordflow">default</span>:</div>
<div class="line"><span class="lineno">  242</span>                        m_nst.<a class="code hl_function" href="classnst_1_1Nst.html#ab424f4e9648090eff002fcffb91bd018">logger</a>().error() &lt;&lt; <span class="stringliteral">&quot;erresc: unknown private set/reset mode &quot;</span> &lt;&lt; arg &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line"><span class="lineno">  243</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  244</span>                }</div>
<div class="line"><span class="lineno">  245</span>        }</div>
<div class="line"><span class="lineno">  246</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="adb271d0524514cdcaa4a0cbeda5d8a8a" name="adb271d0524514cdcaa4a0cbeda5d8a8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb271d0524514cdcaa4a0cbeda5d8a8a">&#9670;&#160;</a></span>m_args</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; nst::CSIEscape::m_args</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Up to 16 integer parameters for the current CSI. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8hxx_source.html#l00105">105</a> of file <a class="el" href="CSIEscape_8hxx_source.html">CSIEscape.hxx</a>.</p>

</div>
</div>
<a id="a0adbfd5b61290b816c7ad71f30227527" name="a0adbfd5b61290b816c7ad71f30227527"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0adbfd5b61290b816c7ad71f30227527">&#9670;&#160;</a></span>m_is_private_csi</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool nst::CSIEscape::m_is_private_csi = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether a private CSI control was parsed. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8hxx_source.html#l00104">104</a> of file <a class="el" href="CSIEscape_8hxx_source.html">CSIEscape.hxx</a>.</p>

</div>
</div>
<a id="a4bf749997b8e38181673e1fe9b78ed05" name="a4bf749997b8e38181673e1fe9b78ed05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bf749997b8e38181673e1fe9b78ed05">&#9670;&#160;</a></span>m_mode_suffix</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string nst::CSIEscape::m_mode_suffix</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The intermediate and final characters of the sequence. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8hxx_source.html#l00106">106</a> of file <a class="el" href="CSIEscape_8hxx_source.html">CSIEscape.hxx</a>.</p>

</div>
</div>
<a id="a6daba336b97fcf2763d6b975fde6bc61" name="a6daba336b97fcf2763d6b975fde6bc61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6daba336b97fcf2763d6b975fde6bc61">&#9670;&#160;</a></span>m_nst</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classnst_1_1Nst.html">Nst</a>&amp; nst::CSIEscape::m_nst</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="CSIEscape_8hxx_source.html#l00109">109</a> of file <a class="el" href="CSIEscape_8hxx_source.html">CSIEscape.hxx</a>.</p>

</div>
</div>
<a id="a2e6a69e407b6f415812c87983ec13815" name="a2e6a69e407b6f415812c87983ec13815"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e6a69e407b6f415812c87983ec13815">&#9670;&#160;</a></span>m_str</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string nst::CSIEscape::m_str</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The raw escape sequence bytes collected so far. </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8hxx_source.html#l00103">103</a> of file <a class="el" href="CSIEscape_8hxx_source.html">CSIEscape.hxx</a>.</p>

</div>
</div>
<a id="ab9f758258e12ecba3b6cabbfdae00d71" name="ab9f758258e12ecba3b6cabbfdae00d71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9f758258e12ecba3b6cabbfdae00d71">&#9670;&#160;</a></span>MAX_ARG_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t nst::CSIEscape::MAX_ARG_SIZE = 16</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>maximum number of parameters for a CSI sequence </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8hxx_source.html#l00108">108</a> of file <a class="el" href="CSIEscape_8hxx_source.html">CSIEscape.hxx</a>.</p>

</div>
</div>
<a id="a92d65cc3e2f5b90bdde7bda5fc19b109" name="a92d65cc3e2f5b90bdde7bda5fc19b109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92d65cc3e2f5b90bdde7bda5fc19b109">&#9670;&#160;</a></span>MAX_STR_SIZE</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr size_t nst::CSIEscape::MAX_STR_SIZE = 128 * utf8::UTF_SIZE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>maximum length of a complete CSI sequence in characters </p>

<p class="definition">Definition at line <a class="el" href="CSIEscape_8hxx_source.html#l00107">107</a> of file <a class="el" href="CSIEscape_8hxx_source.html">CSIEscape.hxx</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>src/<a class="el" href="CSIEscape_8hxx_source.html">CSIEscape.hxx</a></li>
<li>src/<a class="el" href="CSIEscape_8cxx_source.html">CSIEscape.cxx</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>nst</b></li><li class="navelem"><a class="el" href="structnst_1_1CSIEscape.html">CSIEscape</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
