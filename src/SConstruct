Import('env')


env.Append(CPPPATH=['#/tclap/include'])
env.Append(CCFLAGS=['-DNST_VERSION=\\"1.0\\"'])

nst_env = env.Clone()
sources = nst_env.GatherSources(suffixes=[".cxx"], recursive=False)

nst_env.ConfigureForLib("libX++", sources)
nst_env.ConfigureForLib("libcosmos", sources)
nst_env.ConfigureForPackage(["xft", "freetype2", "fontconfig", "x11", "tclap"])

nst = nst_env.Program("nst", sources)

env['bins']['nst'] = nst
env.Alias("nst", nst)

msg_env = env.Clone()
sources = ["msg/main.cxx"]
msg_env.ConfigureForLib("libcosmos", sources)
msg_env.ConfigureForPackage(["tclap"])
msg_env.Append(CPPPATH=['#/src'])
nst_msg = msg_env.Program("nst-msg", sources)

env['bins']['nst-msg'] = nst_msg
env.Alias("nst-msg", nst_msg)
